# serializer version: 1
# name: test_combining_sequences
  '''
  {
    "lc": 1,
    "type": "constructor",
    "id": [
      "langchain",
      "schema",
      "runnable",
      "RunnableSequence"
    ],
    "kwargs": {
      "first": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "prompts",
          "chat",
          "ChatPromptTemplate"
        ],
        "kwargs": {
          "messages": [
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "SystemMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [],
                    "template": "You are a nice assistant.",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {}
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            },
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "HumanMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [
                      "question"
                    ],
                    "template": "{question}",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {
                            "question": {
                              "title": "Question",
                              "type": "string"
                            }
                          }
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            }
          ],
          "input_variables": [
            "question"
          ]
        },
        "name": "ChatPromptTemplate",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "PromptInput",
                "type": "object",
                "properties": {
                  "question": {
                    "title": "Question",
                    "type": "string"
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain",
                  "prompts",
                  "chat",
                  "ChatPromptTemplate"
                ],
                "name": "ChatPromptTemplate"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "ChatPromptTemplateOutput",
                "anyOf": [
                  {
                    "$ref": "#/definitions/StringPromptValue"
                  },
                  {
                    "$ref": "#/definitions/ChatPromptValueConcrete"
                  }
                ],
                "definitions": {
                  "StringPromptValue": {
                    "title": "StringPromptValue",
                    "description": "String prompt value.",
                    "type": "object",
                    "properties": {
                      "text": {
                        "title": "Text",
                        "type": "string"
                      },
                      "type": {
                        "title": "Type",
                        "default": "StringPromptValue",
                        "enum": [
                          "StringPromptValue"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "text"
                    ]
                  },
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  },
                  "ChatPromptValueConcrete": {
                    "title": "ChatPromptValueConcrete",
                    "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                    "type": "object",
                    "properties": {
                      "messages": {
                        "title": "Messages",
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/AIMessage"
                            },
                            {
                              "$ref": "#/definitions/HumanMessage"
                            },
                            {
                              "$ref": "#/definitions/ChatMessage"
                            },
                            {
                              "$ref": "#/definitions/SystemMessage"
                            },
                            {
                              "$ref": "#/definitions/FunctionMessage"
                            },
                            {
                              "$ref": "#/definitions/ToolMessage"
                            }
                          ]
                        }
                      },
                      "type": {
                        "title": "Type",
                        "default": "ChatPromptValueConcrete",
                        "enum": [
                          "ChatPromptValueConcrete"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "messages"
                    ]
                  }
                }
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "middle": [
        {
          "lc": 1,
          "type": "not_implemented",
          "id": [
            "tests",
            "unit_tests",
            "fake",
            "chat_model",
            "FakeListChatModel"
          ],
          "repr": "FakeListChatModel(responses=['foo, bar'])",
          "name": "FakeListChatModel",
          "graph": {
            "nodes": [
              {
                "id": 0,
                "type": "schema",
                "data": {
                  "title": "FakeListChatModelInput",
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/definitions/StringPromptValue"
                    },
                    {
                      "$ref": "#/definitions/ChatPromptValueConcrete"
                    },
                    {
                      "type": "array",
                      "items": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/AIMessage"
                          },
                          {
                            "$ref": "#/definitions/HumanMessage"
                          },
                          {
                            "$ref": "#/definitions/ChatMessage"
                          },
                          {
                            "$ref": "#/definitions/SystemMessage"
                          },
                          {
                            "$ref": "#/definitions/FunctionMessage"
                          },
                          {
                            "$ref": "#/definitions/ToolMessage"
                          }
                        ]
                      }
                    }
                  ],
                  "definitions": {
                    "StringPromptValue": {
                      "title": "StringPromptValue",
                      "description": "String prompt value.",
                      "type": "object",
                      "properties": {
                        "text": {
                          "title": "Text",
                          "type": "string"
                        },
                        "type": {
                          "title": "Type",
                          "default": "StringPromptValue",
                          "enum": [
                            "StringPromptValue"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "text"
                      ]
                    },
                    "AIMessage": {
                      "title": "AIMessage",
                      "description": "Message from an AI.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "ai",
                          "enum": [
                            "ai"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "HumanMessage": {
                      "title": "HumanMessage",
                      "description": "Message from a human.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "human",
                          "enum": [
                            "human"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "ChatMessage": {
                      "title": "ChatMessage",
                      "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "chat",
                          "enum": [
                            "chat"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "role": {
                          "title": "Role",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "role"
                      ]
                    },
                    "SystemMessage": {
                      "title": "SystemMessage",
                      "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "system",
                          "enum": [
                            "system"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "FunctionMessage": {
                      "title": "FunctionMessage",
                      "description": "Message for passing the result of executing a function back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "function",
                          "enum": [
                            "function"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "name"
                      ]
                    },
                    "ToolMessage": {
                      "title": "ToolMessage",
                      "description": "Message for passing the result of executing a tool back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "tool",
                          "enum": [
                            "tool"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "tool_call_id": {
                          "title": "Tool Call Id",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "tool_call_id"
                      ]
                    },
                    "ChatPromptValueConcrete": {
                      "title": "ChatPromptValueConcrete",
                      "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                      "type": "object",
                      "properties": {
                        "messages": {
                          "title": "Messages",
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "$ref": "#/definitions/AIMessage"
                              },
                              {
                                "$ref": "#/definitions/HumanMessage"
                              },
                              {
                                "$ref": "#/definitions/ChatMessage"
                              },
                              {
                                "$ref": "#/definitions/SystemMessage"
                              },
                              {
                                "$ref": "#/definitions/FunctionMessage"
                              },
                              {
                                "$ref": "#/definitions/ToolMessage"
                              }
                            ]
                          }
                        },
                        "type": {
                          "title": "Type",
                          "default": "ChatPromptValueConcrete",
                          "enum": [
                            "ChatPromptValueConcrete"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "messages"
                      ]
                    }
                  }
                }
              },
              {
                "id": 1,
                "type": "runnable",
                "data": {
                  "id": [
                    "tests",
                    "unit_tests",
                    "fake",
                    "chat_model",
                    "FakeListChatModel"
                  ],
                  "name": "FakeListChatModel"
                }
              },
              {
                "id": 2,
                "type": "schema",
                "data": {
                  "title": "FakeListChatModelOutput",
                  "anyOf": [
                    {
                      "$ref": "#/definitions/AIMessage"
                    },
                    {
                      "$ref": "#/definitions/HumanMessage"
                    },
                    {
                      "$ref": "#/definitions/ChatMessage"
                    },
                    {
                      "$ref": "#/definitions/SystemMessage"
                    },
                    {
                      "$ref": "#/definitions/FunctionMessage"
                    },
                    {
                      "$ref": "#/definitions/ToolMessage"
                    }
                  ],
                  "definitions": {
                    "AIMessage": {
                      "title": "AIMessage",
                      "description": "Message from an AI.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "ai",
                          "enum": [
                            "ai"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "HumanMessage": {
                      "title": "HumanMessage",
                      "description": "Message from a human.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "human",
                          "enum": [
                            "human"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "ChatMessage": {
                      "title": "ChatMessage",
                      "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "chat",
                          "enum": [
                            "chat"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "role": {
                          "title": "Role",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "role"
                      ]
                    },
                    "SystemMessage": {
                      "title": "SystemMessage",
                      "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "system",
                          "enum": [
                            "system"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "FunctionMessage": {
                      "title": "FunctionMessage",
                      "description": "Message for passing the result of executing a function back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "function",
                          "enum": [
                            "function"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "name"
                      ]
                    },
                    "ToolMessage": {
                      "title": "ToolMessage",
                      "description": "Message for passing the result of executing a tool back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "tool",
                          "enum": [
                            "tool"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "tool_call_id": {
                          "title": "Tool Call Id",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "tool_call_id"
                      ]
                    }
                  }
                }
              }
            ],
            "edges": [
              {
                "source": 0,
                "target": 1
              },
              {
                "source": 1,
                "target": 2
              }
            ]
          }
        }
      ],
      "last": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "output_parsers",
          "list",
          "CommaSeparatedListOutputParser"
        ],
        "kwargs": {},
        "name": "CommaSeparatedListOutputParser",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "CommaSeparatedListOutputParserInput",
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/definitions/AIMessage"
                  },
                  {
                    "$ref": "#/definitions/HumanMessage"
                  },
                  {
                    "$ref": "#/definitions/ChatMessage"
                  },
                  {
                    "$ref": "#/definitions/SystemMessage"
                  },
                  {
                    "$ref": "#/definitions/FunctionMessage"
                  },
                  {
                    "$ref": "#/definitions/ToolMessage"
                  }
                ],
                "definitions": {
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain",
                  "output_parsers",
                  "list",
                  "CommaSeparatedListOutputParser"
                ],
                "name": "CommaSeparatedListOutputParser"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "CommaSeparatedListOutputParserOutput",
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "name": null
    },
    "name": "RunnableSequence",
    "graph": {
      "nodes": [
        {
          "id": 0,
          "type": "schema",
          "data": {
            "title": "PromptInput",
            "type": "object",
            "properties": {
              "question": {
                "title": "Question",
                "type": "string"
              }
            }
          }
        },
        {
          "id": 1,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "prompts",
              "chat",
              "ChatPromptTemplate"
            ],
            "name": "ChatPromptTemplate"
          }
        },
        {
          "id": 2,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "fake",
              "chat_model",
              "FakeListChatModel"
            ],
            "name": "FakeListChatModel"
          }
        },
        {
          "id": 3,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "output_parsers",
              "list",
              "CommaSeparatedListOutputParser"
            ],
            "name": "CommaSeparatedListOutputParser"
          }
        },
        {
          "id": 4,
          "type": "schema",
          "data": {
            "title": "CommaSeparatedListOutputParserOutput",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      ],
      "edges": [
        {
          "source": 0,
          "target": 1
        },
        {
          "source": 1,
          "target": 2
        },
        {
          "source": 3,
          "target": 4
        },
        {
          "source": 2,
          "target": 3
        }
      ]
    }
  }
  '''
# ---
# name: test_combining_sequences.1
  '''
  {
    "lc": 1,
    "type": "constructor",
    "id": [
      "langchain",
      "schema",
      "runnable",
      "RunnableSequence"
    ],
    "kwargs": {
      "first": {
        "lc": 1,
        "type": "not_implemented",
        "id": [
          "langchain_core",
          "runnables",
          "base",
          "RunnableLambda"
        ],
        "repr": "RunnableLambda(lambda x: {'question': x[0] + x[1]})"
      },
      "middle": [
        {
          "lc": 1,
          "type": "constructor",
          "id": [
            "langchain",
            "prompts",
            "chat",
            "ChatPromptTemplate"
          ],
          "kwargs": {
            "messages": [
              {
                "lc": 1,
                "type": "constructor",
                "id": [
                  "langchain",
                  "prompts",
                  "chat",
                  "SystemMessagePromptTemplate"
                ],
                "kwargs": {
                  "prompt": {
                    "lc": 1,
                    "type": "constructor",
                    "id": [
                      "langchain",
                      "prompts",
                      "prompt",
                      "PromptTemplate"
                    ],
                    "kwargs": {
                      "input_variables": [],
                      "template": "You are a nicer assistant.",
                      "template_format": "f-string",
                      "partial_variables": {}
                    },
                    "name": "PromptTemplate",
                    "graph": {
                      "nodes": [
                        {
                          "id": 0,
                          "type": "schema",
                          "data": {
                            "title": "PromptInput",
                            "type": "object",
                            "properties": {}
                          }
                        },
                        {
                          "id": 1,
                          "type": "runnable",
                          "data": {
                            "id": [
                              "langchain",
                              "prompts",
                              "prompt",
                              "PromptTemplate"
                            ],
                            "name": "PromptTemplate"
                          }
                        },
                        {
                          "id": 2,
                          "type": "schema",
                          "data": {
                            "title": "PromptTemplateOutput",
                            "anyOf": [
                              {
                                "$ref": "#/definitions/StringPromptValue"
                              },
                              {
                                "$ref": "#/definitions/ChatPromptValueConcrete"
                              }
                            ],
                            "definitions": {
                              "StringPromptValue": {
                                "title": "StringPromptValue",
                                "description": "String prompt value.",
                                "type": "object",
                                "properties": {
                                  "text": {
                                    "title": "Text",
                                    "type": "string"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "StringPromptValue",
                                    "enum": [
                                      "StringPromptValue"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "text"
                                ]
                              },
                              "AIMessage": {
                                "title": "AIMessage",
                                "description": "Message from an AI.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "ai",
                                    "enum": [
                                      "ai"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "example": {
                                    "title": "Example",
                                    "default": false,
                                    "type": "boolean"
                                  }
                                },
                                "required": [
                                  "content"
                                ]
                              },
                              "HumanMessage": {
                                "title": "HumanMessage",
                                "description": "Message from a human.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "human",
                                    "enum": [
                                      "human"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "example": {
                                    "title": "Example",
                                    "default": false,
                                    "type": "boolean"
                                  }
                                },
                                "required": [
                                  "content"
                                ]
                              },
                              "ChatMessage": {
                                "title": "ChatMessage",
                                "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "chat",
                                    "enum": [
                                      "chat"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "role": {
                                    "title": "Role",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content",
                                  "role"
                                ]
                              },
                              "SystemMessage": {
                                "title": "SystemMessage",
                                "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "system",
                                    "enum": [
                                      "system"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content"
                                ]
                              },
                              "FunctionMessage": {
                                "title": "FunctionMessage",
                                "description": "Message for passing the result of executing a function back to a model.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "function",
                                    "enum": [
                                      "function"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content",
                                  "name"
                                ]
                              },
                              "ToolMessage": {
                                "title": "ToolMessage",
                                "description": "Message for passing the result of executing a tool back to a model.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "tool",
                                    "enum": [
                                      "tool"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "tool_call_id": {
                                    "title": "Tool Call Id",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content",
                                  "tool_call_id"
                                ]
                              },
                              "ChatPromptValueConcrete": {
                                "title": "ChatPromptValueConcrete",
                                "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                                "type": "object",
                                "properties": {
                                  "messages": {
                                    "title": "Messages",
                                    "type": "array",
                                    "items": {
                                      "anyOf": [
                                        {
                                          "$ref": "#/definitions/AIMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/HumanMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/ChatMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/SystemMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/FunctionMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/ToolMessage"
                                        }
                                      ]
                                    }
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "ChatPromptValueConcrete",
                                    "enum": [
                                      "ChatPromptValueConcrete"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "messages"
                                ]
                              }
                            }
                          }
                        }
                      ],
                      "edges": [
                        {
                          "source": 0,
                          "target": 1
                        },
                        {
                          "source": 1,
                          "target": 2
                        }
                      ]
                    }
                  }
                }
              },
              {
                "lc": 1,
                "type": "constructor",
                "id": [
                  "langchain",
                  "prompts",
                  "chat",
                  "HumanMessagePromptTemplate"
                ],
                "kwargs": {
                  "prompt": {
                    "lc": 1,
                    "type": "constructor",
                    "id": [
                      "langchain",
                      "prompts",
                      "prompt",
                      "PromptTemplate"
                    ],
                    "kwargs": {
                      "input_variables": [
                        "question"
                      ],
                      "template": "{question}",
                      "template_format": "f-string",
                      "partial_variables": {}
                    },
                    "name": "PromptTemplate",
                    "graph": {
                      "nodes": [
                        {
                          "id": 0,
                          "type": "schema",
                          "data": {
                            "title": "PromptInput",
                            "type": "object",
                            "properties": {
                              "question": {
                                "title": "Question",
                                "type": "string"
                              }
                            }
                          }
                        },
                        {
                          "id": 1,
                          "type": "runnable",
                          "data": {
                            "id": [
                              "langchain",
                              "prompts",
                              "prompt",
                              "PromptTemplate"
                            ],
                            "name": "PromptTemplate"
                          }
                        },
                        {
                          "id": 2,
                          "type": "schema",
                          "data": {
                            "title": "PromptTemplateOutput",
                            "anyOf": [
                              {
                                "$ref": "#/definitions/StringPromptValue"
                              },
                              {
                                "$ref": "#/definitions/ChatPromptValueConcrete"
                              }
                            ],
                            "definitions": {
                              "StringPromptValue": {
                                "title": "StringPromptValue",
                                "description": "String prompt value.",
                                "type": "object",
                                "properties": {
                                  "text": {
                                    "title": "Text",
                                    "type": "string"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "StringPromptValue",
                                    "enum": [
                                      "StringPromptValue"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "text"
                                ]
                              },
                              "AIMessage": {
                                "title": "AIMessage",
                                "description": "Message from an AI.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "ai",
                                    "enum": [
                                      "ai"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "example": {
                                    "title": "Example",
                                    "default": false,
                                    "type": "boolean"
                                  }
                                },
                                "required": [
                                  "content"
                                ]
                              },
                              "HumanMessage": {
                                "title": "HumanMessage",
                                "description": "Message from a human.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "human",
                                    "enum": [
                                      "human"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "example": {
                                    "title": "Example",
                                    "default": false,
                                    "type": "boolean"
                                  }
                                },
                                "required": [
                                  "content"
                                ]
                              },
                              "ChatMessage": {
                                "title": "ChatMessage",
                                "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "chat",
                                    "enum": [
                                      "chat"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "role": {
                                    "title": "Role",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content",
                                  "role"
                                ]
                              },
                              "SystemMessage": {
                                "title": "SystemMessage",
                                "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "system",
                                    "enum": [
                                      "system"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content"
                                ]
                              },
                              "FunctionMessage": {
                                "title": "FunctionMessage",
                                "description": "Message for passing the result of executing a function back to a model.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "function",
                                    "enum": [
                                      "function"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content",
                                  "name"
                                ]
                              },
                              "ToolMessage": {
                                "title": "ToolMessage",
                                "description": "Message for passing the result of executing a tool back to a model.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "tool",
                                    "enum": [
                                      "tool"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "tool_call_id": {
                                    "title": "Tool Call Id",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content",
                                  "tool_call_id"
                                ]
                              },
                              "ChatPromptValueConcrete": {
                                "title": "ChatPromptValueConcrete",
                                "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                                "type": "object",
                                "properties": {
                                  "messages": {
                                    "title": "Messages",
                                    "type": "array",
                                    "items": {
                                      "anyOf": [
                                        {
                                          "$ref": "#/definitions/AIMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/HumanMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/ChatMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/SystemMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/FunctionMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/ToolMessage"
                                        }
                                      ]
                                    }
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "ChatPromptValueConcrete",
                                    "enum": [
                                      "ChatPromptValueConcrete"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "messages"
                                ]
                              }
                            }
                          }
                        }
                      ],
                      "edges": [
                        {
                          "source": 0,
                          "target": 1
                        },
                        {
                          "source": 1,
                          "target": 2
                        }
                      ]
                    }
                  }
                }
              }
            ],
            "input_variables": [
              "question"
            ]
          },
          "name": "ChatPromptTemplate",
          "graph": {
            "nodes": [
              {
                "id": 0,
                "type": "schema",
                "data": {
                  "title": "PromptInput",
                  "type": "object",
                  "properties": {
                    "question": {
                      "title": "Question",
                      "type": "string"
                    }
                  }
                }
              },
              {
                "id": 1,
                "type": "runnable",
                "data": {
                  "id": [
                    "langchain",
                    "prompts",
                    "chat",
                    "ChatPromptTemplate"
                  ],
                  "name": "ChatPromptTemplate"
                }
              },
              {
                "id": 2,
                "type": "schema",
                "data": {
                  "title": "ChatPromptTemplateOutput",
                  "anyOf": [
                    {
                      "$ref": "#/definitions/StringPromptValue"
                    },
                    {
                      "$ref": "#/definitions/ChatPromptValueConcrete"
                    }
                  ],
                  "definitions": {
                    "StringPromptValue": {
                      "title": "StringPromptValue",
                      "description": "String prompt value.",
                      "type": "object",
                      "properties": {
                        "text": {
                          "title": "Text",
                          "type": "string"
                        },
                        "type": {
                          "title": "Type",
                          "default": "StringPromptValue",
                          "enum": [
                            "StringPromptValue"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "text"
                      ]
                    },
                    "AIMessage": {
                      "title": "AIMessage",
                      "description": "Message from an AI.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "ai",
                          "enum": [
                            "ai"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "HumanMessage": {
                      "title": "HumanMessage",
                      "description": "Message from a human.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "human",
                          "enum": [
                            "human"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "ChatMessage": {
                      "title": "ChatMessage",
                      "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "chat",
                          "enum": [
                            "chat"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "role": {
                          "title": "Role",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "role"
                      ]
                    },
                    "SystemMessage": {
                      "title": "SystemMessage",
                      "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "system",
                          "enum": [
                            "system"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "FunctionMessage": {
                      "title": "FunctionMessage",
                      "description": "Message for passing the result of executing a function back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "function",
                          "enum": [
                            "function"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "name"
                      ]
                    },
                    "ToolMessage": {
                      "title": "ToolMessage",
                      "description": "Message for passing the result of executing a tool back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "tool",
                          "enum": [
                            "tool"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "tool_call_id": {
                          "title": "Tool Call Id",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "tool_call_id"
                      ]
                    },
                    "ChatPromptValueConcrete": {
                      "title": "ChatPromptValueConcrete",
                      "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                      "type": "object",
                      "properties": {
                        "messages": {
                          "title": "Messages",
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "$ref": "#/definitions/AIMessage"
                              },
                              {
                                "$ref": "#/definitions/HumanMessage"
                              },
                              {
                                "$ref": "#/definitions/ChatMessage"
                              },
                              {
                                "$ref": "#/definitions/SystemMessage"
                              },
                              {
                                "$ref": "#/definitions/FunctionMessage"
                              },
                              {
                                "$ref": "#/definitions/ToolMessage"
                              }
                            ]
                          }
                        },
                        "type": {
                          "title": "Type",
                          "default": "ChatPromptValueConcrete",
                          "enum": [
                            "ChatPromptValueConcrete"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "messages"
                      ]
                    }
                  }
                }
              }
            ],
            "edges": [
              {
                "source": 0,
                "target": 1
              },
              {
                "source": 1,
                "target": 2
              }
            ]
          }
        },
        {
          "lc": 1,
          "type": "not_implemented",
          "id": [
            "tests",
            "unit_tests",
            "fake",
            "chat_model",
            "FakeListChatModel"
          ],
          "repr": "FakeListChatModel(responses=['baz, qux'])",
          "name": "FakeListChatModel",
          "graph": {
            "nodes": [
              {
                "id": 0,
                "type": "schema",
                "data": {
                  "title": "FakeListChatModelInput",
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/definitions/StringPromptValue"
                    },
                    {
                      "$ref": "#/definitions/ChatPromptValueConcrete"
                    },
                    {
                      "type": "array",
                      "items": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/AIMessage"
                          },
                          {
                            "$ref": "#/definitions/HumanMessage"
                          },
                          {
                            "$ref": "#/definitions/ChatMessage"
                          },
                          {
                            "$ref": "#/definitions/SystemMessage"
                          },
                          {
                            "$ref": "#/definitions/FunctionMessage"
                          },
                          {
                            "$ref": "#/definitions/ToolMessage"
                          }
                        ]
                      }
                    }
                  ],
                  "definitions": {
                    "StringPromptValue": {
                      "title": "StringPromptValue",
                      "description": "String prompt value.",
                      "type": "object",
                      "properties": {
                        "text": {
                          "title": "Text",
                          "type": "string"
                        },
                        "type": {
                          "title": "Type",
                          "default": "StringPromptValue",
                          "enum": [
                            "StringPromptValue"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "text"
                      ]
                    },
                    "AIMessage": {
                      "title": "AIMessage",
                      "description": "Message from an AI.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "ai",
                          "enum": [
                            "ai"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "HumanMessage": {
                      "title": "HumanMessage",
                      "description": "Message from a human.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "human",
                          "enum": [
                            "human"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "ChatMessage": {
                      "title": "ChatMessage",
                      "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "chat",
                          "enum": [
                            "chat"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "role": {
                          "title": "Role",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "role"
                      ]
                    },
                    "SystemMessage": {
                      "title": "SystemMessage",
                      "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "system",
                          "enum": [
                            "system"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "FunctionMessage": {
                      "title": "FunctionMessage",
                      "description": "Message for passing the result of executing a function back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "function",
                          "enum": [
                            "function"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "name"
                      ]
                    },
                    "ToolMessage": {
                      "title": "ToolMessage",
                      "description": "Message for passing the result of executing a tool back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "tool",
                          "enum": [
                            "tool"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "tool_call_id": {
                          "title": "Tool Call Id",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "tool_call_id"
                      ]
                    },
                    "ChatPromptValueConcrete": {
                      "title": "ChatPromptValueConcrete",
                      "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                      "type": "object",
                      "properties": {
                        "messages": {
                          "title": "Messages",
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "$ref": "#/definitions/AIMessage"
                              },
                              {
                                "$ref": "#/definitions/HumanMessage"
                              },
                              {
                                "$ref": "#/definitions/ChatMessage"
                              },
                              {
                                "$ref": "#/definitions/SystemMessage"
                              },
                              {
                                "$ref": "#/definitions/FunctionMessage"
                              },
                              {
                                "$ref": "#/definitions/ToolMessage"
                              }
                            ]
                          }
                        },
                        "type": {
                          "title": "Type",
                          "default": "ChatPromptValueConcrete",
                          "enum": [
                            "ChatPromptValueConcrete"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "messages"
                      ]
                    }
                  }
                }
              },
              {
                "id": 1,
                "type": "runnable",
                "data": {
                  "id": [
                    "tests",
                    "unit_tests",
                    "fake",
                    "chat_model",
                    "FakeListChatModel"
                  ],
                  "name": "FakeListChatModel"
                }
              },
              {
                "id": 2,
                "type": "schema",
                "data": {
                  "title": "FakeListChatModelOutput",
                  "anyOf": [
                    {
                      "$ref": "#/definitions/AIMessage"
                    },
                    {
                      "$ref": "#/definitions/HumanMessage"
                    },
                    {
                      "$ref": "#/definitions/ChatMessage"
                    },
                    {
                      "$ref": "#/definitions/SystemMessage"
                    },
                    {
                      "$ref": "#/definitions/FunctionMessage"
                    },
                    {
                      "$ref": "#/definitions/ToolMessage"
                    }
                  ],
                  "definitions": {
                    "AIMessage": {
                      "title": "AIMessage",
                      "description": "Message from an AI.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "ai",
                          "enum": [
                            "ai"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "HumanMessage": {
                      "title": "HumanMessage",
                      "description": "Message from a human.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "human",
                          "enum": [
                            "human"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "ChatMessage": {
                      "title": "ChatMessage",
                      "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "chat",
                          "enum": [
                            "chat"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "role": {
                          "title": "Role",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "role"
                      ]
                    },
                    "SystemMessage": {
                      "title": "SystemMessage",
                      "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "system",
                          "enum": [
                            "system"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "FunctionMessage": {
                      "title": "FunctionMessage",
                      "description": "Message for passing the result of executing a function back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "function",
                          "enum": [
                            "function"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "name"
                      ]
                    },
                    "ToolMessage": {
                      "title": "ToolMessage",
                      "description": "Message for passing the result of executing a tool back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "tool",
                          "enum": [
                            "tool"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "tool_call_id": {
                          "title": "Tool Call Id",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "tool_call_id"
                      ]
                    }
                  }
                }
              }
            ],
            "edges": [
              {
                "source": 0,
                "target": 1
              },
              {
                "source": 1,
                "target": 2
              }
            ]
          }
        }
      ],
      "last": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "output_parsers",
          "list",
          "CommaSeparatedListOutputParser"
        ],
        "kwargs": {},
        "name": "CommaSeparatedListOutputParser",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "CommaSeparatedListOutputParserInput",
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/definitions/AIMessage"
                  },
                  {
                    "$ref": "#/definitions/HumanMessage"
                  },
                  {
                    "$ref": "#/definitions/ChatMessage"
                  },
                  {
                    "$ref": "#/definitions/SystemMessage"
                  },
                  {
                    "$ref": "#/definitions/FunctionMessage"
                  },
                  {
                    "$ref": "#/definitions/ToolMessage"
                  }
                ],
                "definitions": {
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain",
                  "output_parsers",
                  "list",
                  "CommaSeparatedListOutputParser"
                ],
                "name": "CommaSeparatedListOutputParser"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "CommaSeparatedListOutputParserOutput",
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "name": null
    },
    "name": "RunnableSequence",
    "graph": {
      "nodes": [
        {
          "id": 0,
          "type": "schema",
          "data": {
            "title": "RunnableLambdaInput"
          }
        },
        {
          "id": 1,
          "type": "runnable",
          "data": {
            "id": [
              "langchain_core",
              "runnables",
              "base",
              "RunnableLambda"
            ],
            "name": "RunnableLambda"
          }
        },
        {
          "id": 2,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "prompts",
              "chat",
              "ChatPromptTemplate"
            ],
            "name": "ChatPromptTemplate"
          }
        },
        {
          "id": 3,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "fake",
              "chat_model",
              "FakeListChatModel"
            ],
            "name": "FakeListChatModel"
          }
        },
        {
          "id": 4,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "output_parsers",
              "list",
              "CommaSeparatedListOutputParser"
            ],
            "name": "CommaSeparatedListOutputParser"
          }
        },
        {
          "id": 5,
          "type": "schema",
          "data": {
            "title": "CommaSeparatedListOutputParserOutput",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      ],
      "edges": [
        {
          "source": 0,
          "target": 1
        },
        {
          "source": 1,
          "target": 2
        },
        {
          "source": 2,
          "target": 3
        },
        {
          "source": 4,
          "target": 5
        },
        {
          "source": 3,
          "target": 4
        }
      ]
    }
  }
  '''
# ---
# name: test_combining_sequences.2
  '''
  {
    "lc": 1,
    "type": "constructor",
    "id": [
      "langchain",
      "schema",
      "runnable",
      "RunnableSequence"
    ],
    "kwargs": {
      "first": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "prompts",
          "chat",
          "ChatPromptTemplate"
        ],
        "kwargs": {
          "messages": [
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "SystemMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [],
                    "template": "You are a nice assistant.",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {}
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            },
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "HumanMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [
                      "question"
                    ],
                    "template": "{question}",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {
                            "question": {
                              "title": "Question",
                              "type": "string"
                            }
                          }
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            }
          ],
          "input_variables": [
            "question"
          ]
        },
        "name": "ChatPromptTemplate",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "PromptInput",
                "type": "object",
                "properties": {
                  "question": {
                    "title": "Question",
                    "type": "string"
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain",
                  "prompts",
                  "chat",
                  "ChatPromptTemplate"
                ],
                "name": "ChatPromptTemplate"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "ChatPromptTemplateOutput",
                "anyOf": [
                  {
                    "$ref": "#/definitions/StringPromptValue"
                  },
                  {
                    "$ref": "#/definitions/ChatPromptValueConcrete"
                  }
                ],
                "definitions": {
                  "StringPromptValue": {
                    "title": "StringPromptValue",
                    "description": "String prompt value.",
                    "type": "object",
                    "properties": {
                      "text": {
                        "title": "Text",
                        "type": "string"
                      },
                      "type": {
                        "title": "Type",
                        "default": "StringPromptValue",
                        "enum": [
                          "StringPromptValue"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "text"
                    ]
                  },
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  },
                  "ChatPromptValueConcrete": {
                    "title": "ChatPromptValueConcrete",
                    "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                    "type": "object",
                    "properties": {
                      "messages": {
                        "title": "Messages",
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/AIMessage"
                            },
                            {
                              "$ref": "#/definitions/HumanMessage"
                            },
                            {
                              "$ref": "#/definitions/ChatMessage"
                            },
                            {
                              "$ref": "#/definitions/SystemMessage"
                            },
                            {
                              "$ref": "#/definitions/FunctionMessage"
                            },
                            {
                              "$ref": "#/definitions/ToolMessage"
                            }
                          ]
                        }
                      },
                      "type": {
                        "title": "Type",
                        "default": "ChatPromptValueConcrete",
                        "enum": [
                          "ChatPromptValueConcrete"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "messages"
                    ]
                  }
                }
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "middle": [
        {
          "lc": 1,
          "type": "not_implemented",
          "id": [
            "tests",
            "unit_tests",
            "fake",
            "chat_model",
            "FakeListChatModel"
          ],
          "repr": "FakeListChatModel(responses=['foo, bar'])",
          "name": "FakeListChatModel",
          "graph": {
            "nodes": [
              {
                "id": 0,
                "type": "schema",
                "data": {
                  "title": "FakeListChatModelInput",
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/definitions/StringPromptValue"
                    },
                    {
                      "$ref": "#/definitions/ChatPromptValueConcrete"
                    },
                    {
                      "type": "array",
                      "items": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/AIMessage"
                          },
                          {
                            "$ref": "#/definitions/HumanMessage"
                          },
                          {
                            "$ref": "#/definitions/ChatMessage"
                          },
                          {
                            "$ref": "#/definitions/SystemMessage"
                          },
                          {
                            "$ref": "#/definitions/FunctionMessage"
                          },
                          {
                            "$ref": "#/definitions/ToolMessage"
                          }
                        ]
                      }
                    }
                  ],
                  "definitions": {
                    "StringPromptValue": {
                      "title": "StringPromptValue",
                      "description": "String prompt value.",
                      "type": "object",
                      "properties": {
                        "text": {
                          "title": "Text",
                          "type": "string"
                        },
                        "type": {
                          "title": "Type",
                          "default": "StringPromptValue",
                          "enum": [
                            "StringPromptValue"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "text"
                      ]
                    },
                    "AIMessage": {
                      "title": "AIMessage",
                      "description": "Message from an AI.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "ai",
                          "enum": [
                            "ai"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "HumanMessage": {
                      "title": "HumanMessage",
                      "description": "Message from a human.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "human",
                          "enum": [
                            "human"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "ChatMessage": {
                      "title": "ChatMessage",
                      "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "chat",
                          "enum": [
                            "chat"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "role": {
                          "title": "Role",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "role"
                      ]
                    },
                    "SystemMessage": {
                      "title": "SystemMessage",
                      "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "system",
                          "enum": [
                            "system"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "FunctionMessage": {
                      "title": "FunctionMessage",
                      "description": "Message for passing the result of executing a function back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "function",
                          "enum": [
                            "function"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "name"
                      ]
                    },
                    "ToolMessage": {
                      "title": "ToolMessage",
                      "description": "Message for passing the result of executing a tool back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "tool",
                          "enum": [
                            "tool"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "tool_call_id": {
                          "title": "Tool Call Id",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "tool_call_id"
                      ]
                    },
                    "ChatPromptValueConcrete": {
                      "title": "ChatPromptValueConcrete",
                      "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                      "type": "object",
                      "properties": {
                        "messages": {
                          "title": "Messages",
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "$ref": "#/definitions/AIMessage"
                              },
                              {
                                "$ref": "#/definitions/HumanMessage"
                              },
                              {
                                "$ref": "#/definitions/ChatMessage"
                              },
                              {
                                "$ref": "#/definitions/SystemMessage"
                              },
                              {
                                "$ref": "#/definitions/FunctionMessage"
                              },
                              {
                                "$ref": "#/definitions/ToolMessage"
                              }
                            ]
                          }
                        },
                        "type": {
                          "title": "Type",
                          "default": "ChatPromptValueConcrete",
                          "enum": [
                            "ChatPromptValueConcrete"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "messages"
                      ]
                    }
                  }
                }
              },
              {
                "id": 1,
                "type": "runnable",
                "data": {
                  "id": [
                    "tests",
                    "unit_tests",
                    "fake",
                    "chat_model",
                    "FakeListChatModel"
                  ],
                  "name": "FakeListChatModel"
                }
              },
              {
                "id": 2,
                "type": "schema",
                "data": {
                  "title": "FakeListChatModelOutput",
                  "anyOf": [
                    {
                      "$ref": "#/definitions/AIMessage"
                    },
                    {
                      "$ref": "#/definitions/HumanMessage"
                    },
                    {
                      "$ref": "#/definitions/ChatMessage"
                    },
                    {
                      "$ref": "#/definitions/SystemMessage"
                    },
                    {
                      "$ref": "#/definitions/FunctionMessage"
                    },
                    {
                      "$ref": "#/definitions/ToolMessage"
                    }
                  ],
                  "definitions": {
                    "AIMessage": {
                      "title": "AIMessage",
                      "description": "Message from an AI.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "ai",
                          "enum": [
                            "ai"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "HumanMessage": {
                      "title": "HumanMessage",
                      "description": "Message from a human.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "human",
                          "enum": [
                            "human"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "ChatMessage": {
                      "title": "ChatMessage",
                      "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "chat",
                          "enum": [
                            "chat"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "role": {
                          "title": "Role",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "role"
                      ]
                    },
                    "SystemMessage": {
                      "title": "SystemMessage",
                      "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "system",
                          "enum": [
                            "system"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "FunctionMessage": {
                      "title": "FunctionMessage",
                      "description": "Message for passing the result of executing a function back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "function",
                          "enum": [
                            "function"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "name"
                      ]
                    },
                    "ToolMessage": {
                      "title": "ToolMessage",
                      "description": "Message for passing the result of executing a tool back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "tool",
                          "enum": [
                            "tool"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "tool_call_id": {
                          "title": "Tool Call Id",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "tool_call_id"
                      ]
                    }
                  }
                }
              }
            ],
            "edges": [
              {
                "source": 0,
                "target": 1
              },
              {
                "source": 1,
                "target": 2
              }
            ]
          }
        },
        {
          "lc": 1,
          "type": "constructor",
          "id": [
            "langchain",
            "output_parsers",
            "list",
            "CommaSeparatedListOutputParser"
          ],
          "kwargs": {},
          "name": "CommaSeparatedListOutputParser",
          "graph": {
            "nodes": [
              {
                "id": 0,
                "type": "schema",
                "data": {
                  "title": "CommaSeparatedListOutputParserInput",
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/definitions/AIMessage"
                    },
                    {
                      "$ref": "#/definitions/HumanMessage"
                    },
                    {
                      "$ref": "#/definitions/ChatMessage"
                    },
                    {
                      "$ref": "#/definitions/SystemMessage"
                    },
                    {
                      "$ref": "#/definitions/FunctionMessage"
                    },
                    {
                      "$ref": "#/definitions/ToolMessage"
                    }
                  ],
                  "definitions": {
                    "AIMessage": {
                      "title": "AIMessage",
                      "description": "Message from an AI.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "ai",
                          "enum": [
                            "ai"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "HumanMessage": {
                      "title": "HumanMessage",
                      "description": "Message from a human.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "human",
                          "enum": [
                            "human"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "ChatMessage": {
                      "title": "ChatMessage",
                      "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "chat",
                          "enum": [
                            "chat"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "role": {
                          "title": "Role",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "role"
                      ]
                    },
                    "SystemMessage": {
                      "title": "SystemMessage",
                      "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "system",
                          "enum": [
                            "system"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "FunctionMessage": {
                      "title": "FunctionMessage",
                      "description": "Message for passing the result of executing a function back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "function",
                          "enum": [
                            "function"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "name"
                      ]
                    },
                    "ToolMessage": {
                      "title": "ToolMessage",
                      "description": "Message for passing the result of executing a tool back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "tool",
                          "enum": [
                            "tool"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "tool_call_id": {
                          "title": "Tool Call Id",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "tool_call_id"
                      ]
                    }
                  }
                }
              },
              {
                "id": 1,
                "type": "runnable",
                "data": {
                  "id": [
                    "langchain",
                    "output_parsers",
                    "list",
                    "CommaSeparatedListOutputParser"
                  ],
                  "name": "CommaSeparatedListOutputParser"
                }
              },
              {
                "id": 2,
                "type": "schema",
                "data": {
                  "title": "CommaSeparatedListOutputParserOutput",
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            ],
            "edges": [
              {
                "source": 0,
                "target": 1
              },
              {
                "source": 1,
                "target": 2
              }
            ]
          }
        },
        {
          "lc": 1,
          "type": "not_implemented",
          "id": [
            "langchain_core",
            "runnables",
            "base",
            "RunnableLambda"
          ],
          "repr": "RunnableLambda(lambda x: {'question': x[0] + x[1]})"
        },
        {
          "lc": 1,
          "type": "constructor",
          "id": [
            "langchain",
            "prompts",
            "chat",
            "ChatPromptTemplate"
          ],
          "kwargs": {
            "messages": [
              {
                "lc": 1,
                "type": "constructor",
                "id": [
                  "langchain",
                  "prompts",
                  "chat",
                  "SystemMessagePromptTemplate"
                ],
                "kwargs": {
                  "prompt": {
                    "lc": 1,
                    "type": "constructor",
                    "id": [
                      "langchain",
                      "prompts",
                      "prompt",
                      "PromptTemplate"
                    ],
                    "kwargs": {
                      "input_variables": [],
                      "template": "You are a nicer assistant.",
                      "template_format": "f-string",
                      "partial_variables": {}
                    },
                    "name": "PromptTemplate",
                    "graph": {
                      "nodes": [
                        {
                          "id": 0,
                          "type": "schema",
                          "data": {
                            "title": "PromptInput",
                            "type": "object",
                            "properties": {}
                          }
                        },
                        {
                          "id": 1,
                          "type": "runnable",
                          "data": {
                            "id": [
                              "langchain",
                              "prompts",
                              "prompt",
                              "PromptTemplate"
                            ],
                            "name": "PromptTemplate"
                          }
                        },
                        {
                          "id": 2,
                          "type": "schema",
                          "data": {
                            "title": "PromptTemplateOutput",
                            "anyOf": [
                              {
                                "$ref": "#/definitions/StringPromptValue"
                              },
                              {
                                "$ref": "#/definitions/ChatPromptValueConcrete"
                              }
                            ],
                            "definitions": {
                              "StringPromptValue": {
                                "title": "StringPromptValue",
                                "description": "String prompt value.",
                                "type": "object",
                                "properties": {
                                  "text": {
                                    "title": "Text",
                                    "type": "string"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "StringPromptValue",
                                    "enum": [
                                      "StringPromptValue"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "text"
                                ]
                              },
                              "AIMessage": {
                                "title": "AIMessage",
                                "description": "Message from an AI.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "ai",
                                    "enum": [
                                      "ai"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "example": {
                                    "title": "Example",
                                    "default": false,
                                    "type": "boolean"
                                  }
                                },
                                "required": [
                                  "content"
                                ]
                              },
                              "HumanMessage": {
                                "title": "HumanMessage",
                                "description": "Message from a human.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "human",
                                    "enum": [
                                      "human"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "example": {
                                    "title": "Example",
                                    "default": false,
                                    "type": "boolean"
                                  }
                                },
                                "required": [
                                  "content"
                                ]
                              },
                              "ChatMessage": {
                                "title": "ChatMessage",
                                "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "chat",
                                    "enum": [
                                      "chat"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "role": {
                                    "title": "Role",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content",
                                  "role"
                                ]
                              },
                              "SystemMessage": {
                                "title": "SystemMessage",
                                "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "system",
                                    "enum": [
                                      "system"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content"
                                ]
                              },
                              "FunctionMessage": {
                                "title": "FunctionMessage",
                                "description": "Message for passing the result of executing a function back to a model.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "function",
                                    "enum": [
                                      "function"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content",
                                  "name"
                                ]
                              },
                              "ToolMessage": {
                                "title": "ToolMessage",
                                "description": "Message for passing the result of executing a tool back to a model.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "tool",
                                    "enum": [
                                      "tool"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "tool_call_id": {
                                    "title": "Tool Call Id",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content",
                                  "tool_call_id"
                                ]
                              },
                              "ChatPromptValueConcrete": {
                                "title": "ChatPromptValueConcrete",
                                "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                                "type": "object",
                                "properties": {
                                  "messages": {
                                    "title": "Messages",
                                    "type": "array",
                                    "items": {
                                      "anyOf": [
                                        {
                                          "$ref": "#/definitions/AIMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/HumanMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/ChatMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/SystemMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/FunctionMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/ToolMessage"
                                        }
                                      ]
                                    }
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "ChatPromptValueConcrete",
                                    "enum": [
                                      "ChatPromptValueConcrete"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "messages"
                                ]
                              }
                            }
                          }
                        }
                      ],
                      "edges": [
                        {
                          "source": 0,
                          "target": 1
                        },
                        {
                          "source": 1,
                          "target": 2
                        }
                      ]
                    }
                  }
                }
              },
              {
                "lc": 1,
                "type": "constructor",
                "id": [
                  "langchain",
                  "prompts",
                  "chat",
                  "HumanMessagePromptTemplate"
                ],
                "kwargs": {
                  "prompt": {
                    "lc": 1,
                    "type": "constructor",
                    "id": [
                      "langchain",
                      "prompts",
                      "prompt",
                      "PromptTemplate"
                    ],
                    "kwargs": {
                      "input_variables": [
                        "question"
                      ],
                      "template": "{question}",
                      "template_format": "f-string",
                      "partial_variables": {}
                    },
                    "name": "PromptTemplate",
                    "graph": {
                      "nodes": [
                        {
                          "id": 0,
                          "type": "schema",
                          "data": {
                            "title": "PromptInput",
                            "type": "object",
                            "properties": {
                              "question": {
                                "title": "Question",
                                "type": "string"
                              }
                            }
                          }
                        },
                        {
                          "id": 1,
                          "type": "runnable",
                          "data": {
                            "id": [
                              "langchain",
                              "prompts",
                              "prompt",
                              "PromptTemplate"
                            ],
                            "name": "PromptTemplate"
                          }
                        },
                        {
                          "id": 2,
                          "type": "schema",
                          "data": {
                            "title": "PromptTemplateOutput",
                            "anyOf": [
                              {
                                "$ref": "#/definitions/StringPromptValue"
                              },
                              {
                                "$ref": "#/definitions/ChatPromptValueConcrete"
                              }
                            ],
                            "definitions": {
                              "StringPromptValue": {
                                "title": "StringPromptValue",
                                "description": "String prompt value.",
                                "type": "object",
                                "properties": {
                                  "text": {
                                    "title": "Text",
                                    "type": "string"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "StringPromptValue",
                                    "enum": [
                                      "StringPromptValue"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "text"
                                ]
                              },
                              "AIMessage": {
                                "title": "AIMessage",
                                "description": "Message from an AI.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "ai",
                                    "enum": [
                                      "ai"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "example": {
                                    "title": "Example",
                                    "default": false,
                                    "type": "boolean"
                                  }
                                },
                                "required": [
                                  "content"
                                ]
                              },
                              "HumanMessage": {
                                "title": "HumanMessage",
                                "description": "Message from a human.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "human",
                                    "enum": [
                                      "human"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "example": {
                                    "title": "Example",
                                    "default": false,
                                    "type": "boolean"
                                  }
                                },
                                "required": [
                                  "content"
                                ]
                              },
                              "ChatMessage": {
                                "title": "ChatMessage",
                                "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "chat",
                                    "enum": [
                                      "chat"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "role": {
                                    "title": "Role",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content",
                                  "role"
                                ]
                              },
                              "SystemMessage": {
                                "title": "SystemMessage",
                                "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "system",
                                    "enum": [
                                      "system"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content"
                                ]
                              },
                              "FunctionMessage": {
                                "title": "FunctionMessage",
                                "description": "Message for passing the result of executing a function back to a model.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "function",
                                    "enum": [
                                      "function"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content",
                                  "name"
                                ]
                              },
                              "ToolMessage": {
                                "title": "ToolMessage",
                                "description": "Message for passing the result of executing a tool back to a model.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "tool",
                                    "enum": [
                                      "tool"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "tool_call_id": {
                                    "title": "Tool Call Id",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content",
                                  "tool_call_id"
                                ]
                              },
                              "ChatPromptValueConcrete": {
                                "title": "ChatPromptValueConcrete",
                                "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                                "type": "object",
                                "properties": {
                                  "messages": {
                                    "title": "Messages",
                                    "type": "array",
                                    "items": {
                                      "anyOf": [
                                        {
                                          "$ref": "#/definitions/AIMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/HumanMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/ChatMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/SystemMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/FunctionMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/ToolMessage"
                                        }
                                      ]
                                    }
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "ChatPromptValueConcrete",
                                    "enum": [
                                      "ChatPromptValueConcrete"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "messages"
                                ]
                              }
                            }
                          }
                        }
                      ],
                      "edges": [
                        {
                          "source": 0,
                          "target": 1
                        },
                        {
                          "source": 1,
                          "target": 2
                        }
                      ]
                    }
                  }
                }
              }
            ],
            "input_variables": [
              "question"
            ]
          },
          "name": "ChatPromptTemplate",
          "graph": {
            "nodes": [
              {
                "id": 0,
                "type": "schema",
                "data": {
                  "title": "PromptInput",
                  "type": "object",
                  "properties": {
                    "question": {
                      "title": "Question",
                      "type": "string"
                    }
                  }
                }
              },
              {
                "id": 1,
                "type": "runnable",
                "data": {
                  "id": [
                    "langchain",
                    "prompts",
                    "chat",
                    "ChatPromptTemplate"
                  ],
                  "name": "ChatPromptTemplate"
                }
              },
              {
                "id": 2,
                "type": "schema",
                "data": {
                  "title": "ChatPromptTemplateOutput",
                  "anyOf": [
                    {
                      "$ref": "#/definitions/StringPromptValue"
                    },
                    {
                      "$ref": "#/definitions/ChatPromptValueConcrete"
                    }
                  ],
                  "definitions": {
                    "StringPromptValue": {
                      "title": "StringPromptValue",
                      "description": "String prompt value.",
                      "type": "object",
                      "properties": {
                        "text": {
                          "title": "Text",
                          "type": "string"
                        },
                        "type": {
                          "title": "Type",
                          "default": "StringPromptValue",
                          "enum": [
                            "StringPromptValue"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "text"
                      ]
                    },
                    "AIMessage": {
                      "title": "AIMessage",
                      "description": "Message from an AI.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "ai",
                          "enum": [
                            "ai"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "HumanMessage": {
                      "title": "HumanMessage",
                      "description": "Message from a human.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "human",
                          "enum": [
                            "human"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "ChatMessage": {
                      "title": "ChatMessage",
                      "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "chat",
                          "enum": [
                            "chat"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "role": {
                          "title": "Role",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "role"
                      ]
                    },
                    "SystemMessage": {
                      "title": "SystemMessage",
                      "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "system",
                          "enum": [
                            "system"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "FunctionMessage": {
                      "title": "FunctionMessage",
                      "description": "Message for passing the result of executing a function back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "function",
                          "enum": [
                            "function"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "name"
                      ]
                    },
                    "ToolMessage": {
                      "title": "ToolMessage",
                      "description": "Message for passing the result of executing a tool back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "tool",
                          "enum": [
                            "tool"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "tool_call_id": {
                          "title": "Tool Call Id",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "tool_call_id"
                      ]
                    },
                    "ChatPromptValueConcrete": {
                      "title": "ChatPromptValueConcrete",
                      "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                      "type": "object",
                      "properties": {
                        "messages": {
                          "title": "Messages",
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "$ref": "#/definitions/AIMessage"
                              },
                              {
                                "$ref": "#/definitions/HumanMessage"
                              },
                              {
                                "$ref": "#/definitions/ChatMessage"
                              },
                              {
                                "$ref": "#/definitions/SystemMessage"
                              },
                              {
                                "$ref": "#/definitions/FunctionMessage"
                              },
                              {
                                "$ref": "#/definitions/ToolMessage"
                              }
                            ]
                          }
                        },
                        "type": {
                          "title": "Type",
                          "default": "ChatPromptValueConcrete",
                          "enum": [
                            "ChatPromptValueConcrete"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "messages"
                      ]
                    }
                  }
                }
              }
            ],
            "edges": [
              {
                "source": 0,
                "target": 1
              },
              {
                "source": 1,
                "target": 2
              }
            ]
          }
        },
        {
          "lc": 1,
          "type": "not_implemented",
          "id": [
            "tests",
            "unit_tests",
            "fake",
            "chat_model",
            "FakeListChatModel"
          ],
          "repr": "FakeListChatModel(responses=['baz, qux'])",
          "name": "FakeListChatModel",
          "graph": {
            "nodes": [
              {
                "id": 0,
                "type": "schema",
                "data": {
                  "title": "FakeListChatModelInput",
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/definitions/StringPromptValue"
                    },
                    {
                      "$ref": "#/definitions/ChatPromptValueConcrete"
                    },
                    {
                      "type": "array",
                      "items": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/AIMessage"
                          },
                          {
                            "$ref": "#/definitions/HumanMessage"
                          },
                          {
                            "$ref": "#/definitions/ChatMessage"
                          },
                          {
                            "$ref": "#/definitions/SystemMessage"
                          },
                          {
                            "$ref": "#/definitions/FunctionMessage"
                          },
                          {
                            "$ref": "#/definitions/ToolMessage"
                          }
                        ]
                      }
                    }
                  ],
                  "definitions": {
                    "StringPromptValue": {
                      "title": "StringPromptValue",
                      "description": "String prompt value.",
                      "type": "object",
                      "properties": {
                        "text": {
                          "title": "Text",
                          "type": "string"
                        },
                        "type": {
                          "title": "Type",
                          "default": "StringPromptValue",
                          "enum": [
                            "StringPromptValue"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "text"
                      ]
                    },
                    "AIMessage": {
                      "title": "AIMessage",
                      "description": "Message from an AI.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "ai",
                          "enum": [
                            "ai"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "HumanMessage": {
                      "title": "HumanMessage",
                      "description": "Message from a human.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "human",
                          "enum": [
                            "human"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "ChatMessage": {
                      "title": "ChatMessage",
                      "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "chat",
                          "enum": [
                            "chat"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "role": {
                          "title": "Role",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "role"
                      ]
                    },
                    "SystemMessage": {
                      "title": "SystemMessage",
                      "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "system",
                          "enum": [
                            "system"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "FunctionMessage": {
                      "title": "FunctionMessage",
                      "description": "Message for passing the result of executing a function back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "function",
                          "enum": [
                            "function"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "name"
                      ]
                    },
                    "ToolMessage": {
                      "title": "ToolMessage",
                      "description": "Message for passing the result of executing a tool back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "tool",
                          "enum": [
                            "tool"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "tool_call_id": {
                          "title": "Tool Call Id",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "tool_call_id"
                      ]
                    },
                    "ChatPromptValueConcrete": {
                      "title": "ChatPromptValueConcrete",
                      "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                      "type": "object",
                      "properties": {
                        "messages": {
                          "title": "Messages",
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "$ref": "#/definitions/AIMessage"
                              },
                              {
                                "$ref": "#/definitions/HumanMessage"
                              },
                              {
                                "$ref": "#/definitions/ChatMessage"
                              },
                              {
                                "$ref": "#/definitions/SystemMessage"
                              },
                              {
                                "$ref": "#/definitions/FunctionMessage"
                              },
                              {
                                "$ref": "#/definitions/ToolMessage"
                              }
                            ]
                          }
                        },
                        "type": {
                          "title": "Type",
                          "default": "ChatPromptValueConcrete",
                          "enum": [
                            "ChatPromptValueConcrete"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "messages"
                      ]
                    }
                  }
                }
              },
              {
                "id": 1,
                "type": "runnable",
                "data": {
                  "id": [
                    "tests",
                    "unit_tests",
                    "fake",
                    "chat_model",
                    "FakeListChatModel"
                  ],
                  "name": "FakeListChatModel"
                }
              },
              {
                "id": 2,
                "type": "schema",
                "data": {
                  "title": "FakeListChatModelOutput",
                  "anyOf": [
                    {
                      "$ref": "#/definitions/AIMessage"
                    },
                    {
                      "$ref": "#/definitions/HumanMessage"
                    },
                    {
                      "$ref": "#/definitions/ChatMessage"
                    },
                    {
                      "$ref": "#/definitions/SystemMessage"
                    },
                    {
                      "$ref": "#/definitions/FunctionMessage"
                    },
                    {
                      "$ref": "#/definitions/ToolMessage"
                    }
                  ],
                  "definitions": {
                    "AIMessage": {
                      "title": "AIMessage",
                      "description": "Message from an AI.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "ai",
                          "enum": [
                            "ai"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "HumanMessage": {
                      "title": "HumanMessage",
                      "description": "Message from a human.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "human",
                          "enum": [
                            "human"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "ChatMessage": {
                      "title": "ChatMessage",
                      "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "chat",
                          "enum": [
                            "chat"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "role": {
                          "title": "Role",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "role"
                      ]
                    },
                    "SystemMessage": {
                      "title": "SystemMessage",
                      "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "system",
                          "enum": [
                            "system"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "FunctionMessage": {
                      "title": "FunctionMessage",
                      "description": "Message for passing the result of executing a function back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "function",
                          "enum": [
                            "function"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "name"
                      ]
                    },
                    "ToolMessage": {
                      "title": "ToolMessage",
                      "description": "Message for passing the result of executing a tool back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "tool",
                          "enum": [
                            "tool"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "tool_call_id": {
                          "title": "Tool Call Id",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "tool_call_id"
                      ]
                    }
                  }
                }
              }
            ],
            "edges": [
              {
                "source": 0,
                "target": 1
              },
              {
                "source": 1,
                "target": 2
              }
            ]
          }
        }
      ],
      "last": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "output_parsers",
          "list",
          "CommaSeparatedListOutputParser"
        ],
        "kwargs": {},
        "name": "CommaSeparatedListOutputParser",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "CommaSeparatedListOutputParserInput",
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/definitions/AIMessage"
                  },
                  {
                    "$ref": "#/definitions/HumanMessage"
                  },
                  {
                    "$ref": "#/definitions/ChatMessage"
                  },
                  {
                    "$ref": "#/definitions/SystemMessage"
                  },
                  {
                    "$ref": "#/definitions/FunctionMessage"
                  },
                  {
                    "$ref": "#/definitions/ToolMessage"
                  }
                ],
                "definitions": {
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain",
                  "output_parsers",
                  "list",
                  "CommaSeparatedListOutputParser"
                ],
                "name": "CommaSeparatedListOutputParser"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "CommaSeparatedListOutputParserOutput",
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "name": null
    },
    "name": "RunnableSequence",
    "graph": {
      "nodes": [
        {
          "id": 0,
          "type": "schema",
          "data": {
            "title": "PromptInput",
            "type": "object",
            "properties": {
              "question": {
                "title": "Question",
                "type": "string"
              }
            }
          }
        },
        {
          "id": 1,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "prompts",
              "chat",
              "ChatPromptTemplate"
            ],
            "name": "ChatPromptTemplate"
          }
        },
        {
          "id": 2,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "fake",
              "chat_model",
              "FakeListChatModel"
            ],
            "name": "FakeListChatModel"
          }
        },
        {
          "id": 3,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "output_parsers",
              "list",
              "CommaSeparatedListOutputParser"
            ],
            "name": "CommaSeparatedListOutputParser"
          }
        },
        {
          "id": 4,
          "type": "runnable",
          "data": {
            "id": [
              "langchain_core",
              "runnables",
              "base",
              "RunnableLambda"
            ],
            "name": "RunnableLambda"
          }
        },
        {
          "id": 5,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "prompts",
              "chat",
              "ChatPromptTemplate"
            ],
            "name": "ChatPromptTemplate"
          }
        },
        {
          "id": 6,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "fake",
              "chat_model",
              "FakeListChatModel"
            ],
            "name": "FakeListChatModel"
          }
        },
        {
          "id": 7,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "output_parsers",
              "list",
              "CommaSeparatedListOutputParser"
            ],
            "name": "CommaSeparatedListOutputParser"
          }
        },
        {
          "id": 8,
          "type": "schema",
          "data": {
            "title": "CommaSeparatedListOutputParserOutput",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      ],
      "edges": [
        {
          "source": 0,
          "target": 1
        },
        {
          "source": 1,
          "target": 2
        },
        {
          "source": 2,
          "target": 3
        },
        {
          "source": 3,
          "target": 4
        },
        {
          "source": 4,
          "target": 5
        },
        {
          "source": 5,
          "target": 6
        },
        {
          "source": 7,
          "target": 8
        },
        {
          "source": 6,
          "target": 7
        }
      ]
    }
  }
  '''
# ---
# name: test_combining_sequences.3
  list([
    Run(id=UUID('00000000-0000-4000-8000-000000000000'), name='RunnableSequence', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='chain', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'runnable', 'RunnableSequence'], 'kwargs': {'first': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'middle': [{'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'repr': "FakeListChatModel(responses=['foo, bar'])", 'name': 'FakeListChatModel', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeListChatModelInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'name': 'FakeListChatModel'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeListChatModelOutput', 'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'kwargs': {}, 'name': 'CommaSeparatedListOutputParser', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'name': 'CommaSeparatedListOutputParser'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserOutput', 'type': 'array', 'items': {'type': 'string'}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, {'lc': 1, 'type': 'not_implemented', 'id': ['langchain_core', 'runnables', 'base', 'RunnableLambda'], 'repr': "RunnableLambda(lambda x: {'question': x[0] + x[1]})"}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nicer assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, {'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'repr': "FakeListChatModel(responses=['baz, qux'])", 'name': 'FakeListChatModel', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeListChatModelInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'name': 'FakeListChatModel'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeListChatModelOutput', 'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}], 'last': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'kwargs': {}, 'name': 'CommaSeparatedListOutputParser', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'name': 'CommaSeparatedListOutputParser'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserOutput', 'type': 'array', 'items': {'type': 'string'}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'name': None}, 'name': 'RunnableSequence', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'name': 'FakeListChatModel'}}, {'id': 3, 'type': 'runnable', 'data': {'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'name': 'CommaSeparatedListOutputParser'}}, {'id': 4, 'type': 'runnable', 'data': {'id': ['langchain_core', 'runnables', 'base', 'RunnableLambda'], 'name': 'RunnableLambda'}}, {'id': 5, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 6, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'name': 'FakeListChatModel'}}, {'id': 7, 'type': 'runnable', 'data': {'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'name': 'CommaSeparatedListOutputParser'}}, {'id': 8, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserOutput', 'type': 'array', 'items': {'type': 'string'}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}, {'source': 2, 'target': 3}, {'source': 3, 'target': 4}, {'source': 4, 'target': 5}, {'source': 5, 'target': 6}, {'source': 7, 'target': 8}, {'source': 6, 'target': 7}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your name?'}, outputs={'output': ['baz', 'qux']}, reference_example_id=None, parent_run_id=None, tags=[], execution_order=None, child_execution_order=None, child_runs=[Run(id=UUID('00000000-0000-4000-8000-000000000001'), name='ChatPromptTemplate', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='prompt', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your name?'}, outputs={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptValue'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'SystemMessage'], 'kwargs': {'content': 'You are a nice assistant.', 'additional_kwargs': {}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'HumanMessage'], 'kwargs': {'content': 'What is your name?', 'additional_kwargs': {}}}]}}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:1'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000001'), Run(id=UUID('00000000-0000-4000-8000-000000000002'), name='FakeListChatModel', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='llm', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={'invocation_params': {'responses': ['foo, bar'], '_type': 'fake-list-chat-model', 'stop': None}, 'options': {'stop': None}, 'batch_size': 1}, error=None, serialized={'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'repr': "FakeListChatModel(responses=['foo, bar'])", 'name': 'FakeListChatModel', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeListChatModelInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'name': 'FakeListChatModel'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeListChatModelOutput', 'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'prompts': ['System: You are a nice assistant.\nHuman: What is your name?']}, outputs={'generations': [[{'text': 'foo, bar', 'generation_info': None, 'type': 'ChatGeneration', 'message': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'AIMessage'], 'kwargs': {'content': 'foo, bar'}}}]], 'llm_output': None, 'run': None}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:2'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000002'), Run(id=UUID('00000000-0000-4000-8000-000000000003'), name='CommaSeparatedListOutputParser', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='parser', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'kwargs': {}, 'name': 'CommaSeparatedListOutputParser', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'name': 'CommaSeparatedListOutputParser'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserOutput', 'type': 'array', 'items': {'type': 'string'}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'input': AIMessage(content='foo, bar')}, outputs={'output': ['foo', 'bar']}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:3'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000003'), Run(id=UUID('00000000-0000-4000-8000-000000000004'), name='RunnableLambda', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='chain', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'not_implemented', 'id': ['langchain_core', 'runnables', 'base', 'RunnableLambda'], 'repr': "RunnableLambda(lambda x: {'question': x[0] + x[1]})"}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'input': ['foo', 'bar']}, outputs={'question': 'foobar'}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:4'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000004'), Run(id=UUID('00000000-0000-4000-8000-000000000005'), name='ChatPromptTemplate', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='prompt', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nicer assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'foobar'}, outputs={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptValue'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'SystemMessage'], 'kwargs': {'content': 'You are a nicer assistant.', 'additional_kwargs': {}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'HumanMessage'], 'kwargs': {'content': 'foobar', 'additional_kwargs': {}}}]}}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:5'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000005'), Run(id=UUID('00000000-0000-4000-8000-000000000006'), name='FakeListChatModel', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='llm', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={'invocation_params': {'responses': ['baz, qux'], '_type': 'fake-list-chat-model', 'stop': None}, 'options': {'stop': None}, 'batch_size': 1}, error=None, serialized={'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'repr': "FakeListChatModel(responses=['baz, qux'])", 'name': 'FakeListChatModel', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeListChatModelInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'name': 'FakeListChatModel'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeListChatModelOutput', 'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'prompts': ['System: You are a nicer assistant.\nHuman: foobar']}, outputs={'generations': [[{'text': 'baz, qux', 'generation_info': None, 'type': 'ChatGeneration', 'message': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'AIMessage'], 'kwargs': {'content': 'baz, qux'}}}]], 'llm_output': None, 'run': None}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:6'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000006'), Run(id=UUID('00000000-0000-4000-8000-000000000007'), name='CommaSeparatedListOutputParser', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='parser', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'kwargs': {}, 'name': 'CommaSeparatedListOutputParser', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'name': 'CommaSeparatedListOutputParser'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserOutput', 'type': 'array', 'items': {'type': 'string'}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'input': AIMessage(content='baz, qux')}, outputs={'output': ['baz', 'qux']}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:7'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000007')], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000'),
  ])
# ---
# name: test_each
  '''
  {
    "lc": 1,
    "type": "constructor",
    "id": [
      "langchain",
      "schema",
      "runnable",
      "RunnableSequence"
    ],
    "kwargs": {
      "first": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "prompts",
          "chat",
          "ChatPromptTemplate"
        ],
        "kwargs": {
          "messages": [
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "SystemMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [],
                    "template": "You are a nice assistant.",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {}
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            },
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "HumanMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [
                      "question"
                    ],
                    "template": "{question}",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {
                            "question": {
                              "title": "Question",
                              "type": "string"
                            }
                          }
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            }
          ],
          "input_variables": [
            "question"
          ]
        },
        "name": "ChatPromptTemplate",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "PromptInput",
                "type": "object",
                "properties": {
                  "question": {
                    "title": "Question",
                    "type": "string"
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain",
                  "prompts",
                  "chat",
                  "ChatPromptTemplate"
                ],
                "name": "ChatPromptTemplate"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "ChatPromptTemplateOutput",
                "anyOf": [
                  {
                    "$ref": "#/definitions/StringPromptValue"
                  },
                  {
                    "$ref": "#/definitions/ChatPromptValueConcrete"
                  }
                ],
                "definitions": {
                  "StringPromptValue": {
                    "title": "StringPromptValue",
                    "description": "String prompt value.",
                    "type": "object",
                    "properties": {
                      "text": {
                        "title": "Text",
                        "type": "string"
                      },
                      "type": {
                        "title": "Type",
                        "default": "StringPromptValue",
                        "enum": [
                          "StringPromptValue"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "text"
                    ]
                  },
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  },
                  "ChatPromptValueConcrete": {
                    "title": "ChatPromptValueConcrete",
                    "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                    "type": "object",
                    "properties": {
                      "messages": {
                        "title": "Messages",
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/AIMessage"
                            },
                            {
                              "$ref": "#/definitions/HumanMessage"
                            },
                            {
                              "$ref": "#/definitions/ChatMessage"
                            },
                            {
                              "$ref": "#/definitions/SystemMessage"
                            },
                            {
                              "$ref": "#/definitions/FunctionMessage"
                            },
                            {
                              "$ref": "#/definitions/ToolMessage"
                            }
                          ]
                        }
                      },
                      "type": {
                        "title": "Type",
                        "default": "ChatPromptValueConcrete",
                        "enum": [
                          "ChatPromptValueConcrete"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "messages"
                    ]
                  }
                }
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "middle": [
        {
          "lc": 1,
          "type": "not_implemented",
          "id": [
            "tests",
            "unit_tests",
            "fake",
            "llm",
            "FakeStreamingListLLM"
          ],
          "repr": "FakeStreamingListLLM(responses=['first item, second item, third item'])",
          "name": "FakeStreamingListLLM",
          "graph": {
            "nodes": [
              {
                "id": 0,
                "type": "schema",
                "data": {
                  "title": "FakeStreamingListLLMInput",
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/definitions/StringPromptValue"
                    },
                    {
                      "$ref": "#/definitions/ChatPromptValueConcrete"
                    },
                    {
                      "type": "array",
                      "items": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/AIMessage"
                          },
                          {
                            "$ref": "#/definitions/HumanMessage"
                          },
                          {
                            "$ref": "#/definitions/ChatMessage"
                          },
                          {
                            "$ref": "#/definitions/SystemMessage"
                          },
                          {
                            "$ref": "#/definitions/FunctionMessage"
                          },
                          {
                            "$ref": "#/definitions/ToolMessage"
                          }
                        ]
                      }
                    }
                  ],
                  "definitions": {
                    "StringPromptValue": {
                      "title": "StringPromptValue",
                      "description": "String prompt value.",
                      "type": "object",
                      "properties": {
                        "text": {
                          "title": "Text",
                          "type": "string"
                        },
                        "type": {
                          "title": "Type",
                          "default": "StringPromptValue",
                          "enum": [
                            "StringPromptValue"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "text"
                      ]
                    },
                    "AIMessage": {
                      "title": "AIMessage",
                      "description": "Message from an AI.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "ai",
                          "enum": [
                            "ai"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "HumanMessage": {
                      "title": "HumanMessage",
                      "description": "Message from a human.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "human",
                          "enum": [
                            "human"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "ChatMessage": {
                      "title": "ChatMessage",
                      "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "chat",
                          "enum": [
                            "chat"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "role": {
                          "title": "Role",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "role"
                      ]
                    },
                    "SystemMessage": {
                      "title": "SystemMessage",
                      "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "system",
                          "enum": [
                            "system"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "FunctionMessage": {
                      "title": "FunctionMessage",
                      "description": "Message for passing the result of executing a function back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "function",
                          "enum": [
                            "function"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "name"
                      ]
                    },
                    "ToolMessage": {
                      "title": "ToolMessage",
                      "description": "Message for passing the result of executing a tool back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "tool",
                          "enum": [
                            "tool"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "tool_call_id": {
                          "title": "Tool Call Id",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "tool_call_id"
                      ]
                    },
                    "ChatPromptValueConcrete": {
                      "title": "ChatPromptValueConcrete",
                      "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                      "type": "object",
                      "properties": {
                        "messages": {
                          "title": "Messages",
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "$ref": "#/definitions/AIMessage"
                              },
                              {
                                "$ref": "#/definitions/HumanMessage"
                              },
                              {
                                "$ref": "#/definitions/ChatMessage"
                              },
                              {
                                "$ref": "#/definitions/SystemMessage"
                              },
                              {
                                "$ref": "#/definitions/FunctionMessage"
                              },
                              {
                                "$ref": "#/definitions/ToolMessage"
                              }
                            ]
                          }
                        },
                        "type": {
                          "title": "Type",
                          "default": "ChatPromptValueConcrete",
                          "enum": [
                            "ChatPromptValueConcrete"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "messages"
                      ]
                    }
                  }
                }
              },
              {
                "id": 1,
                "type": "runnable",
                "data": {
                  "id": [
                    "tests",
                    "unit_tests",
                    "fake",
                    "llm",
                    "FakeStreamingListLLM"
                  ],
                  "name": "FakeStreamingListLLM"
                }
              },
              {
                "id": 2,
                "type": "schema",
                "data": {
                  "title": "FakeStreamingListLLMOutput",
                  "type": "string"
                }
              }
            ],
            "edges": [
              {
                "source": 0,
                "target": 1
              },
              {
                "source": 1,
                "target": 2
              }
            ]
          }
        },
        {
          "lc": 1,
          "type": "constructor",
          "id": [
            "tests",
            "unit_tests",
            "runnables",
            "test_runnable",
            "FakeSplitIntoListParser"
          ],
          "kwargs": {},
          "name": "FakeSplitIntoListParser",
          "graph": {
            "nodes": [
              {
                "id": 0,
                "type": "schema",
                "data": {
                  "title": "FakeSplitIntoListParserInput",
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/definitions/AIMessage"
                    },
                    {
                      "$ref": "#/definitions/HumanMessage"
                    },
                    {
                      "$ref": "#/definitions/ChatMessage"
                    },
                    {
                      "$ref": "#/definitions/SystemMessage"
                    },
                    {
                      "$ref": "#/definitions/FunctionMessage"
                    },
                    {
                      "$ref": "#/definitions/ToolMessage"
                    }
                  ],
                  "definitions": {
                    "AIMessage": {
                      "title": "AIMessage",
                      "description": "Message from an AI.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "ai",
                          "enum": [
                            "ai"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "HumanMessage": {
                      "title": "HumanMessage",
                      "description": "Message from a human.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "human",
                          "enum": [
                            "human"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "ChatMessage": {
                      "title": "ChatMessage",
                      "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "chat",
                          "enum": [
                            "chat"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "role": {
                          "title": "Role",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "role"
                      ]
                    },
                    "SystemMessage": {
                      "title": "SystemMessage",
                      "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "system",
                          "enum": [
                            "system"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "FunctionMessage": {
                      "title": "FunctionMessage",
                      "description": "Message for passing the result of executing a function back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "function",
                          "enum": [
                            "function"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "name"
                      ]
                    },
                    "ToolMessage": {
                      "title": "ToolMessage",
                      "description": "Message for passing the result of executing a tool back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "tool",
                          "enum": [
                            "tool"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "tool_call_id": {
                          "title": "Tool Call Id",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "tool_call_id"
                      ]
                    }
                  }
                }
              },
              {
                "id": 1,
                "type": "runnable",
                "data": {
                  "id": [
                    "tests",
                    "unit_tests",
                    "runnables",
                    "test_runnable",
                    "FakeSplitIntoListParser"
                  ],
                  "name": "FakeSplitIntoListParser"
                }
              },
              {
                "id": 2,
                "type": "schema",
                "data": {
                  "title": "FakeSplitIntoListParserOutput",
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            ],
            "edges": [
              {
                "source": 0,
                "target": 1
              },
              {
                "source": 1,
                "target": 2
              }
            ]
          }
        }
      ],
      "last": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "schema",
          "runnable",
          "RunnableEach"
        ],
        "kwargs": {
          "bound": {
            "lc": 1,
            "type": "not_implemented",
            "id": [
              "tests",
              "unit_tests",
              "fake",
              "llm",
              "FakeStreamingListLLM"
            ],
            "repr": "FakeStreamingListLLM(responses=['this', 'is', 'a', 'test'])",
            "name": "FakeStreamingListLLM",
            "graph": {
              "nodes": [
                {
                  "id": 0,
                  "type": "schema",
                  "data": {
                    "title": "FakeStreamingListLLMInput",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "$ref": "#/definitions/StringPromptValue"
                      },
                      {
                        "$ref": "#/definitions/ChatPromptValueConcrete"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/AIMessage"
                            },
                            {
                              "$ref": "#/definitions/HumanMessage"
                            },
                            {
                              "$ref": "#/definitions/ChatMessage"
                            },
                            {
                              "$ref": "#/definitions/SystemMessage"
                            },
                            {
                              "$ref": "#/definitions/FunctionMessage"
                            },
                            {
                              "$ref": "#/definitions/ToolMessage"
                            }
                          ]
                        }
                      }
                    ],
                    "definitions": {
                      "StringPromptValue": {
                        "title": "StringPromptValue",
                        "description": "String prompt value.",
                        "type": "object",
                        "properties": {
                          "text": {
                            "title": "Text",
                            "type": "string"
                          },
                          "type": {
                            "title": "Type",
                            "default": "StringPromptValue",
                            "enum": [
                              "StringPromptValue"
                            ],
                            "type": "string"
                          }
                        },
                        "required": [
                          "text"
                        ]
                      },
                      "AIMessage": {
                        "title": "AIMessage",
                        "description": "Message from an AI.",
                        "type": "object",
                        "properties": {
                          "content": {
                            "title": "Content",
                            "anyOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "array",
                                "items": {
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "object"
                                    }
                                  ]
                                }
                              }
                            ]
                          },
                          "additional_kwargs": {
                            "title": "Additional Kwargs",
                            "type": "object"
                          },
                          "type": {
                            "title": "Type",
                            "default": "ai",
                            "enum": [
                              "ai"
                            ],
                            "type": "string"
                          },
                          "name": {
                            "title": "Name",
                            "type": "string"
                          },
                          "example": {
                            "title": "Example",
                            "default": false,
                            "type": "boolean"
                          }
                        },
                        "required": [
                          "content"
                        ]
                      },
                      "HumanMessage": {
                        "title": "HumanMessage",
                        "description": "Message from a human.",
                        "type": "object",
                        "properties": {
                          "content": {
                            "title": "Content",
                            "anyOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "array",
                                "items": {
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "object"
                                    }
                                  ]
                                }
                              }
                            ]
                          },
                          "additional_kwargs": {
                            "title": "Additional Kwargs",
                            "type": "object"
                          },
                          "type": {
                            "title": "Type",
                            "default": "human",
                            "enum": [
                              "human"
                            ],
                            "type": "string"
                          },
                          "name": {
                            "title": "Name",
                            "type": "string"
                          },
                          "example": {
                            "title": "Example",
                            "default": false,
                            "type": "boolean"
                          }
                        },
                        "required": [
                          "content"
                        ]
                      },
                      "ChatMessage": {
                        "title": "ChatMessage",
                        "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                        "type": "object",
                        "properties": {
                          "content": {
                            "title": "Content",
                            "anyOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "array",
                                "items": {
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "object"
                                    }
                                  ]
                                }
                              }
                            ]
                          },
                          "additional_kwargs": {
                            "title": "Additional Kwargs",
                            "type": "object"
                          },
                          "type": {
                            "title": "Type",
                            "default": "chat",
                            "enum": [
                              "chat"
                            ],
                            "type": "string"
                          },
                          "name": {
                            "title": "Name",
                            "type": "string"
                          },
                          "role": {
                            "title": "Role",
                            "type": "string"
                          }
                        },
                        "required": [
                          "content",
                          "role"
                        ]
                      },
                      "SystemMessage": {
                        "title": "SystemMessage",
                        "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                        "type": "object",
                        "properties": {
                          "content": {
                            "title": "Content",
                            "anyOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "array",
                                "items": {
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "object"
                                    }
                                  ]
                                }
                              }
                            ]
                          },
                          "additional_kwargs": {
                            "title": "Additional Kwargs",
                            "type": "object"
                          },
                          "type": {
                            "title": "Type",
                            "default": "system",
                            "enum": [
                              "system"
                            ],
                            "type": "string"
                          },
                          "name": {
                            "title": "Name",
                            "type": "string"
                          }
                        },
                        "required": [
                          "content"
                        ]
                      },
                      "FunctionMessage": {
                        "title": "FunctionMessage",
                        "description": "Message for passing the result of executing a function back to a model.",
                        "type": "object",
                        "properties": {
                          "content": {
                            "title": "Content",
                            "anyOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "array",
                                "items": {
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "object"
                                    }
                                  ]
                                }
                              }
                            ]
                          },
                          "additional_kwargs": {
                            "title": "Additional Kwargs",
                            "type": "object"
                          },
                          "type": {
                            "title": "Type",
                            "default": "function",
                            "enum": [
                              "function"
                            ],
                            "type": "string"
                          },
                          "name": {
                            "title": "Name",
                            "type": "string"
                          }
                        },
                        "required": [
                          "content",
                          "name"
                        ]
                      },
                      "ToolMessage": {
                        "title": "ToolMessage",
                        "description": "Message for passing the result of executing a tool back to a model.",
                        "type": "object",
                        "properties": {
                          "content": {
                            "title": "Content",
                            "anyOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "array",
                                "items": {
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "object"
                                    }
                                  ]
                                }
                              }
                            ]
                          },
                          "additional_kwargs": {
                            "title": "Additional Kwargs",
                            "type": "object"
                          },
                          "type": {
                            "title": "Type",
                            "default": "tool",
                            "enum": [
                              "tool"
                            ],
                            "type": "string"
                          },
                          "name": {
                            "title": "Name",
                            "type": "string"
                          },
                          "tool_call_id": {
                            "title": "Tool Call Id",
                            "type": "string"
                          }
                        },
                        "required": [
                          "content",
                          "tool_call_id"
                        ]
                      },
                      "ChatPromptValueConcrete": {
                        "title": "ChatPromptValueConcrete",
                        "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                        "type": "object",
                        "properties": {
                          "messages": {
                            "title": "Messages",
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "$ref": "#/definitions/AIMessage"
                                },
                                {
                                  "$ref": "#/definitions/HumanMessage"
                                },
                                {
                                  "$ref": "#/definitions/ChatMessage"
                                },
                                {
                                  "$ref": "#/definitions/SystemMessage"
                                },
                                {
                                  "$ref": "#/definitions/FunctionMessage"
                                },
                                {
                                  "$ref": "#/definitions/ToolMessage"
                                }
                              ]
                            }
                          },
                          "type": {
                            "title": "Type",
                            "default": "ChatPromptValueConcrete",
                            "enum": [
                              "ChatPromptValueConcrete"
                            ],
                            "type": "string"
                          }
                        },
                        "required": [
                          "messages"
                        ]
                      }
                    }
                  }
                },
                {
                  "id": 1,
                  "type": "runnable",
                  "data": {
                    "id": [
                      "tests",
                      "unit_tests",
                      "fake",
                      "llm",
                      "FakeStreamingListLLM"
                    ],
                    "name": "FakeStreamingListLLM"
                  }
                },
                {
                  "id": 2,
                  "type": "schema",
                  "data": {
                    "title": "FakeStreamingListLLMOutput",
                    "type": "string"
                  }
                }
              ],
              "edges": [
                {
                  "source": 0,
                  "target": 1
                },
                {
                  "source": 1,
                  "target": 2
                }
              ]
            }
          }
        },
        "name": "RunnableEach<FakeStreamingListLLM>",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "FakeStreamingListLLMInput",
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/definitions/StringPromptValue"
                  },
                  {
                    "$ref": "#/definitions/ChatPromptValueConcrete"
                  },
                  {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/AIMessage"
                        },
                        {
                          "$ref": "#/definitions/HumanMessage"
                        },
                        {
                          "$ref": "#/definitions/ChatMessage"
                        },
                        {
                          "$ref": "#/definitions/SystemMessage"
                        },
                        {
                          "$ref": "#/definitions/FunctionMessage"
                        },
                        {
                          "$ref": "#/definitions/ToolMessage"
                        }
                      ]
                    }
                  }
                ],
                "definitions": {
                  "StringPromptValue": {
                    "title": "StringPromptValue",
                    "description": "String prompt value.",
                    "type": "object",
                    "properties": {
                      "text": {
                        "title": "Text",
                        "type": "string"
                      },
                      "type": {
                        "title": "Type",
                        "default": "StringPromptValue",
                        "enum": [
                          "StringPromptValue"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "text"
                    ]
                  },
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  },
                  "ChatPromptValueConcrete": {
                    "title": "ChatPromptValueConcrete",
                    "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                    "type": "object",
                    "properties": {
                      "messages": {
                        "title": "Messages",
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/AIMessage"
                            },
                            {
                              "$ref": "#/definitions/HumanMessage"
                            },
                            {
                              "$ref": "#/definitions/ChatMessage"
                            },
                            {
                              "$ref": "#/definitions/SystemMessage"
                            },
                            {
                              "$ref": "#/definitions/FunctionMessage"
                            },
                            {
                              "$ref": "#/definitions/ToolMessage"
                            }
                          ]
                        }
                      },
                      "type": {
                        "title": "Type",
                        "default": "ChatPromptValueConcrete",
                        "enum": [
                          "ChatPromptValueConcrete"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "messages"
                    ]
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "tests",
                  "unit_tests",
                  "fake",
                  "llm",
                  "FakeStreamingListLLM"
                ],
                "name": "FakeStreamingListLLM"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "FakeStreamingListLLMOutput",
                "type": "string"
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "name": null
    },
    "name": "RunnableSequence",
    "graph": {
      "nodes": [
        {
          "id": 0,
          "type": "schema",
          "data": {
            "title": "PromptInput",
            "type": "object",
            "properties": {
              "question": {
                "title": "Question",
                "type": "string"
              }
            }
          }
        },
        {
          "id": 1,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "prompts",
              "chat",
              "ChatPromptTemplate"
            ],
            "name": "ChatPromptTemplate"
          }
        },
        {
          "id": 2,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "fake",
              "llm",
              "FakeStreamingListLLM"
            ],
            "name": "FakeStreamingListLLM"
          }
        },
        {
          "id": 3,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "runnables",
              "test_runnable",
              "FakeSplitIntoListParser"
            ],
            "name": "FakeSplitIntoListParser"
          }
        },
        {
          "id": 4,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "fake",
              "llm",
              "FakeStreamingListLLM"
            ],
            "name": "FakeStreamingListLLM"
          }
        },
        {
          "id": 5,
          "type": "schema",
          "data": {
            "title": "FakeStreamingListLLMOutput",
            "type": "string"
          }
        }
      ],
      "edges": [
        {
          "source": 0,
          "target": 1
        },
        {
          "source": 1,
          "target": 2
        },
        {
          "source": 2,
          "target": 3
        },
        {
          "source": 4,
          "target": 5
        },
        {
          "source": 3,
          "target": 4
        }
      ]
    }
  }
  '''
# ---
# name: test_higher_order_lambda_runnable
  '''
  {
    "lc": 1,
    "type": "constructor",
    "id": [
      "langchain",
      "schema",
      "runnable",
      "RunnableSequence"
    ],
    "kwargs": {
      "first": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "schema",
          "runnable",
          "RunnableParallel"
        ],
        "kwargs": {
          "steps": {
            "key": {
              "lc": 1,
              "type": "not_implemented",
              "id": [
                "langchain_core",
                "runnables",
                "base",
                "RunnableLambda"
              ],
              "repr": "RunnableLambda(lambda x: x['key'])"
            },
            "input": {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "schema",
                "runnable",
                "RunnableParallel"
              ],
              "kwargs": {
                "steps": {
                  "question": {
                    "lc": 1,
                    "type": "not_implemented",
                    "id": [
                      "langchain_core",
                      "runnables",
                      "base",
                      "RunnableLambda"
                    ],
                    "repr": "RunnableLambda(lambda x: x['question'])"
                  }
                }
              },
              "name": "RunnableParallel<question>",
              "graph": {
                "nodes": [
                  {
                    "id": 0,
                    "type": "schema",
                    "data": {
                      "title": "RunnableParallel<question>Input",
                      "type": "object",
                      "properties": {
                        "question": {
                          "title": "Question"
                        }
                      }
                    }
                  },
                  {
                    "id": 1,
                    "type": "schema",
                    "data": {
                      "title": "RunnableParallel<question>Output",
                      "type": "object",
                      "properties": {
                        "question": {
                          "title": "Question"
                        }
                      }
                    }
                  },
                  {
                    "id": 2,
                    "type": "runnable",
                    "data": {
                      "id": [
                        "langchain_core",
                        "runnables",
                        "base",
                        "RunnableLambda"
                      ],
                      "name": "RunnableLambda"
                    }
                  }
                ],
                "edges": [
                  {
                    "source": 0,
                    "target": 2
                  },
                  {
                    "source": 2,
                    "target": 1
                  }
                ]
              }
            }
          }
        },
        "name": "RunnableParallel<key,input>",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "RunnableParallel<key,input>Input",
                "type": "object",
                "properties": {
                  "key": {
                    "title": "Key"
                  },
                  "question": {
                    "title": "Question"
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "schema",
              "data": {
                "title": "RunnableParallel<key,input>Output",
                "type": "object",
                "properties": {
                  "key": {
                    "title": "Key"
                  },
                  "input": {
                    "title": "Input",
                    "type": "object"
                  }
                }
              }
            },
            {
              "id": 2,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain_core",
                  "runnables",
                  "base",
                  "RunnableLambda"
                ],
                "name": "RunnableLambda"
              }
            },
            {
              "id": 3,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain_core",
                  "runnables",
                  "base",
                  "RunnableLambda"
                ],
                "name": "RunnableLambda"
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 2
            },
            {
              "source": 2,
              "target": 1
            },
            {
              "source": 0,
              "target": 3
            },
            {
              "source": 3,
              "target": 1
            }
          ]
        }
      },
      "middle": [],
      "last": {
        "lc": 1,
        "type": "not_implemented",
        "id": [
          "langchain_core",
          "runnables",
          "base",
          "RunnableLambda"
        ],
        "repr": "RunnableLambda(router)"
      },
      "name": null
    },
    "name": "RunnableSequence",
    "graph": {
      "nodes": [
        {
          "id": 0,
          "type": "schema",
          "data": {
            "title": "RunnableParallel<key,input>Input",
            "type": "object",
            "properties": {
              "key": {
                "title": "Key"
              },
              "question": {
                "title": "Question"
              }
            }
          }
        },
        {
          "id": 1,
          "type": "schema",
          "data": {
            "title": "RunnableParallel<key,input>Output",
            "type": "object",
            "properties": {
              "key": {
                "title": "Key"
              },
              "input": {
                "title": "Input",
                "type": "object"
              }
            }
          }
        },
        {
          "id": 2,
          "type": "runnable",
          "data": {
            "id": [
              "langchain_core",
              "runnables",
              "base",
              "RunnableLambda"
            ],
            "name": "RunnableLambda"
          }
        },
        {
          "id": 3,
          "type": "runnable",
          "data": {
            "id": [
              "langchain_core",
              "runnables",
              "base",
              "RunnableLambda"
            ],
            "name": "RunnableLambda"
          }
        },
        {
          "id": 4,
          "type": "schema",
          "data": {
            "title": "router_input",
            "type": "object"
          }
        },
        {
          "id": 5,
          "type": "schema",
          "data": {
            "title": "router_output"
          }
        },
        {
          "id": 6,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "prompts",
              "chat",
              "ChatPromptTemplate"
            ],
            "name": "ChatPromptTemplate"
          }
        },
        {
          "id": 7,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "fake",
              "llm",
              "FakeListLLM"
            ],
            "name": "FakeListLLM"
          }
        },
        {
          "id": 8,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "prompts",
              "chat",
              "ChatPromptTemplate"
            ],
            "name": "ChatPromptTemplate"
          }
        },
        {
          "id": 9,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "fake",
              "llm",
              "FakeListLLM"
            ],
            "name": "FakeListLLM"
          }
        }
      ],
      "edges": [
        {
          "source": 0,
          "target": 2
        },
        {
          "source": 2,
          "target": 1
        },
        {
          "source": 0,
          "target": 3
        },
        {
          "source": 3,
          "target": 1
        },
        {
          "source": 6,
          "target": 7
        },
        {
          "source": 4,
          "target": 6
        },
        {
          "source": 7,
          "target": 5
        },
        {
          "source": 8,
          "target": 9
        },
        {
          "source": 4,
          "target": 8
        },
        {
          "source": 9,
          "target": 5
        },
        {
          "source": 1,
          "target": 4
        }
      ]
    }
  }
  '''
# ---
# name: test_prompt_with_chat_model
  '''
  ChatPromptTemplate(input_variables=['question'], messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=[], template='You are a nice assistant.')), HumanMessagePromptTemplate(prompt=PromptTemplate(input_variables=['question'], template='{question}'))])
  | FakeListChatModel(responses=['foo'])
  '''
# ---
# name: test_prompt_with_chat_model.1
  '''
  {
    "lc": 1,
    "type": "constructor",
    "id": [
      "langchain",
      "schema",
      "runnable",
      "RunnableSequence"
    ],
    "kwargs": {
      "first": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "prompts",
          "chat",
          "ChatPromptTemplate"
        ],
        "kwargs": {
          "messages": [
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "SystemMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [],
                    "template": "You are a nice assistant.",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {}
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            },
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "HumanMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [
                      "question"
                    ],
                    "template": "{question}",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {
                            "question": {
                              "title": "Question",
                              "type": "string"
                            }
                          }
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            }
          ],
          "input_variables": [
            "question"
          ]
        },
        "name": "ChatPromptTemplate",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "PromptInput",
                "type": "object",
                "properties": {
                  "question": {
                    "title": "Question",
                    "type": "string"
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain",
                  "prompts",
                  "chat",
                  "ChatPromptTemplate"
                ],
                "name": "ChatPromptTemplate"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "ChatPromptTemplateOutput",
                "anyOf": [
                  {
                    "$ref": "#/definitions/StringPromptValue"
                  },
                  {
                    "$ref": "#/definitions/ChatPromptValueConcrete"
                  }
                ],
                "definitions": {
                  "StringPromptValue": {
                    "title": "StringPromptValue",
                    "description": "String prompt value.",
                    "type": "object",
                    "properties": {
                      "text": {
                        "title": "Text",
                        "type": "string"
                      },
                      "type": {
                        "title": "Type",
                        "default": "StringPromptValue",
                        "enum": [
                          "StringPromptValue"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "text"
                    ]
                  },
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  },
                  "ChatPromptValueConcrete": {
                    "title": "ChatPromptValueConcrete",
                    "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                    "type": "object",
                    "properties": {
                      "messages": {
                        "title": "Messages",
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/AIMessage"
                            },
                            {
                              "$ref": "#/definitions/HumanMessage"
                            },
                            {
                              "$ref": "#/definitions/ChatMessage"
                            },
                            {
                              "$ref": "#/definitions/SystemMessage"
                            },
                            {
                              "$ref": "#/definitions/FunctionMessage"
                            },
                            {
                              "$ref": "#/definitions/ToolMessage"
                            }
                          ]
                        }
                      },
                      "type": {
                        "title": "Type",
                        "default": "ChatPromptValueConcrete",
                        "enum": [
                          "ChatPromptValueConcrete"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "messages"
                    ]
                  }
                }
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "middle": [],
      "last": {
        "lc": 1,
        "type": "not_implemented",
        "id": [
          "tests",
          "unit_tests",
          "fake",
          "chat_model",
          "FakeListChatModel"
        ],
        "repr": "FakeListChatModel(responses=['foo'])",
        "name": "FakeListChatModel",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "FakeListChatModelInput",
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/definitions/StringPromptValue"
                  },
                  {
                    "$ref": "#/definitions/ChatPromptValueConcrete"
                  },
                  {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/AIMessage"
                        },
                        {
                          "$ref": "#/definitions/HumanMessage"
                        },
                        {
                          "$ref": "#/definitions/ChatMessage"
                        },
                        {
                          "$ref": "#/definitions/SystemMessage"
                        },
                        {
                          "$ref": "#/definitions/FunctionMessage"
                        },
                        {
                          "$ref": "#/definitions/ToolMessage"
                        }
                      ]
                    }
                  }
                ],
                "definitions": {
                  "StringPromptValue": {
                    "title": "StringPromptValue",
                    "description": "String prompt value.",
                    "type": "object",
                    "properties": {
                      "text": {
                        "title": "Text",
                        "type": "string"
                      },
                      "type": {
                        "title": "Type",
                        "default": "StringPromptValue",
                        "enum": [
                          "StringPromptValue"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "text"
                    ]
                  },
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  },
                  "ChatPromptValueConcrete": {
                    "title": "ChatPromptValueConcrete",
                    "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                    "type": "object",
                    "properties": {
                      "messages": {
                        "title": "Messages",
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/AIMessage"
                            },
                            {
                              "$ref": "#/definitions/HumanMessage"
                            },
                            {
                              "$ref": "#/definitions/ChatMessage"
                            },
                            {
                              "$ref": "#/definitions/SystemMessage"
                            },
                            {
                              "$ref": "#/definitions/FunctionMessage"
                            },
                            {
                              "$ref": "#/definitions/ToolMessage"
                            }
                          ]
                        }
                      },
                      "type": {
                        "title": "Type",
                        "default": "ChatPromptValueConcrete",
                        "enum": [
                          "ChatPromptValueConcrete"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "messages"
                    ]
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "tests",
                  "unit_tests",
                  "fake",
                  "chat_model",
                  "FakeListChatModel"
                ],
                "name": "FakeListChatModel"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "FakeListChatModelOutput",
                "anyOf": [
                  {
                    "$ref": "#/definitions/AIMessage"
                  },
                  {
                    "$ref": "#/definitions/HumanMessage"
                  },
                  {
                    "$ref": "#/definitions/ChatMessage"
                  },
                  {
                    "$ref": "#/definitions/SystemMessage"
                  },
                  {
                    "$ref": "#/definitions/FunctionMessage"
                  },
                  {
                    "$ref": "#/definitions/ToolMessage"
                  }
                ],
                "definitions": {
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  }
                }
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "name": null
    },
    "name": "RunnableSequence",
    "graph": {
      "nodes": [
        {
          "id": 0,
          "type": "schema",
          "data": {
            "title": "PromptInput",
            "type": "object",
            "properties": {
              "question": {
                "title": "Question",
                "type": "string"
              }
            }
          }
        },
        {
          "id": 1,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "prompts",
              "chat",
              "ChatPromptTemplate"
            ],
            "name": "ChatPromptTemplate"
          }
        },
        {
          "id": 2,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "fake",
              "chat_model",
              "FakeListChatModel"
            ],
            "name": "FakeListChatModel"
          }
        },
        {
          "id": 3,
          "type": "schema",
          "data": {
            "title": "FakeListChatModelOutput",
            "anyOf": [
              {
                "$ref": "#/definitions/AIMessage"
              },
              {
                "$ref": "#/definitions/HumanMessage"
              },
              {
                "$ref": "#/definitions/ChatMessage"
              },
              {
                "$ref": "#/definitions/SystemMessage"
              },
              {
                "$ref": "#/definitions/FunctionMessage"
              },
              {
                "$ref": "#/definitions/ToolMessage"
              }
            ],
            "definitions": {
              "AIMessage": {
                "title": "AIMessage",
                "description": "Message from an AI.",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "ai",
                    "enum": [
                      "ai"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  },
                  "example": {
                    "title": "Example",
                    "default": false,
                    "type": "boolean"
                  }
                },
                "required": [
                  "content"
                ]
              },
              "HumanMessage": {
                "title": "HumanMessage",
                "description": "Message from a human.",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "human",
                    "enum": [
                      "human"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  },
                  "example": {
                    "title": "Example",
                    "default": false,
                    "type": "boolean"
                  }
                },
                "required": [
                  "content"
                ]
              },
              "ChatMessage": {
                "title": "ChatMessage",
                "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "chat",
                    "enum": [
                      "chat"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  },
                  "role": {
                    "title": "Role",
                    "type": "string"
                  }
                },
                "required": [
                  "content",
                  "role"
                ]
              },
              "SystemMessage": {
                "title": "SystemMessage",
                "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "system",
                    "enum": [
                      "system"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  }
                },
                "required": [
                  "content"
                ]
              },
              "FunctionMessage": {
                "title": "FunctionMessage",
                "description": "Message for passing the result of executing a function back to a model.",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "function",
                    "enum": [
                      "function"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  }
                },
                "required": [
                  "content",
                  "name"
                ]
              },
              "ToolMessage": {
                "title": "ToolMessage",
                "description": "Message for passing the result of executing a tool back to a model.",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "tool",
                    "enum": [
                      "tool"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  },
                  "tool_call_id": {
                    "title": "Tool Call Id",
                    "type": "string"
                  }
                },
                "required": [
                  "content",
                  "tool_call_id"
                ]
              }
            }
          }
        }
      ],
      "edges": [
        {
          "source": 0,
          "target": 1
        },
        {
          "source": 2,
          "target": 3
        },
        {
          "source": 1,
          "target": 2
        }
      ]
    }
  }
  '''
# ---
# name: test_prompt_with_chat_model.2
  list([
    Run(id=UUID('00000000-0000-4000-8000-000000000000'), name='RunnableSequence', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='chain', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'runnable', 'RunnableSequence'], 'kwargs': {'first': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'middle': [], 'last': {'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'repr': "FakeListChatModel(responses=['foo'])", 'name': 'FakeListChatModel', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeListChatModelInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'name': 'FakeListChatModel'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeListChatModelOutput', 'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'name': None}, 'name': 'RunnableSequence', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'name': 'FakeListChatModel'}}, {'id': 3, 'type': 'schema', 'data': {'title': 'FakeListChatModelOutput', 'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 2, 'target': 3}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your name?'}, outputs={'output': AIMessage(content='foo')}, reference_example_id=None, parent_run_id=None, tags=[], execution_order=None, child_execution_order=None, child_runs=[Run(id=UUID('00000000-0000-4000-8000-000000000001'), name='ChatPromptTemplate', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='prompt', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your name?'}, outputs={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptValue'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'SystemMessage'], 'kwargs': {'content': 'You are a nice assistant.', 'additional_kwargs': {}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'HumanMessage'], 'kwargs': {'content': 'What is your name?', 'additional_kwargs': {}}}]}}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:1'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000001'), Run(id=UUID('00000000-0000-4000-8000-000000000002'), name='FakeListChatModel', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='llm', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={'invocation_params': {'responses': ['foo'], '_type': 'fake-list-chat-model', 'stop': None}, 'options': {'stop': None}, 'batch_size': 1}, error=None, serialized={'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'repr': "FakeListChatModel(responses=['foo'])", 'name': 'FakeListChatModel', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeListChatModelInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'name': 'FakeListChatModel'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeListChatModelOutput', 'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'prompts': ['System: You are a nice assistant.\nHuman: What is your name?']}, outputs={'generations': [[{'text': 'foo', 'generation_info': None, 'type': 'ChatGeneration', 'message': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'AIMessage'], 'kwargs': {'content': 'foo'}}}]], 'llm_output': None, 'run': None}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:2'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000002')], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000'),
  ])
# ---
# name: test_prompt_with_chat_model_and_parser
  '''
  {
    "lc": 1,
    "type": "constructor",
    "id": [
      "langchain",
      "schema",
      "runnable",
      "RunnableSequence"
    ],
    "kwargs": {
      "first": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "prompts",
          "chat",
          "ChatPromptTemplate"
        ],
        "kwargs": {
          "messages": [
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "SystemMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [],
                    "template": "You are a nice assistant.",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {}
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            },
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "HumanMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [
                      "question"
                    ],
                    "template": "{question}",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {
                            "question": {
                              "title": "Question",
                              "type": "string"
                            }
                          }
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            }
          ],
          "input_variables": [
            "question"
          ]
        },
        "name": "ChatPromptTemplate",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "PromptInput",
                "type": "object",
                "properties": {
                  "question": {
                    "title": "Question",
                    "type": "string"
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain",
                  "prompts",
                  "chat",
                  "ChatPromptTemplate"
                ],
                "name": "ChatPromptTemplate"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "ChatPromptTemplateOutput",
                "anyOf": [
                  {
                    "$ref": "#/definitions/StringPromptValue"
                  },
                  {
                    "$ref": "#/definitions/ChatPromptValueConcrete"
                  }
                ],
                "definitions": {
                  "StringPromptValue": {
                    "title": "StringPromptValue",
                    "description": "String prompt value.",
                    "type": "object",
                    "properties": {
                      "text": {
                        "title": "Text",
                        "type": "string"
                      },
                      "type": {
                        "title": "Type",
                        "default": "StringPromptValue",
                        "enum": [
                          "StringPromptValue"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "text"
                    ]
                  },
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  },
                  "ChatPromptValueConcrete": {
                    "title": "ChatPromptValueConcrete",
                    "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                    "type": "object",
                    "properties": {
                      "messages": {
                        "title": "Messages",
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/AIMessage"
                            },
                            {
                              "$ref": "#/definitions/HumanMessage"
                            },
                            {
                              "$ref": "#/definitions/ChatMessage"
                            },
                            {
                              "$ref": "#/definitions/SystemMessage"
                            },
                            {
                              "$ref": "#/definitions/FunctionMessage"
                            },
                            {
                              "$ref": "#/definitions/ToolMessage"
                            }
                          ]
                        }
                      },
                      "type": {
                        "title": "Type",
                        "default": "ChatPromptValueConcrete",
                        "enum": [
                          "ChatPromptValueConcrete"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "messages"
                    ]
                  }
                }
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "middle": [
        {
          "lc": 1,
          "type": "not_implemented",
          "id": [
            "tests",
            "unit_tests",
            "fake",
            "chat_model",
            "FakeListChatModel"
          ],
          "repr": "FakeListChatModel(responses=['foo, bar'])",
          "name": "FakeListChatModel",
          "graph": {
            "nodes": [
              {
                "id": 0,
                "type": "schema",
                "data": {
                  "title": "FakeListChatModelInput",
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/definitions/StringPromptValue"
                    },
                    {
                      "$ref": "#/definitions/ChatPromptValueConcrete"
                    },
                    {
                      "type": "array",
                      "items": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/AIMessage"
                          },
                          {
                            "$ref": "#/definitions/HumanMessage"
                          },
                          {
                            "$ref": "#/definitions/ChatMessage"
                          },
                          {
                            "$ref": "#/definitions/SystemMessage"
                          },
                          {
                            "$ref": "#/definitions/FunctionMessage"
                          },
                          {
                            "$ref": "#/definitions/ToolMessage"
                          }
                        ]
                      }
                    }
                  ],
                  "definitions": {
                    "StringPromptValue": {
                      "title": "StringPromptValue",
                      "description": "String prompt value.",
                      "type": "object",
                      "properties": {
                        "text": {
                          "title": "Text",
                          "type": "string"
                        },
                        "type": {
                          "title": "Type",
                          "default": "StringPromptValue",
                          "enum": [
                            "StringPromptValue"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "text"
                      ]
                    },
                    "AIMessage": {
                      "title": "AIMessage",
                      "description": "Message from an AI.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "ai",
                          "enum": [
                            "ai"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "HumanMessage": {
                      "title": "HumanMessage",
                      "description": "Message from a human.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "human",
                          "enum": [
                            "human"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "ChatMessage": {
                      "title": "ChatMessage",
                      "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "chat",
                          "enum": [
                            "chat"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "role": {
                          "title": "Role",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "role"
                      ]
                    },
                    "SystemMessage": {
                      "title": "SystemMessage",
                      "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "system",
                          "enum": [
                            "system"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "FunctionMessage": {
                      "title": "FunctionMessage",
                      "description": "Message for passing the result of executing a function back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "function",
                          "enum": [
                            "function"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "name"
                      ]
                    },
                    "ToolMessage": {
                      "title": "ToolMessage",
                      "description": "Message for passing the result of executing a tool back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "tool",
                          "enum": [
                            "tool"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "tool_call_id": {
                          "title": "Tool Call Id",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "tool_call_id"
                      ]
                    },
                    "ChatPromptValueConcrete": {
                      "title": "ChatPromptValueConcrete",
                      "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                      "type": "object",
                      "properties": {
                        "messages": {
                          "title": "Messages",
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "$ref": "#/definitions/AIMessage"
                              },
                              {
                                "$ref": "#/definitions/HumanMessage"
                              },
                              {
                                "$ref": "#/definitions/ChatMessage"
                              },
                              {
                                "$ref": "#/definitions/SystemMessage"
                              },
                              {
                                "$ref": "#/definitions/FunctionMessage"
                              },
                              {
                                "$ref": "#/definitions/ToolMessage"
                              }
                            ]
                          }
                        },
                        "type": {
                          "title": "Type",
                          "default": "ChatPromptValueConcrete",
                          "enum": [
                            "ChatPromptValueConcrete"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "messages"
                      ]
                    }
                  }
                }
              },
              {
                "id": 1,
                "type": "runnable",
                "data": {
                  "id": [
                    "tests",
                    "unit_tests",
                    "fake",
                    "chat_model",
                    "FakeListChatModel"
                  ],
                  "name": "FakeListChatModel"
                }
              },
              {
                "id": 2,
                "type": "schema",
                "data": {
                  "title": "FakeListChatModelOutput",
                  "anyOf": [
                    {
                      "$ref": "#/definitions/AIMessage"
                    },
                    {
                      "$ref": "#/definitions/HumanMessage"
                    },
                    {
                      "$ref": "#/definitions/ChatMessage"
                    },
                    {
                      "$ref": "#/definitions/SystemMessage"
                    },
                    {
                      "$ref": "#/definitions/FunctionMessage"
                    },
                    {
                      "$ref": "#/definitions/ToolMessage"
                    }
                  ],
                  "definitions": {
                    "AIMessage": {
                      "title": "AIMessage",
                      "description": "Message from an AI.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "ai",
                          "enum": [
                            "ai"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "HumanMessage": {
                      "title": "HumanMessage",
                      "description": "Message from a human.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "human",
                          "enum": [
                            "human"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "ChatMessage": {
                      "title": "ChatMessage",
                      "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "chat",
                          "enum": [
                            "chat"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "role": {
                          "title": "Role",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "role"
                      ]
                    },
                    "SystemMessage": {
                      "title": "SystemMessage",
                      "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "system",
                          "enum": [
                            "system"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "FunctionMessage": {
                      "title": "FunctionMessage",
                      "description": "Message for passing the result of executing a function back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "function",
                          "enum": [
                            "function"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "name"
                      ]
                    },
                    "ToolMessage": {
                      "title": "ToolMessage",
                      "description": "Message for passing the result of executing a tool back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "tool",
                          "enum": [
                            "tool"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "tool_call_id": {
                          "title": "Tool Call Id",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "tool_call_id"
                      ]
                    }
                  }
                }
              }
            ],
            "edges": [
              {
                "source": 0,
                "target": 1
              },
              {
                "source": 1,
                "target": 2
              }
            ]
          }
        }
      ],
      "last": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "output_parsers",
          "list",
          "CommaSeparatedListOutputParser"
        ],
        "kwargs": {},
        "name": "CommaSeparatedListOutputParser",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "CommaSeparatedListOutputParserInput",
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/definitions/AIMessage"
                  },
                  {
                    "$ref": "#/definitions/HumanMessage"
                  },
                  {
                    "$ref": "#/definitions/ChatMessage"
                  },
                  {
                    "$ref": "#/definitions/SystemMessage"
                  },
                  {
                    "$ref": "#/definitions/FunctionMessage"
                  },
                  {
                    "$ref": "#/definitions/ToolMessage"
                  }
                ],
                "definitions": {
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain",
                  "output_parsers",
                  "list",
                  "CommaSeparatedListOutputParser"
                ],
                "name": "CommaSeparatedListOutputParser"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "CommaSeparatedListOutputParserOutput",
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "name": null
    },
    "name": "RunnableSequence",
    "graph": {
      "nodes": [
        {
          "id": 0,
          "type": "schema",
          "data": {
            "title": "PromptInput",
            "type": "object",
            "properties": {
              "question": {
                "title": "Question",
                "type": "string"
              }
            }
          }
        },
        {
          "id": 1,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "prompts",
              "chat",
              "ChatPromptTemplate"
            ],
            "name": "ChatPromptTemplate"
          }
        },
        {
          "id": 2,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "fake",
              "chat_model",
              "FakeListChatModel"
            ],
            "name": "FakeListChatModel"
          }
        },
        {
          "id": 3,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "output_parsers",
              "list",
              "CommaSeparatedListOutputParser"
            ],
            "name": "CommaSeparatedListOutputParser"
          }
        },
        {
          "id": 4,
          "type": "schema",
          "data": {
            "title": "CommaSeparatedListOutputParserOutput",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      ],
      "edges": [
        {
          "source": 0,
          "target": 1
        },
        {
          "source": 1,
          "target": 2
        },
        {
          "source": 3,
          "target": 4
        },
        {
          "source": 2,
          "target": 3
        }
      ]
    }
  }
  '''
# ---
# name: test_prompt_with_chat_model_and_parser.1
  list([
    Run(id=UUID('00000000-0000-4000-8000-000000000000'), name='RunnableSequence', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='chain', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'runnable', 'RunnableSequence'], 'kwargs': {'first': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'middle': [{'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'repr': "FakeListChatModel(responses=['foo, bar'])", 'name': 'FakeListChatModel', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeListChatModelInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'name': 'FakeListChatModel'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeListChatModelOutput', 'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}], 'last': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'kwargs': {}, 'name': 'CommaSeparatedListOutputParser', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'name': 'CommaSeparatedListOutputParser'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserOutput', 'type': 'array', 'items': {'type': 'string'}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'name': None}, 'name': 'RunnableSequence', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'name': 'FakeListChatModel'}}, {'id': 3, 'type': 'runnable', 'data': {'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'name': 'CommaSeparatedListOutputParser'}}, {'id': 4, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserOutput', 'type': 'array', 'items': {'type': 'string'}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}, {'source': 3, 'target': 4}, {'source': 2, 'target': 3}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your name?'}, outputs={'output': ['foo', 'bar']}, reference_example_id=None, parent_run_id=None, tags=[], execution_order=None, child_execution_order=None, child_runs=[Run(id=UUID('00000000-0000-4000-8000-000000000001'), name='ChatPromptTemplate', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='prompt', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your name?'}, outputs={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptValue'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'SystemMessage'], 'kwargs': {'content': 'You are a nice assistant.', 'additional_kwargs': {}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'HumanMessage'], 'kwargs': {'content': 'What is your name?', 'additional_kwargs': {}}}]}}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:1'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000001'), Run(id=UUID('00000000-0000-4000-8000-000000000002'), name='FakeListChatModel', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='llm', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={'invocation_params': {'responses': ['foo, bar'], '_type': 'fake-list-chat-model', 'stop': None}, 'options': {'stop': None}, 'batch_size': 1}, error=None, serialized={'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'repr': "FakeListChatModel(responses=['foo, bar'])", 'name': 'FakeListChatModel', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeListChatModelInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'name': 'FakeListChatModel'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeListChatModelOutput', 'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'prompts': ['System: You are a nice assistant.\nHuman: What is your name?']}, outputs={'generations': [[{'text': 'foo, bar', 'generation_info': None, 'type': 'ChatGeneration', 'message': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'AIMessage'], 'kwargs': {'content': 'foo, bar'}}}]], 'llm_output': None, 'run': None}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:2'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000002'), Run(id=UUID('00000000-0000-4000-8000-000000000003'), name='CommaSeparatedListOutputParser', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='parser', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'kwargs': {}, 'name': 'CommaSeparatedListOutputParser', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'name': 'CommaSeparatedListOutputParser'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserOutput', 'type': 'array', 'items': {'type': 'string'}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'input': AIMessage(content='foo, bar')}, outputs={'output': ['foo', 'bar']}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:3'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000003')], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000'),
  ])
# ---
# name: test_prompt_with_chat_model_async
  '''
  ChatPromptTemplate(input_variables=['question'], messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=[], template='You are a nice assistant.')), HumanMessagePromptTemplate(prompt=PromptTemplate(input_variables=['question'], template='{question}'))])
  | FakeListChatModel(responses=['foo'])
  '''
# ---
# name: test_prompt_with_chat_model_async.1
  '''
  {
    "lc": 1,
    "type": "constructor",
    "id": [
      "langchain",
      "schema",
      "runnable",
      "RunnableSequence"
    ],
    "kwargs": {
      "first": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "prompts",
          "chat",
          "ChatPromptTemplate"
        ],
        "kwargs": {
          "messages": [
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "SystemMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [],
                    "template": "You are a nice assistant.",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {}
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            },
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "HumanMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [
                      "question"
                    ],
                    "template": "{question}",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {
                            "question": {
                              "title": "Question",
                              "type": "string"
                            }
                          }
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            }
          ],
          "input_variables": [
            "question"
          ]
        },
        "name": "ChatPromptTemplate",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "PromptInput",
                "type": "object",
                "properties": {
                  "question": {
                    "title": "Question",
                    "type": "string"
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain",
                  "prompts",
                  "chat",
                  "ChatPromptTemplate"
                ],
                "name": "ChatPromptTemplate"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "ChatPromptTemplateOutput",
                "anyOf": [
                  {
                    "$ref": "#/definitions/StringPromptValue"
                  },
                  {
                    "$ref": "#/definitions/ChatPromptValueConcrete"
                  }
                ],
                "definitions": {
                  "StringPromptValue": {
                    "title": "StringPromptValue",
                    "description": "String prompt value.",
                    "type": "object",
                    "properties": {
                      "text": {
                        "title": "Text",
                        "type": "string"
                      },
                      "type": {
                        "title": "Type",
                        "default": "StringPromptValue",
                        "enum": [
                          "StringPromptValue"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "text"
                    ]
                  },
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  },
                  "ChatPromptValueConcrete": {
                    "title": "ChatPromptValueConcrete",
                    "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                    "type": "object",
                    "properties": {
                      "messages": {
                        "title": "Messages",
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/AIMessage"
                            },
                            {
                              "$ref": "#/definitions/HumanMessage"
                            },
                            {
                              "$ref": "#/definitions/ChatMessage"
                            },
                            {
                              "$ref": "#/definitions/SystemMessage"
                            },
                            {
                              "$ref": "#/definitions/FunctionMessage"
                            },
                            {
                              "$ref": "#/definitions/ToolMessage"
                            }
                          ]
                        }
                      },
                      "type": {
                        "title": "Type",
                        "default": "ChatPromptValueConcrete",
                        "enum": [
                          "ChatPromptValueConcrete"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "messages"
                    ]
                  }
                }
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "middle": [],
      "last": {
        "lc": 1,
        "type": "not_implemented",
        "id": [
          "tests",
          "unit_tests",
          "fake",
          "chat_model",
          "FakeListChatModel"
        ],
        "repr": "FakeListChatModel(responses=['foo'])",
        "name": "FakeListChatModel",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "FakeListChatModelInput",
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/definitions/StringPromptValue"
                  },
                  {
                    "$ref": "#/definitions/ChatPromptValueConcrete"
                  },
                  {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/AIMessage"
                        },
                        {
                          "$ref": "#/definitions/HumanMessage"
                        },
                        {
                          "$ref": "#/definitions/ChatMessage"
                        },
                        {
                          "$ref": "#/definitions/SystemMessage"
                        },
                        {
                          "$ref": "#/definitions/FunctionMessage"
                        },
                        {
                          "$ref": "#/definitions/ToolMessage"
                        }
                      ]
                    }
                  }
                ],
                "definitions": {
                  "StringPromptValue": {
                    "title": "StringPromptValue",
                    "description": "String prompt value.",
                    "type": "object",
                    "properties": {
                      "text": {
                        "title": "Text",
                        "type": "string"
                      },
                      "type": {
                        "title": "Type",
                        "default": "StringPromptValue",
                        "enum": [
                          "StringPromptValue"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "text"
                    ]
                  },
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  },
                  "ChatPromptValueConcrete": {
                    "title": "ChatPromptValueConcrete",
                    "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                    "type": "object",
                    "properties": {
                      "messages": {
                        "title": "Messages",
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/AIMessage"
                            },
                            {
                              "$ref": "#/definitions/HumanMessage"
                            },
                            {
                              "$ref": "#/definitions/ChatMessage"
                            },
                            {
                              "$ref": "#/definitions/SystemMessage"
                            },
                            {
                              "$ref": "#/definitions/FunctionMessage"
                            },
                            {
                              "$ref": "#/definitions/ToolMessage"
                            }
                          ]
                        }
                      },
                      "type": {
                        "title": "Type",
                        "default": "ChatPromptValueConcrete",
                        "enum": [
                          "ChatPromptValueConcrete"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "messages"
                    ]
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "tests",
                  "unit_tests",
                  "fake",
                  "chat_model",
                  "FakeListChatModel"
                ],
                "name": "FakeListChatModel"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "FakeListChatModelOutput",
                "anyOf": [
                  {
                    "$ref": "#/definitions/AIMessage"
                  },
                  {
                    "$ref": "#/definitions/HumanMessage"
                  },
                  {
                    "$ref": "#/definitions/ChatMessage"
                  },
                  {
                    "$ref": "#/definitions/SystemMessage"
                  },
                  {
                    "$ref": "#/definitions/FunctionMessage"
                  },
                  {
                    "$ref": "#/definitions/ToolMessage"
                  }
                ],
                "definitions": {
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  }
                }
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "name": null
    },
    "name": "RunnableSequence",
    "graph": {
      "nodes": [
        {
          "id": 0,
          "type": "schema",
          "data": {
            "title": "PromptInput",
            "type": "object",
            "properties": {
              "question": {
                "title": "Question",
                "type": "string"
              }
            }
          }
        },
        {
          "id": 1,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "prompts",
              "chat",
              "ChatPromptTemplate"
            ],
            "name": "ChatPromptTemplate"
          }
        },
        {
          "id": 2,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "fake",
              "chat_model",
              "FakeListChatModel"
            ],
            "name": "FakeListChatModel"
          }
        },
        {
          "id": 3,
          "type": "schema",
          "data": {
            "title": "FakeListChatModelOutput",
            "anyOf": [
              {
                "$ref": "#/definitions/AIMessage"
              },
              {
                "$ref": "#/definitions/HumanMessage"
              },
              {
                "$ref": "#/definitions/ChatMessage"
              },
              {
                "$ref": "#/definitions/SystemMessage"
              },
              {
                "$ref": "#/definitions/FunctionMessage"
              },
              {
                "$ref": "#/definitions/ToolMessage"
              }
            ],
            "definitions": {
              "AIMessage": {
                "title": "AIMessage",
                "description": "Message from an AI.",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "ai",
                    "enum": [
                      "ai"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  },
                  "example": {
                    "title": "Example",
                    "default": false,
                    "type": "boolean"
                  }
                },
                "required": [
                  "content"
                ]
              },
              "HumanMessage": {
                "title": "HumanMessage",
                "description": "Message from a human.",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "human",
                    "enum": [
                      "human"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  },
                  "example": {
                    "title": "Example",
                    "default": false,
                    "type": "boolean"
                  }
                },
                "required": [
                  "content"
                ]
              },
              "ChatMessage": {
                "title": "ChatMessage",
                "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "chat",
                    "enum": [
                      "chat"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  },
                  "role": {
                    "title": "Role",
                    "type": "string"
                  }
                },
                "required": [
                  "content",
                  "role"
                ]
              },
              "SystemMessage": {
                "title": "SystemMessage",
                "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "system",
                    "enum": [
                      "system"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  }
                },
                "required": [
                  "content"
                ]
              },
              "FunctionMessage": {
                "title": "FunctionMessage",
                "description": "Message for passing the result of executing a function back to a model.",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "function",
                    "enum": [
                      "function"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  }
                },
                "required": [
                  "content",
                  "name"
                ]
              },
              "ToolMessage": {
                "title": "ToolMessage",
                "description": "Message for passing the result of executing a tool back to a model.",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "tool",
                    "enum": [
                      "tool"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  },
                  "tool_call_id": {
                    "title": "Tool Call Id",
                    "type": "string"
                  }
                },
                "required": [
                  "content",
                  "tool_call_id"
                ]
              }
            }
          }
        }
      ],
      "edges": [
        {
          "source": 0,
          "target": 1
        },
        {
          "source": 2,
          "target": 3
        },
        {
          "source": 1,
          "target": 2
        }
      ]
    }
  }
  '''
# ---
# name: test_prompt_with_chat_model_async.2
  list([
    Run(id=UUID('00000000-0000-4000-8000-000000000000'), name='RunnableSequence', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='chain', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'runnable', 'RunnableSequence'], 'kwargs': {'first': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'middle': [], 'last': {'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'repr': "FakeListChatModel(responses=['foo'])", 'name': 'FakeListChatModel', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeListChatModelInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'name': 'FakeListChatModel'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeListChatModelOutput', 'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'name': None}, 'name': 'RunnableSequence', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'name': 'FakeListChatModel'}}, {'id': 3, 'type': 'schema', 'data': {'title': 'FakeListChatModelOutput', 'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 2, 'target': 3}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your name?'}, outputs={'output': AIMessage(content='foo')}, reference_example_id=None, parent_run_id=None, tags=[], execution_order=None, child_execution_order=None, child_runs=[Run(id=UUID('00000000-0000-4000-8000-000000000001'), name='ChatPromptTemplate', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='prompt', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your name?'}, outputs={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptValue'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'SystemMessage'], 'kwargs': {'content': 'You are a nice assistant.', 'additional_kwargs': {}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'HumanMessage'], 'kwargs': {'content': 'What is your name?', 'additional_kwargs': {}}}]}}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:1'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000001'), Run(id=UUID('00000000-0000-4000-8000-000000000002'), name='FakeListChatModel', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='llm', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={'invocation_params': {'responses': ['foo'], '_type': 'fake-list-chat-model', 'stop': None}, 'options': {'stop': None}, 'batch_size': 1}, error=None, serialized={'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'repr': "FakeListChatModel(responses=['foo'])", 'name': 'FakeListChatModel', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeListChatModelInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'chat_model', 'FakeListChatModel'], 'name': 'FakeListChatModel'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeListChatModelOutput', 'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'prompts': ['System: You are a nice assistant.\nHuman: What is your name?']}, outputs={'generations': [[{'text': 'foo', 'generation_info': None, 'type': 'ChatGeneration', 'message': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'AIMessage'], 'kwargs': {'content': 'foo'}}}]], 'llm_output': None, 'run': None}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:2'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000002')], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000'),
  ])
# ---
# name: test_prompt_with_llm
  '''
  {
    "lc": 1,
    "type": "constructor",
    "id": [
      "langchain",
      "schema",
      "runnable",
      "RunnableSequence"
    ],
    "kwargs": {
      "first": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "prompts",
          "chat",
          "ChatPromptTemplate"
        ],
        "kwargs": {
          "messages": [
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "SystemMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [],
                    "template": "You are a nice assistant.",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {}
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            },
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "HumanMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [
                      "question"
                    ],
                    "template": "{question}",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {
                            "question": {
                              "title": "Question",
                              "type": "string"
                            }
                          }
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            }
          ],
          "input_variables": [
            "question"
          ]
        },
        "name": "ChatPromptTemplate",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "PromptInput",
                "type": "object",
                "properties": {
                  "question": {
                    "title": "Question",
                    "type": "string"
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain",
                  "prompts",
                  "chat",
                  "ChatPromptTemplate"
                ],
                "name": "ChatPromptTemplate"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "ChatPromptTemplateOutput",
                "anyOf": [
                  {
                    "$ref": "#/definitions/StringPromptValue"
                  },
                  {
                    "$ref": "#/definitions/ChatPromptValueConcrete"
                  }
                ],
                "definitions": {
                  "StringPromptValue": {
                    "title": "StringPromptValue",
                    "description": "String prompt value.",
                    "type": "object",
                    "properties": {
                      "text": {
                        "title": "Text",
                        "type": "string"
                      },
                      "type": {
                        "title": "Type",
                        "default": "StringPromptValue",
                        "enum": [
                          "StringPromptValue"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "text"
                    ]
                  },
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  },
                  "ChatPromptValueConcrete": {
                    "title": "ChatPromptValueConcrete",
                    "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                    "type": "object",
                    "properties": {
                      "messages": {
                        "title": "Messages",
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/AIMessage"
                            },
                            {
                              "$ref": "#/definitions/HumanMessage"
                            },
                            {
                              "$ref": "#/definitions/ChatMessage"
                            },
                            {
                              "$ref": "#/definitions/SystemMessage"
                            },
                            {
                              "$ref": "#/definitions/FunctionMessage"
                            },
                            {
                              "$ref": "#/definitions/ToolMessage"
                            }
                          ]
                        }
                      },
                      "type": {
                        "title": "Type",
                        "default": "ChatPromptValueConcrete",
                        "enum": [
                          "ChatPromptValueConcrete"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "messages"
                    ]
                  }
                }
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "middle": [],
      "last": {
        "lc": 1,
        "type": "not_implemented",
        "id": [
          "tests",
          "unit_tests",
          "fake",
          "llm",
          "FakeListLLM"
        ],
        "repr": "FakeListLLM(responses=['foo', 'bar'])",
        "name": "FakeListLLM",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "FakeListLLMInput",
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/definitions/StringPromptValue"
                  },
                  {
                    "$ref": "#/definitions/ChatPromptValueConcrete"
                  },
                  {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/AIMessage"
                        },
                        {
                          "$ref": "#/definitions/HumanMessage"
                        },
                        {
                          "$ref": "#/definitions/ChatMessage"
                        },
                        {
                          "$ref": "#/definitions/SystemMessage"
                        },
                        {
                          "$ref": "#/definitions/FunctionMessage"
                        },
                        {
                          "$ref": "#/definitions/ToolMessage"
                        }
                      ]
                    }
                  }
                ],
                "definitions": {
                  "StringPromptValue": {
                    "title": "StringPromptValue",
                    "description": "String prompt value.",
                    "type": "object",
                    "properties": {
                      "text": {
                        "title": "Text",
                        "type": "string"
                      },
                      "type": {
                        "title": "Type",
                        "default": "StringPromptValue",
                        "enum": [
                          "StringPromptValue"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "text"
                    ]
                  },
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  },
                  "ChatPromptValueConcrete": {
                    "title": "ChatPromptValueConcrete",
                    "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                    "type": "object",
                    "properties": {
                      "messages": {
                        "title": "Messages",
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/AIMessage"
                            },
                            {
                              "$ref": "#/definitions/HumanMessage"
                            },
                            {
                              "$ref": "#/definitions/ChatMessage"
                            },
                            {
                              "$ref": "#/definitions/SystemMessage"
                            },
                            {
                              "$ref": "#/definitions/FunctionMessage"
                            },
                            {
                              "$ref": "#/definitions/ToolMessage"
                            }
                          ]
                        }
                      },
                      "type": {
                        "title": "Type",
                        "default": "ChatPromptValueConcrete",
                        "enum": [
                          "ChatPromptValueConcrete"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "messages"
                    ]
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "tests",
                  "unit_tests",
                  "fake",
                  "llm",
                  "FakeListLLM"
                ],
                "name": "FakeListLLM"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "FakeListLLMOutput",
                "type": "string"
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "name": null
    },
    "name": "RunnableSequence",
    "graph": {
      "nodes": [
        {
          "id": 0,
          "type": "schema",
          "data": {
            "title": "PromptInput",
            "type": "object",
            "properties": {
              "question": {
                "title": "Question",
                "type": "string"
              }
            }
          }
        },
        {
          "id": 1,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "prompts",
              "chat",
              "ChatPromptTemplate"
            ],
            "name": "ChatPromptTemplate"
          }
        },
        {
          "id": 2,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "fake",
              "llm",
              "FakeListLLM"
            ],
            "name": "FakeListLLM"
          }
        },
        {
          "id": 3,
          "type": "schema",
          "data": {
            "title": "FakeListLLMOutput",
            "type": "string"
          }
        }
      ],
      "edges": [
        {
          "source": 0,
          "target": 1
        },
        {
          "source": 2,
          "target": 3
        },
        {
          "source": 1,
          "target": 2
        }
      ]
    }
  }
  '''
# ---
# name: test_prompt_with_llm.1
  list([
    Run(id=UUID('00000000-0000-4000-8000-000000000000'), name='RunnableSequence', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='chain', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'runnable', 'RunnableSequence'], 'kwargs': {'first': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'middle': [], 'last': {'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeListLLM'], 'repr': "FakeListLLM(responses=['foo', 'bar'])", 'name': 'FakeListLLM', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeListLLMInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeListLLM'], 'name': 'FakeListLLM'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeListLLMOutput', 'type': 'string'}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'name': None}, 'name': 'RunnableSequence', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeListLLM'], 'name': 'FakeListLLM'}}, {'id': 3, 'type': 'schema', 'data': {'title': 'FakeListLLMOutput', 'type': 'string'}}], 'edges': [{'source': 0, 'target': 1}, {'source': 2, 'target': 3}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your name?'}, outputs={'output': 'foo'}, reference_example_id=None, parent_run_id=None, tags=[], execution_order=None, child_execution_order=None, child_runs=[Run(id=UUID('00000000-0000-4000-8000-000000000001'), name='ChatPromptTemplate', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='prompt', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your name?'}, outputs={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptValue'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'SystemMessage'], 'kwargs': {'content': 'You are a nice assistant.', 'additional_kwargs': {}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'HumanMessage'], 'kwargs': {'content': 'What is your name?', 'additional_kwargs': {}}}]}}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:1'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000001'), Run(id=UUID('00000000-0000-4000-8000-000000000002'), name='FakeListLLM', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='llm', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={'invocation_params': {'responses': ['foo', 'bar'], '_type': 'fake-list', 'stop': None}, 'options': {'stop': None}, 'batch_size': 1}, error=None, serialized={'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeListLLM'], 'repr': "FakeListLLM(responses=['foo', 'bar'])", 'name': 'FakeListLLM', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeListLLMInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeListLLM'], 'name': 'FakeListLLM'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeListLLMOutput', 'type': 'string'}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'prompts': ['System: You are a nice assistant.\nHuman: What is your name?']}, outputs={'generations': [[{'text': 'foo', 'generation_info': None, 'type': 'Generation'}]], 'llm_output': None, 'run': None}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:2'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000002')], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000'),
  ])
# ---
# name: test_prompt_with_llm.2
  list([
    Run(id=UUID('00000000-0000-4000-8000-000000000000'), name='RunnableSequence', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='chain', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'runnable', 'RunnableSequence'], 'kwargs': {'first': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'middle': [], 'last': {'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeListLLM'], 'repr': "FakeListLLM(responses=['foo', 'bar'], i=1)", 'name': 'FakeListLLM', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeListLLMInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeListLLM'], 'name': 'FakeListLLM'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeListLLMOutput', 'type': 'string'}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'name': None}, 'name': 'RunnableSequence', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeListLLM'], 'name': 'FakeListLLM'}}, {'id': 3, 'type': 'schema', 'data': {'title': 'FakeListLLMOutput', 'type': 'string'}}], 'edges': [{'source': 0, 'target': 1}, {'source': 2, 'target': 3}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your name?'}, outputs={'output': 'bar'}, reference_example_id=None, parent_run_id=None, tags=[], execution_order=None, child_execution_order=None, child_runs=[Run(id=UUID('00000000-0000-4000-8000-000000000001'), name='ChatPromptTemplate', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='prompt', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your name?'}, outputs={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptValue'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'SystemMessage'], 'kwargs': {'content': 'You are a nice assistant.', 'additional_kwargs': {}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'HumanMessage'], 'kwargs': {'content': 'What is your name?', 'additional_kwargs': {}}}]}}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:1'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000001'), Run(id=UUID('00000000-0000-4000-8000-000000000002'), name='FakeListLLM', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='llm', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={'invocation_params': {'responses': ['foo', 'bar'], '_type': 'fake-list', 'stop': None}, 'options': {'stop': None}, 'batch_size': 2}, error=None, serialized={'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeListLLM'], 'repr': "FakeListLLM(responses=['foo', 'bar'], i=1)", 'name': 'FakeListLLM', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeListLLMInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeListLLM'], 'name': 'FakeListLLM'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeListLLMOutput', 'type': 'string'}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'prompts': ['System: You are a nice assistant.\nHuman: What is your name?']}, outputs={'generations': [[{'text': 'bar', 'generation_info': None, 'type': 'Generation'}]], 'llm_output': None, 'run': None}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:2'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000002')], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000'),
    Run(id=UUID('00000000-0000-4000-8000-000000000003'), name='RunnableSequence', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='chain', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'runnable', 'RunnableSequence'], 'kwargs': {'first': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'middle': [], 'last': {'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeListLLM'], 'repr': "FakeListLLM(responses=['foo', 'bar'], i=1)", 'name': 'FakeListLLM', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeListLLMInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeListLLM'], 'name': 'FakeListLLM'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeListLLMOutput', 'type': 'string'}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'name': None}, 'name': 'RunnableSequence', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeListLLM'], 'name': 'FakeListLLM'}}, {'id': 3, 'type': 'schema', 'data': {'title': 'FakeListLLMOutput', 'type': 'string'}}], 'edges': [{'source': 0, 'target': 1}, {'source': 2, 'target': 3}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your favorite color?'}, outputs={'output': 'foo'}, reference_example_id=None, parent_run_id=None, tags=[], execution_order=None, child_execution_order=None, child_runs=[Run(id=UUID('00000000-0000-4000-8000-000000000004'), name='ChatPromptTemplate', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='prompt', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your favorite color?'}, outputs={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptValue'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'SystemMessage'], 'kwargs': {'content': 'You are a nice assistant.', 'additional_kwargs': {}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'HumanMessage'], 'kwargs': {'content': 'What is your favorite color?', 'additional_kwargs': {}}}]}}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000003'), tags=['seq:step:1'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000003'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000003.20230101T000000000000Z00000000-0000-4000-8000-000000000004'), Run(id=UUID('00000000-0000-4000-8000-000000000005'), name='FakeListLLM', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='llm', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={'invocation_params': {'responses': ['foo', 'bar'], '_type': 'fake-list', 'stop': None}, 'options': {'stop': None}, 'batch_size': 2}, error=None, serialized={'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeListLLM'], 'repr': "FakeListLLM(responses=['foo', 'bar'], i=1)", 'name': 'FakeListLLM', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeListLLMInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeListLLM'], 'name': 'FakeListLLM'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeListLLMOutput', 'type': 'string'}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'prompts': ['System: You are a nice assistant.\nHuman: What is your favorite color?']}, outputs={'generations': [[{'text': 'foo', 'generation_info': None, 'type': 'Generation'}]], 'llm_output': None, 'run': None}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000003'), tags=['seq:step:2'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000003'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000003.20230101T000000000000Z00000000-0000-4000-8000-000000000005')], trace_id=UUID('00000000-0000-4000-8000-000000000003'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000003'),
  ])
# ---
# name: test_prompt_with_llm_and_async_lambda
  '''
  {
    "lc": 1,
    "type": "constructor",
    "id": [
      "langchain",
      "schema",
      "runnable",
      "RunnableSequence"
    ],
    "kwargs": {
      "first": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "prompts",
          "chat",
          "ChatPromptTemplate"
        ],
        "kwargs": {
          "messages": [
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "SystemMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [],
                    "template": "You are a nice assistant.",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {}
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            },
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "HumanMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [
                      "question"
                    ],
                    "template": "{question}",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {
                            "question": {
                              "title": "Question",
                              "type": "string"
                            }
                          }
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            }
          ],
          "input_variables": [
            "question"
          ]
        },
        "name": "ChatPromptTemplate",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "PromptInput",
                "type": "object",
                "properties": {
                  "question": {
                    "title": "Question",
                    "type": "string"
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain",
                  "prompts",
                  "chat",
                  "ChatPromptTemplate"
                ],
                "name": "ChatPromptTemplate"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "ChatPromptTemplateOutput",
                "anyOf": [
                  {
                    "$ref": "#/definitions/StringPromptValue"
                  },
                  {
                    "$ref": "#/definitions/ChatPromptValueConcrete"
                  }
                ],
                "definitions": {
                  "StringPromptValue": {
                    "title": "StringPromptValue",
                    "description": "String prompt value.",
                    "type": "object",
                    "properties": {
                      "text": {
                        "title": "Text",
                        "type": "string"
                      },
                      "type": {
                        "title": "Type",
                        "default": "StringPromptValue",
                        "enum": [
                          "StringPromptValue"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "text"
                    ]
                  },
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  },
                  "ChatPromptValueConcrete": {
                    "title": "ChatPromptValueConcrete",
                    "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                    "type": "object",
                    "properties": {
                      "messages": {
                        "title": "Messages",
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/AIMessage"
                            },
                            {
                              "$ref": "#/definitions/HumanMessage"
                            },
                            {
                              "$ref": "#/definitions/ChatMessage"
                            },
                            {
                              "$ref": "#/definitions/SystemMessage"
                            },
                            {
                              "$ref": "#/definitions/FunctionMessage"
                            },
                            {
                              "$ref": "#/definitions/ToolMessage"
                            }
                          ]
                        }
                      },
                      "type": {
                        "title": "Type",
                        "default": "ChatPromptValueConcrete",
                        "enum": [
                          "ChatPromptValueConcrete"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "messages"
                    ]
                  }
                }
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "middle": [
        {
          "lc": 1,
          "type": "not_implemented",
          "id": [
            "tests",
            "unit_tests",
            "fake",
            "llm",
            "FakeListLLM"
          ],
          "repr": "FakeListLLM(responses=['foo', 'bar'])",
          "name": "FakeListLLM",
          "graph": {
            "nodes": [
              {
                "id": 0,
                "type": "schema",
                "data": {
                  "title": "FakeListLLMInput",
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/definitions/StringPromptValue"
                    },
                    {
                      "$ref": "#/definitions/ChatPromptValueConcrete"
                    },
                    {
                      "type": "array",
                      "items": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/AIMessage"
                          },
                          {
                            "$ref": "#/definitions/HumanMessage"
                          },
                          {
                            "$ref": "#/definitions/ChatMessage"
                          },
                          {
                            "$ref": "#/definitions/SystemMessage"
                          },
                          {
                            "$ref": "#/definitions/FunctionMessage"
                          },
                          {
                            "$ref": "#/definitions/ToolMessage"
                          }
                        ]
                      }
                    }
                  ],
                  "definitions": {
                    "StringPromptValue": {
                      "title": "StringPromptValue",
                      "description": "String prompt value.",
                      "type": "object",
                      "properties": {
                        "text": {
                          "title": "Text",
                          "type": "string"
                        },
                        "type": {
                          "title": "Type",
                          "default": "StringPromptValue",
                          "enum": [
                            "StringPromptValue"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "text"
                      ]
                    },
                    "AIMessage": {
                      "title": "AIMessage",
                      "description": "Message from an AI.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "ai",
                          "enum": [
                            "ai"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "HumanMessage": {
                      "title": "HumanMessage",
                      "description": "Message from a human.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "human",
                          "enum": [
                            "human"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "ChatMessage": {
                      "title": "ChatMessage",
                      "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "chat",
                          "enum": [
                            "chat"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "role": {
                          "title": "Role",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "role"
                      ]
                    },
                    "SystemMessage": {
                      "title": "SystemMessage",
                      "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "system",
                          "enum": [
                            "system"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "FunctionMessage": {
                      "title": "FunctionMessage",
                      "description": "Message for passing the result of executing a function back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "function",
                          "enum": [
                            "function"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "name"
                      ]
                    },
                    "ToolMessage": {
                      "title": "ToolMessage",
                      "description": "Message for passing the result of executing a tool back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "tool",
                          "enum": [
                            "tool"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "tool_call_id": {
                          "title": "Tool Call Id",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "tool_call_id"
                      ]
                    },
                    "ChatPromptValueConcrete": {
                      "title": "ChatPromptValueConcrete",
                      "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                      "type": "object",
                      "properties": {
                        "messages": {
                          "title": "Messages",
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "$ref": "#/definitions/AIMessage"
                              },
                              {
                                "$ref": "#/definitions/HumanMessage"
                              },
                              {
                                "$ref": "#/definitions/ChatMessage"
                              },
                              {
                                "$ref": "#/definitions/SystemMessage"
                              },
                              {
                                "$ref": "#/definitions/FunctionMessage"
                              },
                              {
                                "$ref": "#/definitions/ToolMessage"
                              }
                            ]
                          }
                        },
                        "type": {
                          "title": "Type",
                          "default": "ChatPromptValueConcrete",
                          "enum": [
                            "ChatPromptValueConcrete"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "messages"
                      ]
                    }
                  }
                }
              },
              {
                "id": 1,
                "type": "runnable",
                "data": {
                  "id": [
                    "tests",
                    "unit_tests",
                    "fake",
                    "llm",
                    "FakeListLLM"
                  ],
                  "name": "FakeListLLM"
                }
              },
              {
                "id": 2,
                "type": "schema",
                "data": {
                  "title": "FakeListLLMOutput",
                  "type": "string"
                }
              }
            ],
            "edges": [
              {
                "source": 0,
                "target": 1
              },
              {
                "source": 1,
                "target": 2
              }
            ]
          }
        }
      ],
      "last": {
        "lc": 1,
        "type": "not_implemented",
        "id": [
          "langchain_core",
          "runnables",
          "base",
          "RunnableLambda"
        ],
        "repr": "RunnableLambda(afunc=passthrough)"
      },
      "name": null
    },
    "name": "RunnableSequence",
    "graph": {
      "nodes": [
        {
          "id": 0,
          "type": "schema",
          "data": {
            "title": "PromptInput",
            "type": "object",
            "properties": {
              "question": {
                "title": "Question",
                "type": "string"
              }
            }
          }
        },
        {
          "id": 1,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "prompts",
              "chat",
              "ChatPromptTemplate"
            ],
            "name": "ChatPromptTemplate"
          }
        },
        {
          "id": 2,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "fake",
              "llm",
              "FakeListLLM"
            ],
            "name": "FakeListLLM"
          }
        },
        {
          "id": 3,
          "type": "runnable",
          "data": {
            "id": [
              "langchain_core",
              "runnables",
              "base",
              "RunnableLambda"
            ],
            "name": "passthrough"
          }
        },
        {
          "id": 4,
          "type": "schema",
          "data": {
            "title": "passthrough_output"
          }
        }
      ],
      "edges": [
        {
          "source": 0,
          "target": 1
        },
        {
          "source": 1,
          "target": 2
        },
        {
          "source": 3,
          "target": 4
        },
        {
          "source": 2,
          "target": 3
        }
      ]
    }
  }
  '''
# ---
# name: test_prompt_with_llm_and_async_lambda.1
  list([
    Run(id=UUID('00000000-0000-4000-8000-000000000000'), name='RunnableSequence', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='chain', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'runnable', 'RunnableSequence'], 'kwargs': {'first': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'middle': [{'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeListLLM'], 'repr': "FakeListLLM(responses=['foo', 'bar'])", 'name': 'FakeListLLM', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeListLLMInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeListLLM'], 'name': 'FakeListLLM'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeListLLMOutput', 'type': 'string'}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}], 'last': {'lc': 1, 'type': 'not_implemented', 'id': ['langchain_core', 'runnables', 'base', 'RunnableLambda'], 'repr': 'RunnableLambda(afunc=passthrough)'}, 'name': None}, 'name': 'RunnableSequence', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeListLLM'], 'name': 'FakeListLLM'}}, {'id': 3, 'type': 'runnable', 'data': {'id': ['langchain_core', 'runnables', 'base', 'RunnableLambda'], 'name': 'passthrough'}}, {'id': 4, 'type': 'schema', 'data': {'title': 'passthrough_output'}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}, {'source': 3, 'target': 4}, {'source': 2, 'target': 3}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your name?'}, outputs={'output': 'foo'}, reference_example_id=None, parent_run_id=None, tags=[], execution_order=None, child_execution_order=None, child_runs=[Run(id=UUID('00000000-0000-4000-8000-000000000001'), name='ChatPromptTemplate', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='prompt', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your name?'}, outputs={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptValue'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'SystemMessage'], 'kwargs': {'content': 'You are a nice assistant.', 'additional_kwargs': {}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'HumanMessage'], 'kwargs': {'content': 'What is your name?', 'additional_kwargs': {}}}]}}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:1'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000001'), Run(id=UUID('00000000-0000-4000-8000-000000000002'), name='FakeListLLM', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='llm', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={'invocation_params': {'responses': ['foo', 'bar'], '_type': 'fake-list', 'stop': None}, 'options': {'stop': None}, 'batch_size': 1}, error=None, serialized={'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeListLLM'], 'repr': "FakeListLLM(responses=['foo', 'bar'])", 'name': 'FakeListLLM', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeListLLMInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeListLLM'], 'name': 'FakeListLLM'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeListLLMOutput', 'type': 'string'}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'prompts': ['System: You are a nice assistant.\nHuman: What is your name?']}, outputs={'generations': [[{'text': 'foo', 'generation_info': None, 'type': 'Generation'}]], 'llm_output': None, 'run': None}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:2'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000002'), Run(id=UUID('00000000-0000-4000-8000-000000000003'), name='passthrough', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='chain', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'not_implemented', 'id': ['langchain_core', 'runnables', 'base', 'RunnableLambda'], 'repr': 'RunnableLambda(afunc=passthrough)'}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'input': 'foo'}, outputs={'output': 'foo'}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:3'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000003')], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000'),
  ])
# ---
# name: test_prompt_with_llm_parser
  '''
  {
    "lc": 1,
    "type": "constructor",
    "id": [
      "langchain",
      "schema",
      "runnable",
      "RunnableSequence"
    ],
    "kwargs": {
      "first": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "prompts",
          "chat",
          "ChatPromptTemplate"
        ],
        "kwargs": {
          "messages": [
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "SystemMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [],
                    "template": "You are a nice assistant.",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {}
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            },
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "HumanMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [
                      "question"
                    ],
                    "template": "{question}",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {
                            "question": {
                              "title": "Question",
                              "type": "string"
                            }
                          }
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            }
          ],
          "input_variables": [
            "question"
          ]
        },
        "name": "ChatPromptTemplate",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "PromptInput",
                "type": "object",
                "properties": {
                  "question": {
                    "title": "Question",
                    "type": "string"
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain",
                  "prompts",
                  "chat",
                  "ChatPromptTemplate"
                ],
                "name": "ChatPromptTemplate"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "ChatPromptTemplateOutput",
                "anyOf": [
                  {
                    "$ref": "#/definitions/StringPromptValue"
                  },
                  {
                    "$ref": "#/definitions/ChatPromptValueConcrete"
                  }
                ],
                "definitions": {
                  "StringPromptValue": {
                    "title": "StringPromptValue",
                    "description": "String prompt value.",
                    "type": "object",
                    "properties": {
                      "text": {
                        "title": "Text",
                        "type": "string"
                      },
                      "type": {
                        "title": "Type",
                        "default": "StringPromptValue",
                        "enum": [
                          "StringPromptValue"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "text"
                    ]
                  },
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  },
                  "ChatPromptValueConcrete": {
                    "title": "ChatPromptValueConcrete",
                    "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                    "type": "object",
                    "properties": {
                      "messages": {
                        "title": "Messages",
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/AIMessage"
                            },
                            {
                              "$ref": "#/definitions/HumanMessage"
                            },
                            {
                              "$ref": "#/definitions/ChatMessage"
                            },
                            {
                              "$ref": "#/definitions/SystemMessage"
                            },
                            {
                              "$ref": "#/definitions/FunctionMessage"
                            },
                            {
                              "$ref": "#/definitions/ToolMessage"
                            }
                          ]
                        }
                      },
                      "type": {
                        "title": "Type",
                        "default": "ChatPromptValueConcrete",
                        "enum": [
                          "ChatPromptValueConcrete"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "messages"
                    ]
                  }
                }
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "middle": [
        {
          "lc": 1,
          "type": "not_implemented",
          "id": [
            "tests",
            "unit_tests",
            "fake",
            "llm",
            "FakeStreamingListLLM"
          ],
          "repr": "FakeStreamingListLLM(responses=['bear, dog, cat', 'tomato, lettuce, onion'])",
          "name": "FakeStreamingListLLM",
          "graph": {
            "nodes": [
              {
                "id": 0,
                "type": "schema",
                "data": {
                  "title": "FakeStreamingListLLMInput",
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/definitions/StringPromptValue"
                    },
                    {
                      "$ref": "#/definitions/ChatPromptValueConcrete"
                    },
                    {
                      "type": "array",
                      "items": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/AIMessage"
                          },
                          {
                            "$ref": "#/definitions/HumanMessage"
                          },
                          {
                            "$ref": "#/definitions/ChatMessage"
                          },
                          {
                            "$ref": "#/definitions/SystemMessage"
                          },
                          {
                            "$ref": "#/definitions/FunctionMessage"
                          },
                          {
                            "$ref": "#/definitions/ToolMessage"
                          }
                        ]
                      }
                    }
                  ],
                  "definitions": {
                    "StringPromptValue": {
                      "title": "StringPromptValue",
                      "description": "String prompt value.",
                      "type": "object",
                      "properties": {
                        "text": {
                          "title": "Text",
                          "type": "string"
                        },
                        "type": {
                          "title": "Type",
                          "default": "StringPromptValue",
                          "enum": [
                            "StringPromptValue"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "text"
                      ]
                    },
                    "AIMessage": {
                      "title": "AIMessage",
                      "description": "Message from an AI.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "ai",
                          "enum": [
                            "ai"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "HumanMessage": {
                      "title": "HumanMessage",
                      "description": "Message from a human.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "human",
                          "enum": [
                            "human"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "ChatMessage": {
                      "title": "ChatMessage",
                      "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "chat",
                          "enum": [
                            "chat"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "role": {
                          "title": "Role",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "role"
                      ]
                    },
                    "SystemMessage": {
                      "title": "SystemMessage",
                      "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "system",
                          "enum": [
                            "system"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "FunctionMessage": {
                      "title": "FunctionMessage",
                      "description": "Message for passing the result of executing a function back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "function",
                          "enum": [
                            "function"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "name"
                      ]
                    },
                    "ToolMessage": {
                      "title": "ToolMessage",
                      "description": "Message for passing the result of executing a tool back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "tool",
                          "enum": [
                            "tool"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "tool_call_id": {
                          "title": "Tool Call Id",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "tool_call_id"
                      ]
                    },
                    "ChatPromptValueConcrete": {
                      "title": "ChatPromptValueConcrete",
                      "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                      "type": "object",
                      "properties": {
                        "messages": {
                          "title": "Messages",
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "$ref": "#/definitions/AIMessage"
                              },
                              {
                                "$ref": "#/definitions/HumanMessage"
                              },
                              {
                                "$ref": "#/definitions/ChatMessage"
                              },
                              {
                                "$ref": "#/definitions/SystemMessage"
                              },
                              {
                                "$ref": "#/definitions/FunctionMessage"
                              },
                              {
                                "$ref": "#/definitions/ToolMessage"
                              }
                            ]
                          }
                        },
                        "type": {
                          "title": "Type",
                          "default": "ChatPromptValueConcrete",
                          "enum": [
                            "ChatPromptValueConcrete"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "messages"
                      ]
                    }
                  }
                }
              },
              {
                "id": 1,
                "type": "runnable",
                "data": {
                  "id": [
                    "tests",
                    "unit_tests",
                    "fake",
                    "llm",
                    "FakeStreamingListLLM"
                  ],
                  "name": "FakeStreamingListLLM"
                }
              },
              {
                "id": 2,
                "type": "schema",
                "data": {
                  "title": "FakeStreamingListLLMOutput",
                  "type": "string"
                }
              }
            ],
            "edges": [
              {
                "source": 0,
                "target": 1
              },
              {
                "source": 1,
                "target": 2
              }
            ]
          }
        }
      ],
      "last": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "output_parsers",
          "list",
          "CommaSeparatedListOutputParser"
        ],
        "kwargs": {},
        "name": "CommaSeparatedListOutputParser",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "CommaSeparatedListOutputParserInput",
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/definitions/AIMessage"
                  },
                  {
                    "$ref": "#/definitions/HumanMessage"
                  },
                  {
                    "$ref": "#/definitions/ChatMessage"
                  },
                  {
                    "$ref": "#/definitions/SystemMessage"
                  },
                  {
                    "$ref": "#/definitions/FunctionMessage"
                  },
                  {
                    "$ref": "#/definitions/ToolMessage"
                  }
                ],
                "definitions": {
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain",
                  "output_parsers",
                  "list",
                  "CommaSeparatedListOutputParser"
                ],
                "name": "CommaSeparatedListOutputParser"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "CommaSeparatedListOutputParserOutput",
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "name": null
    },
    "name": "RunnableSequence",
    "graph": {
      "nodes": [
        {
          "id": 0,
          "type": "schema",
          "data": {
            "title": "PromptInput",
            "type": "object",
            "properties": {
              "question": {
                "title": "Question",
                "type": "string"
              }
            }
          }
        },
        {
          "id": 1,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "prompts",
              "chat",
              "ChatPromptTemplate"
            ],
            "name": "ChatPromptTemplate"
          }
        },
        {
          "id": 2,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "fake",
              "llm",
              "FakeStreamingListLLM"
            ],
            "name": "FakeStreamingListLLM"
          }
        },
        {
          "id": 3,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "output_parsers",
              "list",
              "CommaSeparatedListOutputParser"
            ],
            "name": "CommaSeparatedListOutputParser"
          }
        },
        {
          "id": 4,
          "type": "schema",
          "data": {
            "title": "CommaSeparatedListOutputParserOutput",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      ],
      "edges": [
        {
          "source": 0,
          "target": 1
        },
        {
          "source": 1,
          "target": 2
        },
        {
          "source": 3,
          "target": 4
        },
        {
          "source": 2,
          "target": 3
        }
      ]
    }
  }
  '''
# ---
# name: test_prompt_with_llm_parser.1
  list([
    Run(id=UUID('00000000-0000-4000-8000-000000000000'), name='RunnableSequence', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='chain', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'runnable', 'RunnableSequence'], 'kwargs': {'first': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'middle': [{'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeStreamingListLLM'], 'repr': "FakeStreamingListLLM(responses=['bear, dog, cat', 'tomato, lettuce, onion'])", 'name': 'FakeStreamingListLLM', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeStreamingListLLMInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeStreamingListLLM'], 'name': 'FakeStreamingListLLM'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeStreamingListLLMOutput', 'type': 'string'}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}], 'last': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'kwargs': {}, 'name': 'CommaSeparatedListOutputParser', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'name': 'CommaSeparatedListOutputParser'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserOutput', 'type': 'array', 'items': {'type': 'string'}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'name': None}, 'name': 'RunnableSequence', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeStreamingListLLM'], 'name': 'FakeStreamingListLLM'}}, {'id': 3, 'type': 'runnable', 'data': {'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'name': 'CommaSeparatedListOutputParser'}}, {'id': 4, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserOutput', 'type': 'array', 'items': {'type': 'string'}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}, {'source': 3, 'target': 4}, {'source': 2, 'target': 3}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your name?'}, outputs={'output': ['bear', 'dog', 'cat']}, reference_example_id=None, parent_run_id=None, tags=[], execution_order=None, child_execution_order=None, child_runs=[Run(id=UUID('00000000-0000-4000-8000-000000000001'), name='ChatPromptTemplate', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='prompt', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your name?'}, outputs={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptValue'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'SystemMessage'], 'kwargs': {'content': 'You are a nice assistant.', 'additional_kwargs': {}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'HumanMessage'], 'kwargs': {'content': 'What is your name?', 'additional_kwargs': {}}}]}}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:1'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000001'), Run(id=UUID('00000000-0000-4000-8000-000000000002'), name='FakeStreamingListLLM', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='llm', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={'invocation_params': {'responses': ['bear, dog, cat', 'tomato, lettuce, onion'], '_type': 'fake-list', 'stop': None}, 'options': {'stop': None}, 'batch_size': 1}, error=None, serialized={'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeStreamingListLLM'], 'repr': "FakeStreamingListLLM(responses=['bear, dog, cat', 'tomato, lettuce, onion'])", 'name': 'FakeStreamingListLLM', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeStreamingListLLMInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeStreamingListLLM'], 'name': 'FakeStreamingListLLM'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeStreamingListLLMOutput', 'type': 'string'}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'prompts': ['System: You are a nice assistant.\nHuman: What is your name?']}, outputs={'generations': [[{'text': 'bear, dog, cat', 'generation_info': None, 'type': 'Generation'}]], 'llm_output': None, 'run': None}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:2'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000002'), Run(id=UUID('00000000-0000-4000-8000-000000000003'), name='CommaSeparatedListOutputParser', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='parser', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'kwargs': {}, 'name': 'CommaSeparatedListOutputParser', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'name': 'CommaSeparatedListOutputParser'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserOutput', 'type': 'array', 'items': {'type': 'string'}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'input': 'bear, dog, cat'}, outputs={'output': ['bear', 'dog', 'cat']}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:3'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000003')], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000'),
  ])
# ---
# name: test_prompt_with_llm_parser.2
  list([
    Run(id=UUID('00000000-0000-4000-8000-000000000000'), name='RunnableSequence', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='chain', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'runnable', 'RunnableSequence'], 'kwargs': {'first': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'middle': [{'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeStreamingListLLM'], 'repr': "FakeStreamingListLLM(responses=['bear, dog, cat', 'tomato, lettuce, onion'], i=1)", 'name': 'FakeStreamingListLLM', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeStreamingListLLMInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeStreamingListLLM'], 'name': 'FakeStreamingListLLM'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeStreamingListLLMOutput', 'type': 'string'}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}], 'last': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'kwargs': {}, 'name': 'CommaSeparatedListOutputParser', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'name': 'CommaSeparatedListOutputParser'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserOutput', 'type': 'array', 'items': {'type': 'string'}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'name': None}, 'name': 'RunnableSequence', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeStreamingListLLM'], 'name': 'FakeStreamingListLLM'}}, {'id': 3, 'type': 'runnable', 'data': {'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'name': 'CommaSeparatedListOutputParser'}}, {'id': 4, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserOutput', 'type': 'array', 'items': {'type': 'string'}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}, {'source': 3, 'target': 4}, {'source': 2, 'target': 3}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your name?'}, outputs={'output': ['tomato', 'lettuce', 'onion']}, reference_example_id=None, parent_run_id=None, tags=[], execution_order=None, child_execution_order=None, child_runs=[Run(id=UUID('00000000-0000-4000-8000-000000000001'), name='ChatPromptTemplate', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='prompt', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your name?'}, outputs={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptValue'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'SystemMessage'], 'kwargs': {'content': 'You are a nice assistant.', 'additional_kwargs': {}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'HumanMessage'], 'kwargs': {'content': 'What is your name?', 'additional_kwargs': {}}}]}}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:1'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000001'), Run(id=UUID('00000000-0000-4000-8000-000000000002'), name='FakeStreamingListLLM', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='llm', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={'invocation_params': {'responses': ['bear, dog, cat', 'tomato, lettuce, onion'], '_type': 'fake-list', 'stop': None}, 'options': {'stop': None}, 'batch_size': 2}, error=None, serialized={'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeStreamingListLLM'], 'repr': "FakeStreamingListLLM(responses=['bear, dog, cat', 'tomato, lettuce, onion'], i=1)", 'name': 'FakeStreamingListLLM', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeStreamingListLLMInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeStreamingListLLM'], 'name': 'FakeStreamingListLLM'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeStreamingListLLMOutput', 'type': 'string'}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'prompts': ['System: You are a nice assistant.\nHuman: What is your name?']}, outputs={'generations': [[{'text': 'tomato, lettuce, onion', 'generation_info': None, 'type': 'Generation'}]], 'llm_output': None, 'run': None}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:2'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000002'), Run(id=UUID('00000000-0000-4000-8000-000000000003'), name='CommaSeparatedListOutputParser', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='parser', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'kwargs': {}, 'name': 'CommaSeparatedListOutputParser', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'name': 'CommaSeparatedListOutputParser'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserOutput', 'type': 'array', 'items': {'type': 'string'}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'input': 'tomato, lettuce, onion'}, outputs={'output': ['tomato', 'lettuce', 'onion']}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000000'), tags=['seq:step:3'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000.20230101T000000000000Z00000000-0000-4000-8000-000000000003')], trace_id=UUID('00000000-0000-4000-8000-000000000000'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000000'),
    Run(id=UUID('00000000-0000-4000-8000-000000000004'), name='RunnableSequence', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='chain', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'runnable', 'RunnableSequence'], 'kwargs': {'first': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'middle': [{'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeStreamingListLLM'], 'repr': "FakeStreamingListLLM(responses=['bear, dog, cat', 'tomato, lettuce, onion'], i=1)", 'name': 'FakeStreamingListLLM', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeStreamingListLLMInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeStreamingListLLM'], 'name': 'FakeStreamingListLLM'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeStreamingListLLMOutput', 'type': 'string'}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}], 'last': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'kwargs': {}, 'name': 'CommaSeparatedListOutputParser', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'name': 'CommaSeparatedListOutputParser'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserOutput', 'type': 'array', 'items': {'type': 'string'}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, 'name': None}, 'name': 'RunnableSequence', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeStreamingListLLM'], 'name': 'FakeStreamingListLLM'}}, {'id': 3, 'type': 'runnable', 'data': {'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'name': 'CommaSeparatedListOutputParser'}}, {'id': 4, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserOutput', 'type': 'array', 'items': {'type': 'string'}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}, {'source': 3, 'target': 4}, {'source': 2, 'target': 3}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your favorite color?'}, outputs={'output': ['bear', 'dog', 'cat']}, reference_example_id=None, parent_run_id=None, tags=[], execution_order=None, child_execution_order=None, child_runs=[Run(id=UUID('00000000-0000-4000-8000-000000000005'), name='ChatPromptTemplate', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='prompt', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'SystemMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': [], 'template': 'You are a nice assistant.', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'HumanMessagePromptTemplate'], 'kwargs': {'prompt': {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'kwargs': {'input_variables': ['question'], 'template': '{question}', 'template_format': 'f-string', 'partial_variables': {}}, 'name': 'PromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'prompt', 'PromptTemplate'], 'name': 'PromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'PromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}}}], 'input_variables': ['question']}, 'name': 'ChatPromptTemplate', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'PromptInput', 'type': 'object', 'properties': {'question': {'title': 'Question', 'type': 'string'}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'prompts', 'chat', 'ChatPromptTemplate'], 'name': 'ChatPromptTemplate'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'ChatPromptTemplateOutput', 'anyOf': [{'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'question': 'What is your favorite color?'}, outputs={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptValue'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'SystemMessage'], 'kwargs': {'content': 'You are a nice assistant.', 'additional_kwargs': {}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'HumanMessage'], 'kwargs': {'content': 'What is your favorite color?', 'additional_kwargs': {}}}]}}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000004'), tags=['seq:step:1'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000004'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000004.20230101T000000000000Z00000000-0000-4000-8000-000000000005'), Run(id=UUID('00000000-0000-4000-8000-000000000006'), name='FakeStreamingListLLM', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='llm', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={'invocation_params': {'responses': ['bear, dog, cat', 'tomato, lettuce, onion'], '_type': 'fake-list', 'stop': None}, 'options': {'stop': None}, 'batch_size': 2}, error=None, serialized={'lc': 1, 'type': 'not_implemented', 'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeStreamingListLLM'], 'repr': "FakeStreamingListLLM(responses=['bear, dog, cat', 'tomato, lettuce, onion'], i=1)", 'name': 'FakeStreamingListLLM', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'FakeStreamingListLLMInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/StringPromptValue'}, {'$ref': '#/definitions/ChatPromptValueConcrete'}, {'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}], 'definitions': {'StringPromptValue': {'title': 'StringPromptValue', 'description': 'String prompt value.', 'type': 'object', 'properties': {'text': {'title': 'Text', 'type': 'string'}, 'type': {'title': 'Type', 'default': 'StringPromptValue', 'enum': ['StringPromptValue'], 'type': 'string'}}, 'required': ['text']}, 'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}, 'ChatPromptValueConcrete': {'title': 'ChatPromptValueConcrete', 'description': 'Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.', 'type': 'object', 'properties': {'messages': {'title': 'Messages', 'type': 'array', 'items': {'anyOf': [{'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}]}}, 'type': {'title': 'Type', 'default': 'ChatPromptValueConcrete', 'enum': ['ChatPromptValueConcrete'], 'type': 'string'}}, 'required': ['messages']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['tests', 'unit_tests', 'fake', 'llm', 'FakeStreamingListLLM'], 'name': 'FakeStreamingListLLM'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'FakeStreamingListLLMOutput', 'type': 'string'}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'prompts': ['System: You are a nice assistant.\nHuman: What is your favorite color?']}, outputs={'generations': [[{'text': 'bear, dog, cat', 'generation_info': None, 'type': 'Generation'}]], 'llm_output': None, 'run': None}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000004'), tags=['seq:step:2'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000004'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000004.20230101T000000000000Z00000000-0000-4000-8000-000000000006'), Run(id=UUID('00000000-0000-4000-8000-000000000007'), name='CommaSeparatedListOutputParser', start_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), run_type='parser', end_time=FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), extra={}, error=None, serialized={'lc': 1, 'type': 'constructor', 'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'kwargs': {}, 'name': 'CommaSeparatedListOutputParser', 'graph': {'nodes': [{'id': 0, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserInput', 'anyOf': [{'type': 'string'}, {'$ref': '#/definitions/AIMessage'}, {'$ref': '#/definitions/HumanMessage'}, {'$ref': '#/definitions/ChatMessage'}, {'$ref': '#/definitions/SystemMessage'}, {'$ref': '#/definitions/FunctionMessage'}, {'$ref': '#/definitions/ToolMessage'}], 'definitions': {'AIMessage': {'title': 'AIMessage', 'description': 'Message from an AI.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'ai', 'enum': ['ai'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'HumanMessage': {'title': 'HumanMessage', 'description': 'Message from a human.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'human', 'enum': ['human'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'example': {'title': 'Example', 'default': False, 'type': 'boolean'}}, 'required': ['content']}, 'ChatMessage': {'title': 'ChatMessage', 'description': 'Message that can be assigned an arbitrary speaker (i.e. role).', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'chat', 'enum': ['chat'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'role': {'title': 'Role', 'type': 'string'}}, 'required': ['content', 'role']}, 'SystemMessage': {'title': 'SystemMessage', 'description': 'Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'system', 'enum': ['system'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content']}, 'FunctionMessage': {'title': 'FunctionMessage', 'description': 'Message for passing the result of executing a function back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'function', 'enum': ['function'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}}, 'required': ['content', 'name']}, 'ToolMessage': {'title': 'ToolMessage', 'description': 'Message for passing the result of executing a tool back to a model.', 'type': 'object', 'properties': {'content': {'title': 'Content', 'anyOf': [{'type': 'string'}, {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'object'}]}}]}, 'additional_kwargs': {'title': 'Additional Kwargs', 'type': 'object'}, 'type': {'title': 'Type', 'default': 'tool', 'enum': ['tool'], 'type': 'string'}, 'name': {'title': 'Name', 'type': 'string'}, 'tool_call_id': {'title': 'Tool Call Id', 'type': 'string'}}, 'required': ['content', 'tool_call_id']}}}}, {'id': 1, 'type': 'runnable', 'data': {'id': ['langchain', 'output_parsers', 'list', 'CommaSeparatedListOutputParser'], 'name': 'CommaSeparatedListOutputParser'}}, {'id': 2, 'type': 'schema', 'data': {'title': 'CommaSeparatedListOutputParserOutput', 'type': 'array', 'items': {'type': 'string'}}}], 'edges': [{'source': 0, 'target': 1}, {'source': 1, 'target': 2}]}}, events=[{'name': 'start', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}, {'name': 'end', 'time': FakeDatetime(2023, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)}], inputs={'input': 'bear, dog, cat'}, outputs={'output': ['bear', 'dog', 'cat']}, reference_example_id=None, parent_run_id=UUID('00000000-0000-4000-8000-000000000004'), tags=['seq:step:3'], execution_order=None, child_execution_order=None, child_runs=[], trace_id=UUID('00000000-0000-4000-8000-000000000004'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000004.20230101T000000000000Z00000000-0000-4000-8000-000000000007')], trace_id=UUID('00000000-0000-4000-8000-000000000004'), dotted_order='20230101T000000000000Z00000000-0000-4000-8000-000000000004'),
  ])
# ---
# name: test_router_runnable
  '''
  {
    "lc": 1,
    "type": "constructor",
    "id": [
      "langchain",
      "schema",
      "runnable",
      "RunnableSequence"
    ],
    "kwargs": {
      "first": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "schema",
          "runnable",
          "RunnableParallel"
        ],
        "kwargs": {
          "steps": {
            "key": {
              "lc": 1,
              "type": "not_implemented",
              "id": [
                "langchain_core",
                "runnables",
                "base",
                "RunnableLambda"
              ],
              "repr": "RunnableLambda(...)"
            },
            "input": {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "schema",
                "runnable",
                "RunnableParallel"
              ],
              "kwargs": {
                "steps": {
                  "question": {
                    "lc": 1,
                    "type": "not_implemented",
                    "id": [
                      "langchain_core",
                      "runnables",
                      "base",
                      "RunnableLambda"
                    ],
                    "repr": "RunnableLambda(...)"
                  }
                }
              },
              "name": "RunnableParallel<question>",
              "graph": {
                "nodes": [
                  {
                    "id": 0,
                    "type": "schema",
                    "data": {
                      "title": "RunnableParallel<question>Input",
                      "type": "object",
                      "properties": {}
                    }
                  },
                  {
                    "id": 1,
                    "type": "schema",
                    "data": {
                      "title": "RunnableParallel<question>Output",
                      "type": "object",
                      "properties": {
                        "question": {
                          "title": "Question"
                        }
                      }
                    }
                  },
                  {
                    "id": 2,
                    "type": "runnable",
                    "data": {
                      "id": [
                        "langchain_core",
                        "runnables",
                        "base",
                        "RunnableLambda"
                      ],
                      "name": "RunnableLambda"
                    }
                  }
                ],
                "edges": [
                  {
                    "source": 0,
                    "target": 2
                  },
                  {
                    "source": 2,
                    "target": 1
                  }
                ]
              }
            }
          }
        },
        "name": "RunnableParallel<key,input>",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "RunnableParallel<key,input>Input",
                "type": "object",
                "properties": {}
              }
            },
            {
              "id": 1,
              "type": "schema",
              "data": {
                "title": "RunnableParallel<key,input>Output",
                "type": "object",
                "properties": {
                  "key": {
                    "title": "Key"
                  },
                  "input": {
                    "title": "Input",
                    "type": "object"
                  }
                }
              }
            },
            {
              "id": 2,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain_core",
                  "runnables",
                  "base",
                  "RunnableLambda"
                ],
                "name": "RunnableLambda"
              }
            },
            {
              "id": 3,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain_core",
                  "runnables",
                  "base",
                  "RunnableLambda"
                ],
                "name": "RunnableLambda"
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 2
            },
            {
              "source": 2,
              "target": 1
            },
            {
              "source": 0,
              "target": 3
            },
            {
              "source": 3,
              "target": 1
            }
          ]
        }
      },
      "middle": [],
      "last": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "schema",
          "runnable",
          "RouterRunnable"
        ],
        "kwargs": {
          "runnables": {
            "math": {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "schema",
                "runnable",
                "RunnableSequence"
              ],
              "kwargs": {
                "first": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "chat",
                    "ChatPromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [
                      "question"
                    ],
                    "messages": [
                      {
                        "lc": 1,
                        "type": "constructor",
                        "id": [
                          "langchain",
                          "prompts",
                          "chat",
                          "HumanMessagePromptTemplate"
                        ],
                        "kwargs": {
                          "prompt": {
                            "lc": 1,
                            "type": "constructor",
                            "id": [
                              "langchain",
                              "prompts",
                              "prompt",
                              "PromptTemplate"
                            ],
                            "kwargs": {
                              "input_variables": [
                                "question"
                              ],
                              "template": "You are a math genius. Answer the question: {question}",
                              "template_format": "f-string",
                              "partial_variables": {}
                            },
                            "name": "PromptTemplate",
                            "graph": {
                              "nodes": [
                                {
                                  "id": 0,
                                  "type": "schema",
                                  "data": {
                                    "title": "PromptInput",
                                    "type": "object",
                                    "properties": {
                                      "question": {
                                        "title": "Question",
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                {
                                  "id": 1,
                                  "type": "runnable",
                                  "data": {
                                    "id": [
                                      "langchain",
                                      "prompts",
                                      "prompt",
                                      "PromptTemplate"
                                    ],
                                    "name": "PromptTemplate"
                                  }
                                },
                                {
                                  "id": 2,
                                  "type": "schema",
                                  "data": {
                                    "title": "PromptTemplateOutput",
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/StringPromptValue"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatPromptValueConcrete"
                                      }
                                    ],
                                    "definitions": {
                                      "StringPromptValue": {
                                        "title": "StringPromptValue",
                                        "description": "String prompt value.",
                                        "type": "object",
                                        "properties": {
                                          "text": {
                                            "title": "Text",
                                            "type": "string"
                                          },
                                          "type": {
                                            "title": "Type",
                                            "default": "StringPromptValue",
                                            "enum": [
                                              "StringPromptValue"
                                            ],
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "text"
                                        ]
                                      },
                                      "AIMessage": {
                                        "title": "AIMessage",
                                        "description": "Message from an AI.",
                                        "type": "object",
                                        "properties": {
                                          "content": {
                                            "title": "Content",
                                            "anyOf": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "array",
                                                "items": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "object"
                                                    }
                                                  ]
                                                }
                                              }
                                            ]
                                          },
                                          "additional_kwargs": {
                                            "title": "Additional Kwargs",
                                            "type": "object"
                                          },
                                          "type": {
                                            "title": "Type",
                                            "default": "ai",
                                            "enum": [
                                              "ai"
                                            ],
                                            "type": "string"
                                          },
                                          "name": {
                                            "title": "Name",
                                            "type": "string"
                                          },
                                          "example": {
                                            "title": "Example",
                                            "default": false,
                                            "type": "boolean"
                                          }
                                        },
                                        "required": [
                                          "content"
                                        ]
                                      },
                                      "HumanMessage": {
                                        "title": "HumanMessage",
                                        "description": "Message from a human.",
                                        "type": "object",
                                        "properties": {
                                          "content": {
                                            "title": "Content",
                                            "anyOf": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "array",
                                                "items": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "object"
                                                    }
                                                  ]
                                                }
                                              }
                                            ]
                                          },
                                          "additional_kwargs": {
                                            "title": "Additional Kwargs",
                                            "type": "object"
                                          },
                                          "type": {
                                            "title": "Type",
                                            "default": "human",
                                            "enum": [
                                              "human"
                                            ],
                                            "type": "string"
                                          },
                                          "name": {
                                            "title": "Name",
                                            "type": "string"
                                          },
                                          "example": {
                                            "title": "Example",
                                            "default": false,
                                            "type": "boolean"
                                          }
                                        },
                                        "required": [
                                          "content"
                                        ]
                                      },
                                      "ChatMessage": {
                                        "title": "ChatMessage",
                                        "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                                        "type": "object",
                                        "properties": {
                                          "content": {
                                            "title": "Content",
                                            "anyOf": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "array",
                                                "items": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "object"
                                                    }
                                                  ]
                                                }
                                              }
                                            ]
                                          },
                                          "additional_kwargs": {
                                            "title": "Additional Kwargs",
                                            "type": "object"
                                          },
                                          "type": {
                                            "title": "Type",
                                            "default": "chat",
                                            "enum": [
                                              "chat"
                                            ],
                                            "type": "string"
                                          },
                                          "name": {
                                            "title": "Name",
                                            "type": "string"
                                          },
                                          "role": {
                                            "title": "Role",
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "content",
                                          "role"
                                        ]
                                      },
                                      "SystemMessage": {
                                        "title": "SystemMessage",
                                        "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                                        "type": "object",
                                        "properties": {
                                          "content": {
                                            "title": "Content",
                                            "anyOf": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "array",
                                                "items": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "object"
                                                    }
                                                  ]
                                                }
                                              }
                                            ]
                                          },
                                          "additional_kwargs": {
                                            "title": "Additional Kwargs",
                                            "type": "object"
                                          },
                                          "type": {
                                            "title": "Type",
                                            "default": "system",
                                            "enum": [
                                              "system"
                                            ],
                                            "type": "string"
                                          },
                                          "name": {
                                            "title": "Name",
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "content"
                                        ]
                                      },
                                      "FunctionMessage": {
                                        "title": "FunctionMessage",
                                        "description": "Message for passing the result of executing a function back to a model.",
                                        "type": "object",
                                        "properties": {
                                          "content": {
                                            "title": "Content",
                                            "anyOf": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "array",
                                                "items": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "object"
                                                    }
                                                  ]
                                                }
                                              }
                                            ]
                                          },
                                          "additional_kwargs": {
                                            "title": "Additional Kwargs",
                                            "type": "object"
                                          },
                                          "type": {
                                            "title": "Type",
                                            "default": "function",
                                            "enum": [
                                              "function"
                                            ],
                                            "type": "string"
                                          },
                                          "name": {
                                            "title": "Name",
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "content",
                                          "name"
                                        ]
                                      },
                                      "ToolMessage": {
                                        "title": "ToolMessage",
                                        "description": "Message for passing the result of executing a tool back to a model.",
                                        "type": "object",
                                        "properties": {
                                          "content": {
                                            "title": "Content",
                                            "anyOf": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "array",
                                                "items": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "object"
                                                    }
                                                  ]
                                                }
                                              }
                                            ]
                                          },
                                          "additional_kwargs": {
                                            "title": "Additional Kwargs",
                                            "type": "object"
                                          },
                                          "type": {
                                            "title": "Type",
                                            "default": "tool",
                                            "enum": [
                                              "tool"
                                            ],
                                            "type": "string"
                                          },
                                          "name": {
                                            "title": "Name",
                                            "type": "string"
                                          },
                                          "tool_call_id": {
                                            "title": "Tool Call Id",
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "content",
                                          "tool_call_id"
                                        ]
                                      },
                                      "ChatPromptValueConcrete": {
                                        "title": "ChatPromptValueConcrete",
                                        "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                                        "type": "object",
                                        "properties": {
                                          "messages": {
                                            "title": "Messages",
                                            "type": "array",
                                            "items": {
                                              "anyOf": [
                                                {
                                                  "$ref": "#/definitions/AIMessage"
                                                },
                                                {
                                                  "$ref": "#/definitions/HumanMessage"
                                                },
                                                {
                                                  "$ref": "#/definitions/ChatMessage"
                                                },
                                                {
                                                  "$ref": "#/definitions/SystemMessage"
                                                },
                                                {
                                                  "$ref": "#/definitions/FunctionMessage"
                                                },
                                                {
                                                  "$ref": "#/definitions/ToolMessage"
                                                }
                                              ]
                                            }
                                          },
                                          "type": {
                                            "title": "Type",
                                            "default": "ChatPromptValueConcrete",
                                            "enum": [
                                              "ChatPromptValueConcrete"
                                            ],
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "messages"
                                        ]
                                      }
                                    }
                                  }
                                }
                              ],
                              "edges": [
                                {
                                  "source": 0,
                                  "target": 1
                                },
                                {
                                  "source": 1,
                                  "target": 2
                                }
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "partial_variables": {}
                  },
                  "name": "ChatPromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {
                            "question": {
                              "title": "Question",
                              "type": "string"
                            }
                          }
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "chat",
                            "ChatPromptTemplate"
                          ],
                          "name": "ChatPromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "ChatPromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                },
                "middle": [],
                "last": {
                  "lc": 1,
                  "type": "not_implemented",
                  "id": [
                    "tests",
                    "unit_tests",
                    "fake",
                    "llm",
                    "FakeListLLM"
                  ],
                  "repr": "FakeListLLM(responses=['4'])",
                  "name": "FakeListLLM",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "FakeListLLMInput",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "$ref": "#/definitions/AIMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/HumanMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/ChatMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/SystemMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/FunctionMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/ToolMessage"
                                  }
                                ]
                              }
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "tests",
                            "unit_tests",
                            "fake",
                            "llm",
                            "FakeListLLM"
                          ],
                          "name": "FakeListLLM"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "FakeListLLMOutput",
                          "type": "string"
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                },
                "name": null
              },
              "name": "RunnableSequence",
              "graph": {
                "nodes": [
                  {
                    "id": 0,
                    "type": "schema",
                    "data": {
                      "title": "PromptInput",
                      "type": "object",
                      "properties": {
                        "question": {
                          "title": "Question",
                          "type": "string"
                        }
                      }
                    }
                  },
                  {
                    "id": 1,
                    "type": "runnable",
                    "data": {
                      "id": [
                        "langchain",
                        "prompts",
                        "chat",
                        "ChatPromptTemplate"
                      ],
                      "name": "ChatPromptTemplate"
                    }
                  },
                  {
                    "id": 2,
                    "type": "runnable",
                    "data": {
                      "id": [
                        "tests",
                        "unit_tests",
                        "fake",
                        "llm",
                        "FakeListLLM"
                      ],
                      "name": "FakeListLLM"
                    }
                  },
                  {
                    "id": 3,
                    "type": "schema",
                    "data": {
                      "title": "FakeListLLMOutput",
                      "type": "string"
                    }
                  }
                ],
                "edges": [
                  {
                    "source": 0,
                    "target": 1
                  },
                  {
                    "source": 2,
                    "target": 3
                  },
                  {
                    "source": 1,
                    "target": 2
                  }
                ]
              }
            },
            "english": {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "schema",
                "runnable",
                "RunnableSequence"
              ],
              "kwargs": {
                "first": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "chat",
                    "ChatPromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [
                      "question"
                    ],
                    "messages": [
                      {
                        "lc": 1,
                        "type": "constructor",
                        "id": [
                          "langchain",
                          "prompts",
                          "chat",
                          "HumanMessagePromptTemplate"
                        ],
                        "kwargs": {
                          "prompt": {
                            "lc": 1,
                            "type": "constructor",
                            "id": [
                              "langchain",
                              "prompts",
                              "prompt",
                              "PromptTemplate"
                            ],
                            "kwargs": {
                              "input_variables": [
                                "question"
                              ],
                              "template": "You are an english major. Answer the question: {question}",
                              "template_format": "f-string",
                              "partial_variables": {}
                            },
                            "name": "PromptTemplate",
                            "graph": {
                              "nodes": [
                                {
                                  "id": 0,
                                  "type": "schema",
                                  "data": {
                                    "title": "PromptInput",
                                    "type": "object",
                                    "properties": {
                                      "question": {
                                        "title": "Question",
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                {
                                  "id": 1,
                                  "type": "runnable",
                                  "data": {
                                    "id": [
                                      "langchain",
                                      "prompts",
                                      "prompt",
                                      "PromptTemplate"
                                    ],
                                    "name": "PromptTemplate"
                                  }
                                },
                                {
                                  "id": 2,
                                  "type": "schema",
                                  "data": {
                                    "title": "PromptTemplateOutput",
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/StringPromptValue"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatPromptValueConcrete"
                                      }
                                    ],
                                    "definitions": {
                                      "StringPromptValue": {
                                        "title": "StringPromptValue",
                                        "description": "String prompt value.",
                                        "type": "object",
                                        "properties": {
                                          "text": {
                                            "title": "Text",
                                            "type": "string"
                                          },
                                          "type": {
                                            "title": "Type",
                                            "default": "StringPromptValue",
                                            "enum": [
                                              "StringPromptValue"
                                            ],
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "text"
                                        ]
                                      },
                                      "AIMessage": {
                                        "title": "AIMessage",
                                        "description": "Message from an AI.",
                                        "type": "object",
                                        "properties": {
                                          "content": {
                                            "title": "Content",
                                            "anyOf": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "array",
                                                "items": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "object"
                                                    }
                                                  ]
                                                }
                                              }
                                            ]
                                          },
                                          "additional_kwargs": {
                                            "title": "Additional Kwargs",
                                            "type": "object"
                                          },
                                          "type": {
                                            "title": "Type",
                                            "default": "ai",
                                            "enum": [
                                              "ai"
                                            ],
                                            "type": "string"
                                          },
                                          "name": {
                                            "title": "Name",
                                            "type": "string"
                                          },
                                          "example": {
                                            "title": "Example",
                                            "default": false,
                                            "type": "boolean"
                                          }
                                        },
                                        "required": [
                                          "content"
                                        ]
                                      },
                                      "HumanMessage": {
                                        "title": "HumanMessage",
                                        "description": "Message from a human.",
                                        "type": "object",
                                        "properties": {
                                          "content": {
                                            "title": "Content",
                                            "anyOf": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "array",
                                                "items": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "object"
                                                    }
                                                  ]
                                                }
                                              }
                                            ]
                                          },
                                          "additional_kwargs": {
                                            "title": "Additional Kwargs",
                                            "type": "object"
                                          },
                                          "type": {
                                            "title": "Type",
                                            "default": "human",
                                            "enum": [
                                              "human"
                                            ],
                                            "type": "string"
                                          },
                                          "name": {
                                            "title": "Name",
                                            "type": "string"
                                          },
                                          "example": {
                                            "title": "Example",
                                            "default": false,
                                            "type": "boolean"
                                          }
                                        },
                                        "required": [
                                          "content"
                                        ]
                                      },
                                      "ChatMessage": {
                                        "title": "ChatMessage",
                                        "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                                        "type": "object",
                                        "properties": {
                                          "content": {
                                            "title": "Content",
                                            "anyOf": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "array",
                                                "items": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "object"
                                                    }
                                                  ]
                                                }
                                              }
                                            ]
                                          },
                                          "additional_kwargs": {
                                            "title": "Additional Kwargs",
                                            "type": "object"
                                          },
                                          "type": {
                                            "title": "Type",
                                            "default": "chat",
                                            "enum": [
                                              "chat"
                                            ],
                                            "type": "string"
                                          },
                                          "name": {
                                            "title": "Name",
                                            "type": "string"
                                          },
                                          "role": {
                                            "title": "Role",
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "content",
                                          "role"
                                        ]
                                      },
                                      "SystemMessage": {
                                        "title": "SystemMessage",
                                        "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                                        "type": "object",
                                        "properties": {
                                          "content": {
                                            "title": "Content",
                                            "anyOf": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "array",
                                                "items": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "object"
                                                    }
                                                  ]
                                                }
                                              }
                                            ]
                                          },
                                          "additional_kwargs": {
                                            "title": "Additional Kwargs",
                                            "type": "object"
                                          },
                                          "type": {
                                            "title": "Type",
                                            "default": "system",
                                            "enum": [
                                              "system"
                                            ],
                                            "type": "string"
                                          },
                                          "name": {
                                            "title": "Name",
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "content"
                                        ]
                                      },
                                      "FunctionMessage": {
                                        "title": "FunctionMessage",
                                        "description": "Message for passing the result of executing a function back to a model.",
                                        "type": "object",
                                        "properties": {
                                          "content": {
                                            "title": "Content",
                                            "anyOf": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "array",
                                                "items": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "object"
                                                    }
                                                  ]
                                                }
                                              }
                                            ]
                                          },
                                          "additional_kwargs": {
                                            "title": "Additional Kwargs",
                                            "type": "object"
                                          },
                                          "type": {
                                            "title": "Type",
                                            "default": "function",
                                            "enum": [
                                              "function"
                                            ],
                                            "type": "string"
                                          },
                                          "name": {
                                            "title": "Name",
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "content",
                                          "name"
                                        ]
                                      },
                                      "ToolMessage": {
                                        "title": "ToolMessage",
                                        "description": "Message for passing the result of executing a tool back to a model.",
                                        "type": "object",
                                        "properties": {
                                          "content": {
                                            "title": "Content",
                                            "anyOf": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "array",
                                                "items": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "object"
                                                    }
                                                  ]
                                                }
                                              }
                                            ]
                                          },
                                          "additional_kwargs": {
                                            "title": "Additional Kwargs",
                                            "type": "object"
                                          },
                                          "type": {
                                            "title": "Type",
                                            "default": "tool",
                                            "enum": [
                                              "tool"
                                            ],
                                            "type": "string"
                                          },
                                          "name": {
                                            "title": "Name",
                                            "type": "string"
                                          },
                                          "tool_call_id": {
                                            "title": "Tool Call Id",
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "content",
                                          "tool_call_id"
                                        ]
                                      },
                                      "ChatPromptValueConcrete": {
                                        "title": "ChatPromptValueConcrete",
                                        "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                                        "type": "object",
                                        "properties": {
                                          "messages": {
                                            "title": "Messages",
                                            "type": "array",
                                            "items": {
                                              "anyOf": [
                                                {
                                                  "$ref": "#/definitions/AIMessage"
                                                },
                                                {
                                                  "$ref": "#/definitions/HumanMessage"
                                                },
                                                {
                                                  "$ref": "#/definitions/ChatMessage"
                                                },
                                                {
                                                  "$ref": "#/definitions/SystemMessage"
                                                },
                                                {
                                                  "$ref": "#/definitions/FunctionMessage"
                                                },
                                                {
                                                  "$ref": "#/definitions/ToolMessage"
                                                }
                                              ]
                                            }
                                          },
                                          "type": {
                                            "title": "Type",
                                            "default": "ChatPromptValueConcrete",
                                            "enum": [
                                              "ChatPromptValueConcrete"
                                            ],
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "messages"
                                        ]
                                      }
                                    }
                                  }
                                }
                              ],
                              "edges": [
                                {
                                  "source": 0,
                                  "target": 1
                                },
                                {
                                  "source": 1,
                                  "target": 2
                                }
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "partial_variables": {}
                  },
                  "name": "ChatPromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {
                            "question": {
                              "title": "Question",
                              "type": "string"
                            }
                          }
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "chat",
                            "ChatPromptTemplate"
                          ],
                          "name": "ChatPromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "ChatPromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                },
                "middle": [],
                "last": {
                  "lc": 1,
                  "type": "not_implemented",
                  "id": [
                    "tests",
                    "unit_tests",
                    "fake",
                    "llm",
                    "FakeListLLM"
                  ],
                  "repr": "FakeListLLM(responses=['2'])",
                  "name": "FakeListLLM",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "FakeListLLMInput",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "$ref": "#/definitions/AIMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/HumanMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/ChatMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/SystemMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/FunctionMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/ToolMessage"
                                  }
                                ]
                              }
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "tests",
                            "unit_tests",
                            "fake",
                            "llm",
                            "FakeListLLM"
                          ],
                          "name": "FakeListLLM"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "FakeListLLMOutput",
                          "type": "string"
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                },
                "name": null
              },
              "name": "RunnableSequence",
              "graph": {
                "nodes": [
                  {
                    "id": 0,
                    "type": "schema",
                    "data": {
                      "title": "PromptInput",
                      "type": "object",
                      "properties": {
                        "question": {
                          "title": "Question",
                          "type": "string"
                        }
                      }
                    }
                  },
                  {
                    "id": 1,
                    "type": "runnable",
                    "data": {
                      "id": [
                        "langchain",
                        "prompts",
                        "chat",
                        "ChatPromptTemplate"
                      ],
                      "name": "ChatPromptTemplate"
                    }
                  },
                  {
                    "id": 2,
                    "type": "runnable",
                    "data": {
                      "id": [
                        "tests",
                        "unit_tests",
                        "fake",
                        "llm",
                        "FakeListLLM"
                      ],
                      "name": "FakeListLLM"
                    }
                  },
                  {
                    "id": 3,
                    "type": "schema",
                    "data": {
                      "title": "FakeListLLMOutput",
                      "type": "string"
                    }
                  }
                ],
                "edges": [
                  {
                    "source": 0,
                    "target": 1
                  },
                  {
                    "source": 2,
                    "target": 3
                  },
                  {
                    "source": 1,
                    "target": 2
                  }
                ]
              }
            }
          }
        },
        "name": "RouterRunnable",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "RouterRunnableInput",
                "$ref": "#/definitions/RouterInput",
                "definitions": {
                  "RouterInput": {
                    "title": "RouterInput",
                    "type": "object",
                    "properties": {
                      "key": {
                        "title": "Key",
                        "type": "string"
                      },
                      "input": {
                        "title": "Input"
                      }
                    },
                    "required": [
                      "key",
                      "input"
                    ]
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain",
                  "schema",
                  "runnable",
                  "RouterRunnable"
                ],
                "name": "RouterRunnable"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "RouterRunnableOutput"
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "name": null
    },
    "name": "RunnableSequence",
    "graph": {
      "nodes": [
        {
          "id": 0,
          "type": "schema",
          "data": {
            "title": "RunnableParallel<key,input>Input",
            "type": "object",
            "properties": {}
          }
        },
        {
          "id": 1,
          "type": "schema",
          "data": {
            "title": "RunnableParallel<key,input>Output",
            "type": "object",
            "properties": {
              "key": {
                "title": "Key"
              },
              "input": {
                "title": "Input",
                "type": "object"
              }
            }
          }
        },
        {
          "id": 2,
          "type": "runnable",
          "data": {
            "id": [
              "langchain_core",
              "runnables",
              "base",
              "RunnableLambda"
            ],
            "name": "RunnableLambda"
          }
        },
        {
          "id": 3,
          "type": "runnable",
          "data": {
            "id": [
              "langchain_core",
              "runnables",
              "base",
              "RunnableLambda"
            ],
            "name": "RunnableLambda"
          }
        },
        {
          "id": 4,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "schema",
              "runnable",
              "RouterRunnable"
            ],
            "name": "RouterRunnable"
          }
        },
        {
          "id": 5,
          "type": "schema",
          "data": {
            "title": "RouterRunnableOutput"
          }
        }
      ],
      "edges": [
        {
          "source": 0,
          "target": 2
        },
        {
          "source": 2,
          "target": 1
        },
        {
          "source": 0,
          "target": 3
        },
        {
          "source": 3,
          "target": 1
        },
        {
          "source": 4,
          "target": 5
        },
        {
          "source": 1,
          "target": 4
        }
      ]
    }
  }
  '''
# ---
# name: test_schemas
  dict({
    'anyOf': list([
      dict({
        'type': 'string',
      }),
      dict({
        '$ref': '#/definitions/StringPromptValue',
      }),
      dict({
        '$ref': '#/definitions/ChatPromptValueConcrete',
      }),
      dict({
        'items': dict({
          'anyOf': list([
            dict({
              '$ref': '#/definitions/AIMessage',
            }),
            dict({
              '$ref': '#/definitions/HumanMessage',
            }),
            dict({
              '$ref': '#/definitions/ChatMessage',
            }),
            dict({
              '$ref': '#/definitions/SystemMessage',
            }),
            dict({
              '$ref': '#/definitions/FunctionMessage',
            }),
            dict({
              '$ref': '#/definitions/ToolMessage',
            }),
          ]),
        }),
        'type': 'array',
      }),
    ]),
    'definitions': dict({
      'AIMessage': dict({
        'description': 'Message from an AI.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'example': dict({
            'default': False,
            'title': 'Example',
            'type': 'boolean',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'ai',
            'enum': list([
              'ai',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'AIMessage',
        'type': 'object',
      }),
      'ChatMessage': dict({
        'description': 'Message that can be assigned an arbitrary speaker (i.e. role).',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'role': dict({
            'title': 'Role',
            'type': 'string',
          }),
          'type': dict({
            'default': 'chat',
            'enum': list([
              'chat',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'role',
        ]),
        'title': 'ChatMessage',
        'type': 'object',
      }),
      'ChatPromptValueConcrete': dict({
        'description': '''
          Chat prompt value which explicitly lists out the message types it accepts.
          For use in external schemas.
        ''',
        'properties': dict({
          'messages': dict({
            'items': dict({
              'anyOf': list([
                dict({
                  '$ref': '#/definitions/AIMessage',
                }),
                dict({
                  '$ref': '#/definitions/HumanMessage',
                }),
                dict({
                  '$ref': '#/definitions/ChatMessage',
                }),
                dict({
                  '$ref': '#/definitions/SystemMessage',
                }),
                dict({
                  '$ref': '#/definitions/FunctionMessage',
                }),
                dict({
                  '$ref': '#/definitions/ToolMessage',
                }),
              ]),
            }),
            'title': 'Messages',
            'type': 'array',
          }),
          'type': dict({
            'default': 'ChatPromptValueConcrete',
            'enum': list([
              'ChatPromptValueConcrete',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'messages',
        ]),
        'title': 'ChatPromptValueConcrete',
        'type': 'object',
      }),
      'FunctionMessage': dict({
        'description': 'Message for passing the result of executing a function back to a model.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'function',
            'enum': list([
              'function',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'name',
        ]),
        'title': 'FunctionMessage',
        'type': 'object',
      }),
      'HumanMessage': dict({
        'description': 'Message from a human.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'example': dict({
            'default': False,
            'title': 'Example',
            'type': 'boolean',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'human',
            'enum': list([
              'human',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'HumanMessage',
        'type': 'object',
      }),
      'StringPromptValue': dict({
        'description': 'String prompt value.',
        'properties': dict({
          'text': dict({
            'title': 'Text',
            'type': 'string',
          }),
          'type': dict({
            'default': 'StringPromptValue',
            'enum': list([
              'StringPromptValue',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'text',
        ]),
        'title': 'StringPromptValue',
        'type': 'object',
      }),
      'SystemMessage': dict({
        'description': '''
          Message for priming AI behavior, usually passed in as the first of a sequence
          of input messages.
        ''',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'system',
            'enum': list([
              'system',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'SystemMessage',
        'type': 'object',
      }),
      'ToolMessage': dict({
        'description': 'Message for passing the result of executing a tool back to a model.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'tool_call_id': dict({
            'title': 'Tool Call Id',
            'type': 'string',
          }),
          'type': dict({
            'default': 'tool',
            'enum': list([
              'tool',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'tool_call_id',
        ]),
        'title': 'ToolMessage',
        'type': 'object',
      }),
    }),
    'title': 'FakeListLLMInput',
  })
# ---
# name: test_schemas.1
  dict({
    'anyOf': list([
      dict({
        'type': 'string',
      }),
      dict({
        '$ref': '#/definitions/StringPromptValue',
      }),
      dict({
        '$ref': '#/definitions/ChatPromptValueConcrete',
      }),
      dict({
        'items': dict({
          'anyOf': list([
            dict({
              '$ref': '#/definitions/AIMessage',
            }),
            dict({
              '$ref': '#/definitions/HumanMessage',
            }),
            dict({
              '$ref': '#/definitions/ChatMessage',
            }),
            dict({
              '$ref': '#/definitions/SystemMessage',
            }),
            dict({
              '$ref': '#/definitions/FunctionMessage',
            }),
            dict({
              '$ref': '#/definitions/ToolMessage',
            }),
          ]),
        }),
        'type': 'array',
      }),
    ]),
    'definitions': dict({
      'AIMessage': dict({
        'description': 'Message from an AI.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'example': dict({
            'default': False,
            'title': 'Example',
            'type': 'boolean',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'ai',
            'enum': list([
              'ai',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'AIMessage',
        'type': 'object',
      }),
      'ChatMessage': dict({
        'description': 'Message that can be assigned an arbitrary speaker (i.e. role).',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'role': dict({
            'title': 'Role',
            'type': 'string',
          }),
          'type': dict({
            'default': 'chat',
            'enum': list([
              'chat',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'role',
        ]),
        'title': 'ChatMessage',
        'type': 'object',
      }),
      'ChatPromptValueConcrete': dict({
        'description': '''
          Chat prompt value which explicitly lists out the message types it accepts.
          For use in external schemas.
        ''',
        'properties': dict({
          'messages': dict({
            'items': dict({
              'anyOf': list([
                dict({
                  '$ref': '#/definitions/AIMessage',
                }),
                dict({
                  '$ref': '#/definitions/HumanMessage',
                }),
                dict({
                  '$ref': '#/definitions/ChatMessage',
                }),
                dict({
                  '$ref': '#/definitions/SystemMessage',
                }),
                dict({
                  '$ref': '#/definitions/FunctionMessage',
                }),
                dict({
                  '$ref': '#/definitions/ToolMessage',
                }),
              ]),
            }),
            'title': 'Messages',
            'type': 'array',
          }),
          'type': dict({
            'default': 'ChatPromptValueConcrete',
            'enum': list([
              'ChatPromptValueConcrete',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'messages',
        ]),
        'title': 'ChatPromptValueConcrete',
        'type': 'object',
      }),
      'FunctionMessage': dict({
        'description': 'Message for passing the result of executing a function back to a model.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'function',
            'enum': list([
              'function',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'name',
        ]),
        'title': 'FunctionMessage',
        'type': 'object',
      }),
      'HumanMessage': dict({
        'description': 'Message from a human.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'example': dict({
            'default': False,
            'title': 'Example',
            'type': 'boolean',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'human',
            'enum': list([
              'human',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'HumanMessage',
        'type': 'object',
      }),
      'StringPromptValue': dict({
        'description': 'String prompt value.',
        'properties': dict({
          'text': dict({
            'title': 'Text',
            'type': 'string',
          }),
          'type': dict({
            'default': 'StringPromptValue',
            'enum': list([
              'StringPromptValue',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'text',
        ]),
        'title': 'StringPromptValue',
        'type': 'object',
      }),
      'SystemMessage': dict({
        'description': '''
          Message for priming AI behavior, usually passed in as the first of a sequence
          of input messages.
        ''',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'system',
            'enum': list([
              'system',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'SystemMessage',
        'type': 'object',
      }),
      'ToolMessage': dict({
        'description': 'Message for passing the result of executing a tool back to a model.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'tool_call_id': dict({
            'title': 'Tool Call Id',
            'type': 'string',
          }),
          'type': dict({
            'default': 'tool',
            'enum': list([
              'tool',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'tool_call_id',
        ]),
        'title': 'ToolMessage',
        'type': 'object',
      }),
    }),
    'title': 'FakeListChatModelInput',
  })
# ---
# name: test_schemas.2
  dict({
    'anyOf': list([
      dict({
        '$ref': '#/definitions/AIMessage',
      }),
      dict({
        '$ref': '#/definitions/HumanMessage',
      }),
      dict({
        '$ref': '#/definitions/ChatMessage',
      }),
      dict({
        '$ref': '#/definitions/SystemMessage',
      }),
      dict({
        '$ref': '#/definitions/FunctionMessage',
      }),
      dict({
        '$ref': '#/definitions/ToolMessage',
      }),
    ]),
    'definitions': dict({
      'AIMessage': dict({
        'description': 'Message from an AI.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'example': dict({
            'default': False,
            'title': 'Example',
            'type': 'boolean',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'ai',
            'enum': list([
              'ai',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'AIMessage',
        'type': 'object',
      }),
      'ChatMessage': dict({
        'description': 'Message that can be assigned an arbitrary speaker (i.e. role).',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'role': dict({
            'title': 'Role',
            'type': 'string',
          }),
          'type': dict({
            'default': 'chat',
            'enum': list([
              'chat',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'role',
        ]),
        'title': 'ChatMessage',
        'type': 'object',
      }),
      'FunctionMessage': dict({
        'description': 'Message for passing the result of executing a function back to a model.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'function',
            'enum': list([
              'function',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'name',
        ]),
        'title': 'FunctionMessage',
        'type': 'object',
      }),
      'HumanMessage': dict({
        'description': 'Message from a human.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'example': dict({
            'default': False,
            'title': 'Example',
            'type': 'boolean',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'human',
            'enum': list([
              'human',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'HumanMessage',
        'type': 'object',
      }),
      'SystemMessage': dict({
        'description': '''
          Message for priming AI behavior, usually passed in as the first of a sequence
          of input messages.
        ''',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'system',
            'enum': list([
              'system',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'SystemMessage',
        'type': 'object',
      }),
      'ToolMessage': dict({
        'description': 'Message for passing the result of executing a tool back to a model.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'tool_call_id': dict({
            'title': 'Tool Call Id',
            'type': 'string',
          }),
          'type': dict({
            'default': 'tool',
            'enum': list([
              'tool',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'tool_call_id',
        ]),
        'title': 'ToolMessage',
        'type': 'object',
      }),
    }),
    'title': 'FakeListChatModelOutput',
  })
# ---
# name: test_schemas.3
  dict({
    'anyOf': list([
      dict({
        '$ref': '#/definitions/StringPromptValue',
      }),
      dict({
        '$ref': '#/definitions/ChatPromptValueConcrete',
      }),
    ]),
    'definitions': dict({
      'AIMessage': dict({
        'description': 'Message from an AI.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'example': dict({
            'default': False,
            'title': 'Example',
            'type': 'boolean',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'ai',
            'enum': list([
              'ai',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'AIMessage',
        'type': 'object',
      }),
      'ChatMessage': dict({
        'description': 'Message that can be assigned an arbitrary speaker (i.e. role).',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'role': dict({
            'title': 'Role',
            'type': 'string',
          }),
          'type': dict({
            'default': 'chat',
            'enum': list([
              'chat',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'role',
        ]),
        'title': 'ChatMessage',
        'type': 'object',
      }),
      'ChatPromptValueConcrete': dict({
        'description': '''
          Chat prompt value which explicitly lists out the message types it accepts.
          For use in external schemas.
        ''',
        'properties': dict({
          'messages': dict({
            'items': dict({
              'anyOf': list([
                dict({
                  '$ref': '#/definitions/AIMessage',
                }),
                dict({
                  '$ref': '#/definitions/HumanMessage',
                }),
                dict({
                  '$ref': '#/definitions/ChatMessage',
                }),
                dict({
                  '$ref': '#/definitions/SystemMessage',
                }),
                dict({
                  '$ref': '#/definitions/FunctionMessage',
                }),
                dict({
                  '$ref': '#/definitions/ToolMessage',
                }),
              ]),
            }),
            'title': 'Messages',
            'type': 'array',
          }),
          'type': dict({
            'default': 'ChatPromptValueConcrete',
            'enum': list([
              'ChatPromptValueConcrete',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'messages',
        ]),
        'title': 'ChatPromptValueConcrete',
        'type': 'object',
      }),
      'FunctionMessage': dict({
        'description': 'Message for passing the result of executing a function back to a model.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'function',
            'enum': list([
              'function',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'name',
        ]),
        'title': 'FunctionMessage',
        'type': 'object',
      }),
      'HumanMessage': dict({
        'description': 'Message from a human.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'example': dict({
            'default': False,
            'title': 'Example',
            'type': 'boolean',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'human',
            'enum': list([
              'human',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'HumanMessage',
        'type': 'object',
      }),
      'StringPromptValue': dict({
        'description': 'String prompt value.',
        'properties': dict({
          'text': dict({
            'title': 'Text',
            'type': 'string',
          }),
          'type': dict({
            'default': 'StringPromptValue',
            'enum': list([
              'StringPromptValue',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'text',
        ]),
        'title': 'StringPromptValue',
        'type': 'object',
      }),
      'SystemMessage': dict({
        'description': '''
          Message for priming AI behavior, usually passed in as the first of a sequence
          of input messages.
        ''',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'system',
            'enum': list([
              'system',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'SystemMessage',
        'type': 'object',
      }),
      'ToolMessage': dict({
        'description': 'Message for passing the result of executing a tool back to a model.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'tool_call_id': dict({
            'title': 'Tool Call Id',
            'type': 'string',
          }),
          'type': dict({
            'default': 'tool',
            'enum': list([
              'tool',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'tool_call_id',
        ]),
        'title': 'ToolMessage',
        'type': 'object',
      }),
    }),
    'title': 'ChatPromptTemplateOutput',
  })
# ---
# name: test_schemas.4
  dict({
    'anyOf': list([
      dict({
        '$ref': '#/definitions/StringPromptValue',
      }),
      dict({
        '$ref': '#/definitions/ChatPromptValueConcrete',
      }),
    ]),
    'definitions': dict({
      'AIMessage': dict({
        'description': 'Message from an AI.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'example': dict({
            'default': False,
            'title': 'Example',
            'type': 'boolean',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'ai',
            'enum': list([
              'ai',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'AIMessage',
        'type': 'object',
      }),
      'ChatMessage': dict({
        'description': 'Message that can be assigned an arbitrary speaker (i.e. role).',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'role': dict({
            'title': 'Role',
            'type': 'string',
          }),
          'type': dict({
            'default': 'chat',
            'enum': list([
              'chat',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'role',
        ]),
        'title': 'ChatMessage',
        'type': 'object',
      }),
      'ChatPromptValueConcrete': dict({
        'description': '''
          Chat prompt value which explicitly lists out the message types it accepts.
          For use in external schemas.
        ''',
        'properties': dict({
          'messages': dict({
            'items': dict({
              'anyOf': list([
                dict({
                  '$ref': '#/definitions/AIMessage',
                }),
                dict({
                  '$ref': '#/definitions/HumanMessage',
                }),
                dict({
                  '$ref': '#/definitions/ChatMessage',
                }),
                dict({
                  '$ref': '#/definitions/SystemMessage',
                }),
                dict({
                  '$ref': '#/definitions/FunctionMessage',
                }),
                dict({
                  '$ref': '#/definitions/ToolMessage',
                }),
              ]),
            }),
            'title': 'Messages',
            'type': 'array',
          }),
          'type': dict({
            'default': 'ChatPromptValueConcrete',
            'enum': list([
              'ChatPromptValueConcrete',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'messages',
        ]),
        'title': 'ChatPromptValueConcrete',
        'type': 'object',
      }),
      'FunctionMessage': dict({
        'description': 'Message for passing the result of executing a function back to a model.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'function',
            'enum': list([
              'function',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'name',
        ]),
        'title': 'FunctionMessage',
        'type': 'object',
      }),
      'HumanMessage': dict({
        'description': 'Message from a human.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'example': dict({
            'default': False,
            'title': 'Example',
            'type': 'boolean',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'human',
            'enum': list([
              'human',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'HumanMessage',
        'type': 'object',
      }),
      'StringPromptValue': dict({
        'description': 'String prompt value.',
        'properties': dict({
          'text': dict({
            'title': 'Text',
            'type': 'string',
          }),
          'type': dict({
            'default': 'StringPromptValue',
            'enum': list([
              'StringPromptValue',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'text',
        ]),
        'title': 'StringPromptValue',
        'type': 'object',
      }),
      'SystemMessage': dict({
        'description': '''
          Message for priming AI behavior, usually passed in as the first of a sequence
          of input messages.
        ''',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'system',
            'enum': list([
              'system',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'SystemMessage',
        'type': 'object',
      }),
      'ToolMessage': dict({
        'description': 'Message for passing the result of executing a tool back to a model.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'tool_call_id': dict({
            'title': 'Tool Call Id',
            'type': 'string',
          }),
          'type': dict({
            'default': 'tool',
            'enum': list([
              'tool',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'tool_call_id',
        ]),
        'title': 'ToolMessage',
        'type': 'object',
      }),
    }),
    'title': 'PromptTemplateOutput',
  })
# ---
# name: test_schemas.5
  dict({
    'definitions': dict({
      'AIMessage': dict({
        'description': 'Message from an AI.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'example': dict({
            'default': False,
            'title': 'Example',
            'type': 'boolean',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'ai',
            'enum': list([
              'ai',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'AIMessage',
        'type': 'object',
      }),
      'ChatMessage': dict({
        'description': 'Message that can be assigned an arbitrary speaker (i.e. role).',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'role': dict({
            'title': 'Role',
            'type': 'string',
          }),
          'type': dict({
            'default': 'chat',
            'enum': list([
              'chat',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'role',
        ]),
        'title': 'ChatMessage',
        'type': 'object',
      }),
      'ChatPromptValueConcrete': dict({
        'description': '''
          Chat prompt value which explicitly lists out the message types it accepts.
          For use in external schemas.
        ''',
        'properties': dict({
          'messages': dict({
            'items': dict({
              'anyOf': list([
                dict({
                  '$ref': '#/definitions/AIMessage',
                }),
                dict({
                  '$ref': '#/definitions/HumanMessage',
                }),
                dict({
                  '$ref': '#/definitions/ChatMessage',
                }),
                dict({
                  '$ref': '#/definitions/SystemMessage',
                }),
                dict({
                  '$ref': '#/definitions/FunctionMessage',
                }),
                dict({
                  '$ref': '#/definitions/ToolMessage',
                }),
              ]),
            }),
            'title': 'Messages',
            'type': 'array',
          }),
          'type': dict({
            'default': 'ChatPromptValueConcrete',
            'enum': list([
              'ChatPromptValueConcrete',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'messages',
        ]),
        'title': 'ChatPromptValueConcrete',
        'type': 'object',
      }),
      'FunctionMessage': dict({
        'description': 'Message for passing the result of executing a function back to a model.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'function',
            'enum': list([
              'function',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'name',
        ]),
        'title': 'FunctionMessage',
        'type': 'object',
      }),
      'HumanMessage': dict({
        'description': 'Message from a human.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'example': dict({
            'default': False,
            'title': 'Example',
            'type': 'boolean',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'human',
            'enum': list([
              'human',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'HumanMessage',
        'type': 'object',
      }),
      'PromptTemplateOutput': dict({
        'anyOf': list([
          dict({
            '$ref': '#/definitions/StringPromptValue',
          }),
          dict({
            '$ref': '#/definitions/ChatPromptValueConcrete',
          }),
        ]),
        'title': 'PromptTemplateOutput',
      }),
      'StringPromptValue': dict({
        'description': 'String prompt value.',
        'properties': dict({
          'text': dict({
            'title': 'Text',
            'type': 'string',
          }),
          'type': dict({
            'default': 'StringPromptValue',
            'enum': list([
              'StringPromptValue',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'text',
        ]),
        'title': 'StringPromptValue',
        'type': 'object',
      }),
      'SystemMessage': dict({
        'description': '''
          Message for priming AI behavior, usually passed in as the first of a sequence
          of input messages.
        ''',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'system',
            'enum': list([
              'system',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'SystemMessage',
        'type': 'object',
      }),
      'ToolMessage': dict({
        'description': 'Message for passing the result of executing a tool back to a model.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'tool_call_id': dict({
            'title': 'Tool Call Id',
            'type': 'string',
          }),
          'type': dict({
            'default': 'tool',
            'enum': list([
              'tool',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'tool_call_id',
        ]),
        'title': 'ToolMessage',
        'type': 'object',
      }),
    }),
    'items': dict({
      '$ref': '#/definitions/PromptTemplateOutput',
    }),
    'title': 'RunnableEach<PromptTemplate>Output',
    'type': 'array',
  })
# ---
# name: test_schemas.6
  dict({
    'anyOf': list([
      dict({
        'type': 'string',
      }),
      dict({
        '$ref': '#/definitions/AIMessage',
      }),
      dict({
        '$ref': '#/definitions/HumanMessage',
      }),
      dict({
        '$ref': '#/definitions/ChatMessage',
      }),
      dict({
        '$ref': '#/definitions/SystemMessage',
      }),
      dict({
        '$ref': '#/definitions/FunctionMessage',
      }),
      dict({
        '$ref': '#/definitions/ToolMessage',
      }),
    ]),
    'definitions': dict({
      'AIMessage': dict({
        'description': 'Message from an AI.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'example': dict({
            'default': False,
            'title': 'Example',
            'type': 'boolean',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'ai',
            'enum': list([
              'ai',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'AIMessage',
        'type': 'object',
      }),
      'ChatMessage': dict({
        'description': 'Message that can be assigned an arbitrary speaker (i.e. role).',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'role': dict({
            'title': 'Role',
            'type': 'string',
          }),
          'type': dict({
            'default': 'chat',
            'enum': list([
              'chat',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'role',
        ]),
        'title': 'ChatMessage',
        'type': 'object',
      }),
      'FunctionMessage': dict({
        'description': 'Message for passing the result of executing a function back to a model.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'function',
            'enum': list([
              'function',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'name',
        ]),
        'title': 'FunctionMessage',
        'type': 'object',
      }),
      'HumanMessage': dict({
        'description': 'Message from a human.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'example': dict({
            'default': False,
            'title': 'Example',
            'type': 'boolean',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'human',
            'enum': list([
              'human',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'HumanMessage',
        'type': 'object',
      }),
      'SystemMessage': dict({
        'description': '''
          Message for priming AI behavior, usually passed in as the first of a sequence
          of input messages.
        ''',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'type': dict({
            'default': 'system',
            'enum': list([
              'system',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
        ]),
        'title': 'SystemMessage',
        'type': 'object',
      }),
      'ToolMessage': dict({
        'description': 'Message for passing the result of executing a tool back to a model.',
        'properties': dict({
          'additional_kwargs': dict({
            'title': 'Additional Kwargs',
            'type': 'object',
          }),
          'content': dict({
            'anyOf': list([
              dict({
                'type': 'string',
              }),
              dict({
                'items': dict({
                  'anyOf': list([
                    dict({
                      'type': 'string',
                    }),
                    dict({
                      'type': 'object',
                    }),
                  ]),
                }),
                'type': 'array',
              }),
            ]),
            'title': 'Content',
          }),
          'name': dict({
            'title': 'Name',
            'type': 'string',
          }),
          'tool_call_id': dict({
            'title': 'Tool Call Id',
            'type': 'string',
          }),
          'type': dict({
            'default': 'tool',
            'enum': list([
              'tool',
            ]),
            'title': 'Type',
            'type': 'string',
          }),
        }),
        'required': list([
          'content',
          'tool_call_id',
        ]),
        'title': 'ToolMessage',
        'type': 'object',
      }),
    }),
    'title': 'CommaSeparatedListOutputParserInput',
  })
# ---
# name: test_seq_dict_prompt_llm
  '''
  {
    question: RunnablePassthrough()
              | RunnableLambda(...),
    documents: RunnableLambda(...)
               | FakeRetriever(),
    just_to_test_lambda: RunnableLambda(...)
  }
  | ChatPromptTemplate(input_variables=['documents', 'question'], messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=[], template='You are a nice assistant.')), HumanMessagePromptTemplate(prompt=PromptTemplate(input_variables=['documents', 'question'], template='Context:\n{documents}\n\nQuestion:\n{question}'))])
  | FakeListChatModel(responses=['foo, bar'])
  | CommaSeparatedListOutputParser()
  '''
# ---
# name: test_seq_dict_prompt_llm.1
  '''
  {
    "lc": 1,
    "type": "constructor",
    "id": [
      "langchain",
      "schema",
      "runnable",
      "RunnableSequence"
    ],
    "kwargs": {
      "first": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "schema",
          "runnable",
          "RunnableParallel"
        ],
        "kwargs": {
          "steps": {
            "question": {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "schema",
                "runnable",
                "RunnableSequence"
              ],
              "kwargs": {
                "first": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "schema",
                    "runnable",
                    "RunnablePassthrough"
                  ],
                  "kwargs": {
                    "func": null,
                    "afunc": null,
                    "input_type": null
                  },
                  "name": "RunnablePassthrough",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "RunnablePassthroughInput"
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "schema",
                            "runnable",
                            "RunnablePassthrough"
                          ],
                          "name": "RunnablePassthrough"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "RunnablePassthroughOutput"
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                },
                "middle": [],
                "last": {
                  "lc": 1,
                  "type": "not_implemented",
                  "id": [
                    "langchain_core",
                    "runnables",
                    "base",
                    "RunnableLambda"
                  ],
                  "repr": "RunnableLambda(...)"
                },
                "name": null
              },
              "name": "RunnableSequence",
              "graph": {
                "nodes": [
                  {
                    "id": 0,
                    "type": "schema",
                    "data": {
                      "title": "RunnablePassthroughInput"
                    }
                  },
                  {
                    "id": 1,
                    "type": "runnable",
                    "data": {
                      "id": [
                        "langchain",
                        "schema",
                        "runnable",
                        "RunnablePassthrough"
                      ],
                      "name": "RunnablePassthrough"
                    }
                  },
                  {
                    "id": 2,
                    "type": "runnable",
                    "data": {
                      "id": [
                        "langchain_core",
                        "runnables",
                        "base",
                        "RunnableLambda"
                      ],
                      "name": "RunnableLambda"
                    }
                  },
                  {
                    "id": 3,
                    "type": "schema",
                    "data": {
                      "title": "RunnableLambdaOutput"
                    }
                  }
                ],
                "edges": [
                  {
                    "source": 0,
                    "target": 1
                  },
                  {
                    "source": 2,
                    "target": 3
                  },
                  {
                    "source": 1,
                    "target": 2
                  }
                ]
              }
            },
            "documents": {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "schema",
                "runnable",
                "RunnableSequence"
              ],
              "kwargs": {
                "first": {
                  "lc": 1,
                  "type": "not_implemented",
                  "id": [
                    "langchain_core",
                    "runnables",
                    "base",
                    "RunnableLambda"
                  ],
                  "repr": "RunnableLambda(...)"
                },
                "middle": [],
                "last": {
                  "lc": 1,
                  "type": "not_implemented",
                  "id": [
                    "tests",
                    "unit_tests",
                    "runnables",
                    "test_runnable",
                    "FakeRetriever"
                  ],
                  "repr": "FakeRetriever()",
                  "name": "FakeRetriever",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "FakeRetrieverInput",
                          "type": "string"
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "tests",
                            "unit_tests",
                            "runnables",
                            "test_runnable",
                            "FakeRetriever"
                          ],
                          "name": "FakeRetriever"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "FakeRetrieverOutput",
                          "type": "array",
                          "items": {
                            "$ref": "#/definitions/Document"
                          },
                          "definitions": {
                            "Document": {
                              "title": "Document",
                              "description": "Class for storing a piece of text and associated metadata.",
                              "type": "object",
                              "properties": {
                                "page_content": {
                                  "title": "Page Content",
                                  "type": "string"
                                },
                                "metadata": {
                                  "title": "Metadata",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "Document",
                                  "enum": [
                                    "Document"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "page_content"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                },
                "name": null
              },
              "name": "RunnableSequence",
              "graph": {
                "nodes": [
                  {
                    "id": 0,
                    "type": "schema",
                    "data": {
                      "title": "RunnableLambdaInput"
                    }
                  },
                  {
                    "id": 1,
                    "type": "runnable",
                    "data": {
                      "id": [
                        "langchain_core",
                        "runnables",
                        "base",
                        "RunnableLambda"
                      ],
                      "name": "RunnableLambda"
                    }
                  },
                  {
                    "id": 2,
                    "type": "runnable",
                    "data": {
                      "id": [
                        "tests",
                        "unit_tests",
                        "runnables",
                        "test_runnable",
                        "FakeRetriever"
                      ],
                      "name": "FakeRetriever"
                    }
                  },
                  {
                    "id": 3,
                    "type": "schema",
                    "data": {
                      "title": "FakeRetrieverOutput",
                      "type": "array",
                      "items": {
                        "$ref": "#/definitions/Document"
                      },
                      "definitions": {
                        "Document": {
                          "title": "Document",
                          "description": "Class for storing a piece of text and associated metadata.",
                          "type": "object",
                          "properties": {
                            "page_content": {
                              "title": "Page Content",
                              "type": "string"
                            },
                            "metadata": {
                              "title": "Metadata",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "Document",
                              "enum": [
                                "Document"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "page_content"
                          ]
                        }
                      }
                    }
                  }
                ],
                "edges": [
                  {
                    "source": 0,
                    "target": 1
                  },
                  {
                    "source": 2,
                    "target": 3
                  },
                  {
                    "source": 1,
                    "target": 2
                  }
                ]
              }
            },
            "just_to_test_lambda": {
              "lc": 1,
              "type": "not_implemented",
              "id": [
                "langchain_core",
                "runnables",
                "base",
                "RunnableLambda"
              ],
              "repr": "RunnableLambda(...)"
            }
          }
        },
        "name": "RunnableParallel<question,documents,just_to_test_lambda>",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "RunnableParallel<question,documents,just_to_test_lambda>Input",
                "type": "object",
                "properties": {}
              }
            },
            {
              "id": 1,
              "type": "schema",
              "data": {
                "title": "RunnableParallel<question,documents,just_to_test_lambda>Output",
                "type": "object",
                "properties": {
                  "question": {
                    "title": "Question"
                  },
                  "documents": {
                    "title": "Documents",
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/Document"
                    }
                  },
                  "just_to_test_lambda": {
                    "title": "Just To Test Lambda"
                  }
                },
                "definitions": {
                  "Document": {
                    "title": "Document",
                    "description": "Class for storing a piece of text and associated metadata.",
                    "type": "object",
                    "properties": {
                      "page_content": {
                        "title": "Page Content",
                        "type": "string"
                      },
                      "metadata": {
                        "title": "Metadata",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "Document",
                        "enum": [
                          "Document"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "page_content"
                    ]
                  }
                }
              }
            },
            {
              "id": 2,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain",
                  "schema",
                  "runnable",
                  "RunnablePassthrough"
                ],
                "name": "RunnablePassthrough"
              }
            },
            {
              "id": 3,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain_core",
                  "runnables",
                  "base",
                  "RunnableLambda"
                ],
                "name": "RunnableLambda"
              }
            },
            {
              "id": 4,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain_core",
                  "runnables",
                  "base",
                  "RunnableLambda"
                ],
                "name": "RunnableLambda"
              }
            },
            {
              "id": 5,
              "type": "runnable",
              "data": {
                "id": [
                  "tests",
                  "unit_tests",
                  "runnables",
                  "test_runnable",
                  "FakeRetriever"
                ],
                "name": "FakeRetriever"
              }
            },
            {
              "id": 6,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain_core",
                  "runnables",
                  "base",
                  "RunnableLambda"
                ],
                "name": "RunnableLambda"
              }
            }
          ],
          "edges": [
            {
              "source": 2,
              "target": 3
            },
            {
              "source": 0,
              "target": 2
            },
            {
              "source": 3,
              "target": 1
            },
            {
              "source": 4,
              "target": 5
            },
            {
              "source": 0,
              "target": 4
            },
            {
              "source": 5,
              "target": 1
            },
            {
              "source": 0,
              "target": 6
            },
            {
              "source": 6,
              "target": 1
            }
          ]
        }
      },
      "middle": [
        {
          "lc": 1,
          "type": "constructor",
          "id": [
            "langchain",
            "prompts",
            "chat",
            "ChatPromptTemplate"
          ],
          "kwargs": {
            "messages": [
              {
                "lc": 1,
                "type": "constructor",
                "id": [
                  "langchain",
                  "prompts",
                  "chat",
                  "SystemMessagePromptTemplate"
                ],
                "kwargs": {
                  "prompt": {
                    "lc": 1,
                    "type": "constructor",
                    "id": [
                      "langchain",
                      "prompts",
                      "prompt",
                      "PromptTemplate"
                    ],
                    "kwargs": {
                      "input_variables": [],
                      "template": "You are a nice assistant.",
                      "template_format": "f-string",
                      "partial_variables": {}
                    },
                    "name": "PromptTemplate",
                    "graph": {
                      "nodes": [
                        {
                          "id": 0,
                          "type": "schema",
                          "data": {
                            "title": "PromptInput",
                            "type": "object",
                            "properties": {}
                          }
                        },
                        {
                          "id": 1,
                          "type": "runnable",
                          "data": {
                            "id": [
                              "langchain",
                              "prompts",
                              "prompt",
                              "PromptTemplate"
                            ],
                            "name": "PromptTemplate"
                          }
                        },
                        {
                          "id": 2,
                          "type": "schema",
                          "data": {
                            "title": "PromptTemplateOutput",
                            "anyOf": [
                              {
                                "$ref": "#/definitions/StringPromptValue"
                              },
                              {
                                "$ref": "#/definitions/ChatPromptValueConcrete"
                              }
                            ],
                            "definitions": {
                              "StringPromptValue": {
                                "title": "StringPromptValue",
                                "description": "String prompt value.",
                                "type": "object",
                                "properties": {
                                  "text": {
                                    "title": "Text",
                                    "type": "string"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "StringPromptValue",
                                    "enum": [
                                      "StringPromptValue"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "text"
                                ]
                              },
                              "AIMessage": {
                                "title": "AIMessage",
                                "description": "Message from an AI.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "ai",
                                    "enum": [
                                      "ai"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "example": {
                                    "title": "Example",
                                    "default": false,
                                    "type": "boolean"
                                  }
                                },
                                "required": [
                                  "content"
                                ]
                              },
                              "HumanMessage": {
                                "title": "HumanMessage",
                                "description": "Message from a human.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "human",
                                    "enum": [
                                      "human"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "example": {
                                    "title": "Example",
                                    "default": false,
                                    "type": "boolean"
                                  }
                                },
                                "required": [
                                  "content"
                                ]
                              },
                              "ChatMessage": {
                                "title": "ChatMessage",
                                "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "chat",
                                    "enum": [
                                      "chat"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "role": {
                                    "title": "Role",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content",
                                  "role"
                                ]
                              },
                              "SystemMessage": {
                                "title": "SystemMessage",
                                "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "system",
                                    "enum": [
                                      "system"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content"
                                ]
                              },
                              "FunctionMessage": {
                                "title": "FunctionMessage",
                                "description": "Message for passing the result of executing a function back to a model.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "function",
                                    "enum": [
                                      "function"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content",
                                  "name"
                                ]
                              },
                              "ToolMessage": {
                                "title": "ToolMessage",
                                "description": "Message for passing the result of executing a tool back to a model.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "tool",
                                    "enum": [
                                      "tool"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "tool_call_id": {
                                    "title": "Tool Call Id",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content",
                                  "tool_call_id"
                                ]
                              },
                              "ChatPromptValueConcrete": {
                                "title": "ChatPromptValueConcrete",
                                "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                                "type": "object",
                                "properties": {
                                  "messages": {
                                    "title": "Messages",
                                    "type": "array",
                                    "items": {
                                      "anyOf": [
                                        {
                                          "$ref": "#/definitions/AIMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/HumanMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/ChatMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/SystemMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/FunctionMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/ToolMessage"
                                        }
                                      ]
                                    }
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "ChatPromptValueConcrete",
                                    "enum": [
                                      "ChatPromptValueConcrete"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "messages"
                                ]
                              }
                            }
                          }
                        }
                      ],
                      "edges": [
                        {
                          "source": 0,
                          "target": 1
                        },
                        {
                          "source": 1,
                          "target": 2
                        }
                      ]
                    }
                  }
                }
              },
              {
                "lc": 1,
                "type": "constructor",
                "id": [
                  "langchain",
                  "prompts",
                  "chat",
                  "HumanMessagePromptTemplate"
                ],
                "kwargs": {
                  "prompt": {
                    "lc": 1,
                    "type": "constructor",
                    "id": [
                      "langchain",
                      "prompts",
                      "prompt",
                      "PromptTemplate"
                    ],
                    "kwargs": {
                      "input_variables": [
                        "documents",
                        "question"
                      ],
                      "template": "Context:\n{documents}\n\nQuestion:\n{question}",
                      "template_format": "f-string",
                      "partial_variables": {}
                    },
                    "name": "PromptTemplate",
                    "graph": {
                      "nodes": [
                        {
                          "id": 0,
                          "type": "schema",
                          "data": {
                            "title": "PromptInput",
                            "type": "object",
                            "properties": {
                              "documents": {
                                "title": "Documents",
                                "type": "string"
                              },
                              "question": {
                                "title": "Question",
                                "type": "string"
                              }
                            }
                          }
                        },
                        {
                          "id": 1,
                          "type": "runnable",
                          "data": {
                            "id": [
                              "langchain",
                              "prompts",
                              "prompt",
                              "PromptTemplate"
                            ],
                            "name": "PromptTemplate"
                          }
                        },
                        {
                          "id": 2,
                          "type": "schema",
                          "data": {
                            "title": "PromptTemplateOutput",
                            "anyOf": [
                              {
                                "$ref": "#/definitions/StringPromptValue"
                              },
                              {
                                "$ref": "#/definitions/ChatPromptValueConcrete"
                              }
                            ],
                            "definitions": {
                              "StringPromptValue": {
                                "title": "StringPromptValue",
                                "description": "String prompt value.",
                                "type": "object",
                                "properties": {
                                  "text": {
                                    "title": "Text",
                                    "type": "string"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "StringPromptValue",
                                    "enum": [
                                      "StringPromptValue"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "text"
                                ]
                              },
                              "AIMessage": {
                                "title": "AIMessage",
                                "description": "Message from an AI.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "ai",
                                    "enum": [
                                      "ai"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "example": {
                                    "title": "Example",
                                    "default": false,
                                    "type": "boolean"
                                  }
                                },
                                "required": [
                                  "content"
                                ]
                              },
                              "HumanMessage": {
                                "title": "HumanMessage",
                                "description": "Message from a human.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "human",
                                    "enum": [
                                      "human"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "example": {
                                    "title": "Example",
                                    "default": false,
                                    "type": "boolean"
                                  }
                                },
                                "required": [
                                  "content"
                                ]
                              },
                              "ChatMessage": {
                                "title": "ChatMessage",
                                "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "chat",
                                    "enum": [
                                      "chat"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "role": {
                                    "title": "Role",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content",
                                  "role"
                                ]
                              },
                              "SystemMessage": {
                                "title": "SystemMessage",
                                "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "system",
                                    "enum": [
                                      "system"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content"
                                ]
                              },
                              "FunctionMessage": {
                                "title": "FunctionMessage",
                                "description": "Message for passing the result of executing a function back to a model.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "function",
                                    "enum": [
                                      "function"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content",
                                  "name"
                                ]
                              },
                              "ToolMessage": {
                                "title": "ToolMessage",
                                "description": "Message for passing the result of executing a tool back to a model.",
                                "type": "object",
                                "properties": {
                                  "content": {
                                    "title": "Content",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "additional_kwargs": {
                                    "title": "Additional Kwargs",
                                    "type": "object"
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "tool",
                                    "enum": [
                                      "tool"
                                    ],
                                    "type": "string"
                                  },
                                  "name": {
                                    "title": "Name",
                                    "type": "string"
                                  },
                                  "tool_call_id": {
                                    "title": "Tool Call Id",
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "content",
                                  "tool_call_id"
                                ]
                              },
                              "ChatPromptValueConcrete": {
                                "title": "ChatPromptValueConcrete",
                                "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                                "type": "object",
                                "properties": {
                                  "messages": {
                                    "title": "Messages",
                                    "type": "array",
                                    "items": {
                                      "anyOf": [
                                        {
                                          "$ref": "#/definitions/AIMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/HumanMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/ChatMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/SystemMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/FunctionMessage"
                                        },
                                        {
                                          "$ref": "#/definitions/ToolMessage"
                                        }
                                      ]
                                    }
                                  },
                                  "type": {
                                    "title": "Type",
                                    "default": "ChatPromptValueConcrete",
                                    "enum": [
                                      "ChatPromptValueConcrete"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "messages"
                                ]
                              }
                            }
                          }
                        }
                      ],
                      "edges": [
                        {
                          "source": 0,
                          "target": 1
                        },
                        {
                          "source": 1,
                          "target": 2
                        }
                      ]
                    }
                  }
                }
              }
            ],
            "input_variables": [
              "documents",
              "question"
            ]
          },
          "name": "ChatPromptTemplate",
          "graph": {
            "nodes": [
              {
                "id": 0,
                "type": "schema",
                "data": {
                  "title": "PromptInput",
                  "type": "object",
                  "properties": {
                    "documents": {
                      "title": "Documents",
                      "type": "string"
                    },
                    "question": {
                      "title": "Question",
                      "type": "string"
                    }
                  }
                }
              },
              {
                "id": 1,
                "type": "runnable",
                "data": {
                  "id": [
                    "langchain",
                    "prompts",
                    "chat",
                    "ChatPromptTemplate"
                  ],
                  "name": "ChatPromptTemplate"
                }
              },
              {
                "id": 2,
                "type": "schema",
                "data": {
                  "title": "ChatPromptTemplateOutput",
                  "anyOf": [
                    {
                      "$ref": "#/definitions/StringPromptValue"
                    },
                    {
                      "$ref": "#/definitions/ChatPromptValueConcrete"
                    }
                  ],
                  "definitions": {
                    "StringPromptValue": {
                      "title": "StringPromptValue",
                      "description": "String prompt value.",
                      "type": "object",
                      "properties": {
                        "text": {
                          "title": "Text",
                          "type": "string"
                        },
                        "type": {
                          "title": "Type",
                          "default": "StringPromptValue",
                          "enum": [
                            "StringPromptValue"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "text"
                      ]
                    },
                    "AIMessage": {
                      "title": "AIMessage",
                      "description": "Message from an AI.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "ai",
                          "enum": [
                            "ai"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "HumanMessage": {
                      "title": "HumanMessage",
                      "description": "Message from a human.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "human",
                          "enum": [
                            "human"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "ChatMessage": {
                      "title": "ChatMessage",
                      "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "chat",
                          "enum": [
                            "chat"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "role": {
                          "title": "Role",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "role"
                      ]
                    },
                    "SystemMessage": {
                      "title": "SystemMessage",
                      "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "system",
                          "enum": [
                            "system"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "FunctionMessage": {
                      "title": "FunctionMessage",
                      "description": "Message for passing the result of executing a function back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "function",
                          "enum": [
                            "function"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "name"
                      ]
                    },
                    "ToolMessage": {
                      "title": "ToolMessage",
                      "description": "Message for passing the result of executing a tool back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "tool",
                          "enum": [
                            "tool"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "tool_call_id": {
                          "title": "Tool Call Id",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "tool_call_id"
                      ]
                    },
                    "ChatPromptValueConcrete": {
                      "title": "ChatPromptValueConcrete",
                      "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                      "type": "object",
                      "properties": {
                        "messages": {
                          "title": "Messages",
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "$ref": "#/definitions/AIMessage"
                              },
                              {
                                "$ref": "#/definitions/HumanMessage"
                              },
                              {
                                "$ref": "#/definitions/ChatMessage"
                              },
                              {
                                "$ref": "#/definitions/SystemMessage"
                              },
                              {
                                "$ref": "#/definitions/FunctionMessage"
                              },
                              {
                                "$ref": "#/definitions/ToolMessage"
                              }
                            ]
                          }
                        },
                        "type": {
                          "title": "Type",
                          "default": "ChatPromptValueConcrete",
                          "enum": [
                            "ChatPromptValueConcrete"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "messages"
                      ]
                    }
                  }
                }
              }
            ],
            "edges": [
              {
                "source": 0,
                "target": 1
              },
              {
                "source": 1,
                "target": 2
              }
            ]
          }
        },
        {
          "lc": 1,
          "type": "not_implemented",
          "id": [
            "tests",
            "unit_tests",
            "fake",
            "chat_model",
            "FakeListChatModel"
          ],
          "repr": "FakeListChatModel(responses=['foo, bar'])",
          "name": "FakeListChatModel",
          "graph": {
            "nodes": [
              {
                "id": 0,
                "type": "schema",
                "data": {
                  "title": "FakeListChatModelInput",
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/definitions/StringPromptValue"
                    },
                    {
                      "$ref": "#/definitions/ChatPromptValueConcrete"
                    },
                    {
                      "type": "array",
                      "items": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/AIMessage"
                          },
                          {
                            "$ref": "#/definitions/HumanMessage"
                          },
                          {
                            "$ref": "#/definitions/ChatMessage"
                          },
                          {
                            "$ref": "#/definitions/SystemMessage"
                          },
                          {
                            "$ref": "#/definitions/FunctionMessage"
                          },
                          {
                            "$ref": "#/definitions/ToolMessage"
                          }
                        ]
                      }
                    }
                  ],
                  "definitions": {
                    "StringPromptValue": {
                      "title": "StringPromptValue",
                      "description": "String prompt value.",
                      "type": "object",
                      "properties": {
                        "text": {
                          "title": "Text",
                          "type": "string"
                        },
                        "type": {
                          "title": "Type",
                          "default": "StringPromptValue",
                          "enum": [
                            "StringPromptValue"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "text"
                      ]
                    },
                    "AIMessage": {
                      "title": "AIMessage",
                      "description": "Message from an AI.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "ai",
                          "enum": [
                            "ai"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "HumanMessage": {
                      "title": "HumanMessage",
                      "description": "Message from a human.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "human",
                          "enum": [
                            "human"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "ChatMessage": {
                      "title": "ChatMessage",
                      "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "chat",
                          "enum": [
                            "chat"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "role": {
                          "title": "Role",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "role"
                      ]
                    },
                    "SystemMessage": {
                      "title": "SystemMessage",
                      "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "system",
                          "enum": [
                            "system"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "FunctionMessage": {
                      "title": "FunctionMessage",
                      "description": "Message for passing the result of executing a function back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "function",
                          "enum": [
                            "function"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "name"
                      ]
                    },
                    "ToolMessage": {
                      "title": "ToolMessage",
                      "description": "Message for passing the result of executing a tool back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "tool",
                          "enum": [
                            "tool"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "tool_call_id": {
                          "title": "Tool Call Id",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "tool_call_id"
                      ]
                    },
                    "ChatPromptValueConcrete": {
                      "title": "ChatPromptValueConcrete",
                      "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                      "type": "object",
                      "properties": {
                        "messages": {
                          "title": "Messages",
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "$ref": "#/definitions/AIMessage"
                              },
                              {
                                "$ref": "#/definitions/HumanMessage"
                              },
                              {
                                "$ref": "#/definitions/ChatMessage"
                              },
                              {
                                "$ref": "#/definitions/SystemMessage"
                              },
                              {
                                "$ref": "#/definitions/FunctionMessage"
                              },
                              {
                                "$ref": "#/definitions/ToolMessage"
                              }
                            ]
                          }
                        },
                        "type": {
                          "title": "Type",
                          "default": "ChatPromptValueConcrete",
                          "enum": [
                            "ChatPromptValueConcrete"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "messages"
                      ]
                    }
                  }
                }
              },
              {
                "id": 1,
                "type": "runnable",
                "data": {
                  "id": [
                    "tests",
                    "unit_tests",
                    "fake",
                    "chat_model",
                    "FakeListChatModel"
                  ],
                  "name": "FakeListChatModel"
                }
              },
              {
                "id": 2,
                "type": "schema",
                "data": {
                  "title": "FakeListChatModelOutput",
                  "anyOf": [
                    {
                      "$ref": "#/definitions/AIMessage"
                    },
                    {
                      "$ref": "#/definitions/HumanMessage"
                    },
                    {
                      "$ref": "#/definitions/ChatMessage"
                    },
                    {
                      "$ref": "#/definitions/SystemMessage"
                    },
                    {
                      "$ref": "#/definitions/FunctionMessage"
                    },
                    {
                      "$ref": "#/definitions/ToolMessage"
                    }
                  ],
                  "definitions": {
                    "AIMessage": {
                      "title": "AIMessage",
                      "description": "Message from an AI.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "ai",
                          "enum": [
                            "ai"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "HumanMessage": {
                      "title": "HumanMessage",
                      "description": "Message from a human.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "human",
                          "enum": [
                            "human"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "example": {
                          "title": "Example",
                          "default": false,
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "ChatMessage": {
                      "title": "ChatMessage",
                      "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "chat",
                          "enum": [
                            "chat"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "role": {
                          "title": "Role",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "role"
                      ]
                    },
                    "SystemMessage": {
                      "title": "SystemMessage",
                      "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "system",
                          "enum": [
                            "system"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content"
                      ]
                    },
                    "FunctionMessage": {
                      "title": "FunctionMessage",
                      "description": "Message for passing the result of executing a function back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "function",
                          "enum": [
                            "function"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "name"
                      ]
                    },
                    "ToolMessage": {
                      "title": "ToolMessage",
                      "description": "Message for passing the result of executing a tool back to a model.",
                      "type": "object",
                      "properties": {
                        "content": {
                          "title": "Content",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object"
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "additional_kwargs": {
                          "title": "Additional Kwargs",
                          "type": "object"
                        },
                        "type": {
                          "title": "Type",
                          "default": "tool",
                          "enum": [
                            "tool"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "type": "string"
                        },
                        "tool_call_id": {
                          "title": "Tool Call Id",
                          "type": "string"
                        }
                      },
                      "required": [
                        "content",
                        "tool_call_id"
                      ]
                    }
                  }
                }
              }
            ],
            "edges": [
              {
                "source": 0,
                "target": 1
              },
              {
                "source": 1,
                "target": 2
              }
            ]
          }
        }
      ],
      "last": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "output_parsers",
          "list",
          "CommaSeparatedListOutputParser"
        ],
        "kwargs": {},
        "name": "CommaSeparatedListOutputParser",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "CommaSeparatedListOutputParserInput",
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/definitions/AIMessage"
                  },
                  {
                    "$ref": "#/definitions/HumanMessage"
                  },
                  {
                    "$ref": "#/definitions/ChatMessage"
                  },
                  {
                    "$ref": "#/definitions/SystemMessage"
                  },
                  {
                    "$ref": "#/definitions/FunctionMessage"
                  },
                  {
                    "$ref": "#/definitions/ToolMessage"
                  }
                ],
                "definitions": {
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain",
                  "output_parsers",
                  "list",
                  "CommaSeparatedListOutputParser"
                ],
                "name": "CommaSeparatedListOutputParser"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "CommaSeparatedListOutputParserOutput",
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "name": null
    },
    "name": "RunnableSequence",
    "graph": {
      "nodes": [
        {
          "id": 0,
          "type": "schema",
          "data": {
            "title": "RunnableParallel<question,documents,just_to_test_lambda>Input",
            "type": "object",
            "properties": {}
          }
        },
        {
          "id": 1,
          "type": "schema",
          "data": {
            "title": "RunnableParallel<question,documents,just_to_test_lambda>Output",
            "type": "object",
            "properties": {
              "question": {
                "title": "Question"
              },
              "documents": {
                "title": "Documents",
                "type": "array",
                "items": {
                  "$ref": "#/definitions/Document"
                }
              },
              "just_to_test_lambda": {
                "title": "Just To Test Lambda"
              }
            },
            "definitions": {
              "Document": {
                "title": "Document",
                "description": "Class for storing a piece of text and associated metadata.",
                "type": "object",
                "properties": {
                  "page_content": {
                    "title": "Page Content",
                    "type": "string"
                  },
                  "metadata": {
                    "title": "Metadata",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "Document",
                    "enum": [
                      "Document"
                    ],
                    "type": "string"
                  }
                },
                "required": [
                  "page_content"
                ]
              }
            }
          }
        },
        {
          "id": 2,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "schema",
              "runnable",
              "RunnablePassthrough"
            ],
            "name": "RunnablePassthrough"
          }
        },
        {
          "id": 3,
          "type": "runnable",
          "data": {
            "id": [
              "langchain_core",
              "runnables",
              "base",
              "RunnableLambda"
            ],
            "name": "RunnableLambda"
          }
        },
        {
          "id": 4,
          "type": "runnable",
          "data": {
            "id": [
              "langchain_core",
              "runnables",
              "base",
              "RunnableLambda"
            ],
            "name": "RunnableLambda"
          }
        },
        {
          "id": 5,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "runnables",
              "test_runnable",
              "FakeRetriever"
            ],
            "name": "FakeRetriever"
          }
        },
        {
          "id": 6,
          "type": "runnable",
          "data": {
            "id": [
              "langchain_core",
              "runnables",
              "base",
              "RunnableLambda"
            ],
            "name": "RunnableLambda"
          }
        },
        {
          "id": 7,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "prompts",
              "chat",
              "ChatPromptTemplate"
            ],
            "name": "ChatPromptTemplate"
          }
        },
        {
          "id": 8,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "fake",
              "chat_model",
              "FakeListChatModel"
            ],
            "name": "FakeListChatModel"
          }
        },
        {
          "id": 9,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "output_parsers",
              "list",
              "CommaSeparatedListOutputParser"
            ],
            "name": "CommaSeparatedListOutputParser"
          }
        },
        {
          "id": 10,
          "type": "schema",
          "data": {
            "title": "CommaSeparatedListOutputParserOutput",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      ],
      "edges": [
        {
          "source": 2,
          "target": 3
        },
        {
          "source": 0,
          "target": 2
        },
        {
          "source": 3,
          "target": 1
        },
        {
          "source": 4,
          "target": 5
        },
        {
          "source": 0,
          "target": 4
        },
        {
          "source": 5,
          "target": 1
        },
        {
          "source": 0,
          "target": 6
        },
        {
          "source": 6,
          "target": 1
        },
        {
          "source": 1,
          "target": 7
        },
        {
          "source": 7,
          "target": 8
        },
        {
          "source": 9,
          "target": 10
        },
        {
          "source": 8,
          "target": 9
        }
      ]
    }
  }
  '''
# ---
# name: test_seq_prompt_dict
  '''
  ChatPromptTemplate(input_variables=['question'], messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=[], template='You are a nice assistant.')), HumanMessagePromptTemplate(prompt=PromptTemplate(input_variables=['question'], template='{question}'))])
  | RunnableLambda(...)
  | {
      chat: FakeListChatModel(responses=["i'm a chatbot"]),
      llm: FakeListLLM(responses=["i'm a textbot"])
    }
  '''
# ---
# name: test_seq_prompt_dict.1
  '''
  {
    "lc": 1,
    "type": "constructor",
    "id": [
      "langchain",
      "schema",
      "runnable",
      "RunnableSequence"
    ],
    "kwargs": {
      "first": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "prompts",
          "chat",
          "ChatPromptTemplate"
        ],
        "kwargs": {
          "messages": [
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "SystemMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [],
                    "template": "You are a nice assistant.",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {}
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            },
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "HumanMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [
                      "question"
                    ],
                    "template": "{question}",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {
                            "question": {
                              "title": "Question",
                              "type": "string"
                            }
                          }
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            }
          ],
          "input_variables": [
            "question"
          ]
        },
        "name": "ChatPromptTemplate",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "PromptInput",
                "type": "object",
                "properties": {
                  "question": {
                    "title": "Question",
                    "type": "string"
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain",
                  "prompts",
                  "chat",
                  "ChatPromptTemplate"
                ],
                "name": "ChatPromptTemplate"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "ChatPromptTemplateOutput",
                "anyOf": [
                  {
                    "$ref": "#/definitions/StringPromptValue"
                  },
                  {
                    "$ref": "#/definitions/ChatPromptValueConcrete"
                  }
                ],
                "definitions": {
                  "StringPromptValue": {
                    "title": "StringPromptValue",
                    "description": "String prompt value.",
                    "type": "object",
                    "properties": {
                      "text": {
                        "title": "Text",
                        "type": "string"
                      },
                      "type": {
                        "title": "Type",
                        "default": "StringPromptValue",
                        "enum": [
                          "StringPromptValue"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "text"
                    ]
                  },
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  },
                  "ChatPromptValueConcrete": {
                    "title": "ChatPromptValueConcrete",
                    "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                    "type": "object",
                    "properties": {
                      "messages": {
                        "title": "Messages",
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/AIMessage"
                            },
                            {
                              "$ref": "#/definitions/HumanMessage"
                            },
                            {
                              "$ref": "#/definitions/ChatMessage"
                            },
                            {
                              "$ref": "#/definitions/SystemMessage"
                            },
                            {
                              "$ref": "#/definitions/FunctionMessage"
                            },
                            {
                              "$ref": "#/definitions/ToolMessage"
                            }
                          ]
                        }
                      },
                      "type": {
                        "title": "Type",
                        "default": "ChatPromptValueConcrete",
                        "enum": [
                          "ChatPromptValueConcrete"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "messages"
                    ]
                  }
                }
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "middle": [
        {
          "lc": 1,
          "type": "not_implemented",
          "id": [
            "langchain_core",
            "runnables",
            "base",
            "RunnableLambda"
          ],
          "repr": "RunnableLambda(...)"
        }
      ],
      "last": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "schema",
          "runnable",
          "RunnableParallel"
        ],
        "kwargs": {
          "steps": {
            "chat": {
              "lc": 1,
              "type": "not_implemented",
              "id": [
                "tests",
                "unit_tests",
                "fake",
                "chat_model",
                "FakeListChatModel"
              ],
              "repr": "FakeListChatModel(responses=[\"i'm a chatbot\"])",
              "name": "FakeListChatModel",
              "graph": {
                "nodes": [
                  {
                    "id": 0,
                    "type": "schema",
                    "data": {
                      "title": "FakeListChatModelInput",
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "$ref": "#/definitions/StringPromptValue"
                        },
                        {
                          "$ref": "#/definitions/ChatPromptValueConcrete"
                        },
                        {
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "$ref": "#/definitions/AIMessage"
                              },
                              {
                                "$ref": "#/definitions/HumanMessage"
                              },
                              {
                                "$ref": "#/definitions/ChatMessage"
                              },
                              {
                                "$ref": "#/definitions/SystemMessage"
                              },
                              {
                                "$ref": "#/definitions/FunctionMessage"
                              },
                              {
                                "$ref": "#/definitions/ToolMessage"
                              }
                            ]
                          }
                        }
                      ],
                      "definitions": {
                        "StringPromptValue": {
                          "title": "StringPromptValue",
                          "description": "String prompt value.",
                          "type": "object",
                          "properties": {
                            "text": {
                              "title": "Text",
                              "type": "string"
                            },
                            "type": {
                              "title": "Type",
                              "default": "StringPromptValue",
                              "enum": [
                                "StringPromptValue"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "text"
                          ]
                        },
                        "AIMessage": {
                          "title": "AIMessage",
                          "description": "Message from an AI.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "ai",
                              "enum": [
                                "ai"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "example": {
                              "title": "Example",
                              "default": false,
                              "type": "boolean"
                            }
                          },
                          "required": [
                            "content"
                          ]
                        },
                        "HumanMessage": {
                          "title": "HumanMessage",
                          "description": "Message from a human.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "human",
                              "enum": [
                                "human"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "example": {
                              "title": "Example",
                              "default": false,
                              "type": "boolean"
                            }
                          },
                          "required": [
                            "content"
                          ]
                        },
                        "ChatMessage": {
                          "title": "ChatMessage",
                          "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "chat",
                              "enum": [
                                "chat"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "role": {
                              "title": "Role",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content",
                            "role"
                          ]
                        },
                        "SystemMessage": {
                          "title": "SystemMessage",
                          "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "system",
                              "enum": [
                                "system"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content"
                          ]
                        },
                        "FunctionMessage": {
                          "title": "FunctionMessage",
                          "description": "Message for passing the result of executing a function back to a model.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "function",
                              "enum": [
                                "function"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content",
                            "name"
                          ]
                        },
                        "ToolMessage": {
                          "title": "ToolMessage",
                          "description": "Message for passing the result of executing a tool back to a model.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "tool",
                              "enum": [
                                "tool"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "tool_call_id": {
                              "title": "Tool Call Id",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content",
                            "tool_call_id"
                          ]
                        },
                        "ChatPromptValueConcrete": {
                          "title": "ChatPromptValueConcrete",
                          "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                          "type": "object",
                          "properties": {
                            "messages": {
                              "title": "Messages",
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "$ref": "#/definitions/AIMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/HumanMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/ChatMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/SystemMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/FunctionMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/ToolMessage"
                                  }
                                ]
                              }
                            },
                            "type": {
                              "title": "Type",
                              "default": "ChatPromptValueConcrete",
                              "enum": [
                                "ChatPromptValueConcrete"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "messages"
                          ]
                        }
                      }
                    }
                  },
                  {
                    "id": 1,
                    "type": "runnable",
                    "data": {
                      "id": [
                        "tests",
                        "unit_tests",
                        "fake",
                        "chat_model",
                        "FakeListChatModel"
                      ],
                      "name": "FakeListChatModel"
                    }
                  },
                  {
                    "id": 2,
                    "type": "schema",
                    "data": {
                      "title": "FakeListChatModelOutput",
                      "anyOf": [
                        {
                          "$ref": "#/definitions/AIMessage"
                        },
                        {
                          "$ref": "#/definitions/HumanMessage"
                        },
                        {
                          "$ref": "#/definitions/ChatMessage"
                        },
                        {
                          "$ref": "#/definitions/SystemMessage"
                        },
                        {
                          "$ref": "#/definitions/FunctionMessage"
                        },
                        {
                          "$ref": "#/definitions/ToolMessage"
                        }
                      ],
                      "definitions": {
                        "AIMessage": {
                          "title": "AIMessage",
                          "description": "Message from an AI.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "ai",
                              "enum": [
                                "ai"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "example": {
                              "title": "Example",
                              "default": false,
                              "type": "boolean"
                            }
                          },
                          "required": [
                            "content"
                          ]
                        },
                        "HumanMessage": {
                          "title": "HumanMessage",
                          "description": "Message from a human.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "human",
                              "enum": [
                                "human"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "example": {
                              "title": "Example",
                              "default": false,
                              "type": "boolean"
                            }
                          },
                          "required": [
                            "content"
                          ]
                        },
                        "ChatMessage": {
                          "title": "ChatMessage",
                          "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "chat",
                              "enum": [
                                "chat"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "role": {
                              "title": "Role",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content",
                            "role"
                          ]
                        },
                        "SystemMessage": {
                          "title": "SystemMessage",
                          "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "system",
                              "enum": [
                                "system"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content"
                          ]
                        },
                        "FunctionMessage": {
                          "title": "FunctionMessage",
                          "description": "Message for passing the result of executing a function back to a model.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "function",
                              "enum": [
                                "function"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content",
                            "name"
                          ]
                        },
                        "ToolMessage": {
                          "title": "ToolMessage",
                          "description": "Message for passing the result of executing a tool back to a model.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "tool",
                              "enum": [
                                "tool"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "tool_call_id": {
                              "title": "Tool Call Id",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content",
                            "tool_call_id"
                          ]
                        }
                      }
                    }
                  }
                ],
                "edges": [
                  {
                    "source": 0,
                    "target": 1
                  },
                  {
                    "source": 1,
                    "target": 2
                  }
                ]
              }
            },
            "llm": {
              "lc": 1,
              "type": "not_implemented",
              "id": [
                "tests",
                "unit_tests",
                "fake",
                "llm",
                "FakeListLLM"
              ],
              "repr": "FakeListLLM(responses=[\"i'm a textbot\"])",
              "name": "FakeListLLM",
              "graph": {
                "nodes": [
                  {
                    "id": 0,
                    "type": "schema",
                    "data": {
                      "title": "FakeListLLMInput",
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "$ref": "#/definitions/StringPromptValue"
                        },
                        {
                          "$ref": "#/definitions/ChatPromptValueConcrete"
                        },
                        {
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "$ref": "#/definitions/AIMessage"
                              },
                              {
                                "$ref": "#/definitions/HumanMessage"
                              },
                              {
                                "$ref": "#/definitions/ChatMessage"
                              },
                              {
                                "$ref": "#/definitions/SystemMessage"
                              },
                              {
                                "$ref": "#/definitions/FunctionMessage"
                              },
                              {
                                "$ref": "#/definitions/ToolMessage"
                              }
                            ]
                          }
                        }
                      ],
                      "definitions": {
                        "StringPromptValue": {
                          "title": "StringPromptValue",
                          "description": "String prompt value.",
                          "type": "object",
                          "properties": {
                            "text": {
                              "title": "Text",
                              "type": "string"
                            },
                            "type": {
                              "title": "Type",
                              "default": "StringPromptValue",
                              "enum": [
                                "StringPromptValue"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "text"
                          ]
                        },
                        "AIMessage": {
                          "title": "AIMessage",
                          "description": "Message from an AI.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "ai",
                              "enum": [
                                "ai"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "example": {
                              "title": "Example",
                              "default": false,
                              "type": "boolean"
                            }
                          },
                          "required": [
                            "content"
                          ]
                        },
                        "HumanMessage": {
                          "title": "HumanMessage",
                          "description": "Message from a human.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "human",
                              "enum": [
                                "human"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "example": {
                              "title": "Example",
                              "default": false,
                              "type": "boolean"
                            }
                          },
                          "required": [
                            "content"
                          ]
                        },
                        "ChatMessage": {
                          "title": "ChatMessage",
                          "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "chat",
                              "enum": [
                                "chat"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "role": {
                              "title": "Role",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content",
                            "role"
                          ]
                        },
                        "SystemMessage": {
                          "title": "SystemMessage",
                          "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "system",
                              "enum": [
                                "system"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content"
                          ]
                        },
                        "FunctionMessage": {
                          "title": "FunctionMessage",
                          "description": "Message for passing the result of executing a function back to a model.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "function",
                              "enum": [
                                "function"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content",
                            "name"
                          ]
                        },
                        "ToolMessage": {
                          "title": "ToolMessage",
                          "description": "Message for passing the result of executing a tool back to a model.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "tool",
                              "enum": [
                                "tool"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "tool_call_id": {
                              "title": "Tool Call Id",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content",
                            "tool_call_id"
                          ]
                        },
                        "ChatPromptValueConcrete": {
                          "title": "ChatPromptValueConcrete",
                          "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                          "type": "object",
                          "properties": {
                            "messages": {
                              "title": "Messages",
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "$ref": "#/definitions/AIMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/HumanMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/ChatMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/SystemMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/FunctionMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/ToolMessage"
                                  }
                                ]
                              }
                            },
                            "type": {
                              "title": "Type",
                              "default": "ChatPromptValueConcrete",
                              "enum": [
                                "ChatPromptValueConcrete"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "messages"
                          ]
                        }
                      }
                    }
                  },
                  {
                    "id": 1,
                    "type": "runnable",
                    "data": {
                      "id": [
                        "tests",
                        "unit_tests",
                        "fake",
                        "llm",
                        "FakeListLLM"
                      ],
                      "name": "FakeListLLM"
                    }
                  },
                  {
                    "id": 2,
                    "type": "schema",
                    "data": {
                      "title": "FakeListLLMOutput",
                      "type": "string"
                    }
                  }
                ],
                "edges": [
                  {
                    "source": 0,
                    "target": 1
                  },
                  {
                    "source": 1,
                    "target": 2
                  }
                ]
              }
            }
          }
        },
        "name": "RunnableParallel<chat,llm>",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "RunnableParallel<chat,llm>Input",
                "type": "object",
                "properties": {}
              }
            },
            {
              "id": 1,
              "type": "schema",
              "data": {
                "title": "RunnableParallel<chat,llm>Output",
                "type": "object",
                "properties": {
                  "chat": {
                    "title": "Chat",
                    "anyOf": [
                      {
                        "$ref": "#/definitions/AIMessage"
                      },
                      {
                        "$ref": "#/definitions/HumanMessage"
                      },
                      {
                        "$ref": "#/definitions/ChatMessage"
                      },
                      {
                        "$ref": "#/definitions/SystemMessage"
                      },
                      {
                        "$ref": "#/definitions/FunctionMessage"
                      },
                      {
                        "$ref": "#/definitions/ToolMessage"
                      }
                    ]
                  },
                  "llm": {
                    "title": "Llm",
                    "type": "string"
                  }
                },
                "definitions": {
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  }
                }
              }
            },
            {
              "id": 2,
              "type": "runnable",
              "data": {
                "id": [
                  "tests",
                  "unit_tests",
                  "fake",
                  "chat_model",
                  "FakeListChatModel"
                ],
                "name": "FakeListChatModel"
              }
            },
            {
              "id": 3,
              "type": "runnable",
              "data": {
                "id": [
                  "tests",
                  "unit_tests",
                  "fake",
                  "llm",
                  "FakeListLLM"
                ],
                "name": "FakeListLLM"
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 2
            },
            {
              "source": 2,
              "target": 1
            },
            {
              "source": 0,
              "target": 3
            },
            {
              "source": 3,
              "target": 1
            }
          ]
        }
      },
      "name": null
    },
    "name": "RunnableSequence",
    "graph": {
      "nodes": [
        {
          "id": 0,
          "type": "schema",
          "data": {
            "title": "PromptInput",
            "type": "object",
            "properties": {
              "question": {
                "title": "Question",
                "type": "string"
              }
            }
          }
        },
        {
          "id": 1,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "prompts",
              "chat",
              "ChatPromptTemplate"
            ],
            "name": "ChatPromptTemplate"
          }
        },
        {
          "id": 2,
          "type": "runnable",
          "data": {
            "id": [
              "langchain_core",
              "runnables",
              "base",
              "RunnableLambda"
            ],
            "name": "RunnableLambda"
          }
        },
        {
          "id": 3,
          "type": "schema",
          "data": {
            "title": "RunnableParallel<chat,llm>Input",
            "type": "object",
            "properties": {}
          }
        },
        {
          "id": 4,
          "type": "schema",
          "data": {
            "title": "RunnableParallel<chat,llm>Output",
            "type": "object",
            "properties": {
              "chat": {
                "title": "Chat",
                "anyOf": [
                  {
                    "$ref": "#/definitions/AIMessage"
                  },
                  {
                    "$ref": "#/definitions/HumanMessage"
                  },
                  {
                    "$ref": "#/definitions/ChatMessage"
                  },
                  {
                    "$ref": "#/definitions/SystemMessage"
                  },
                  {
                    "$ref": "#/definitions/FunctionMessage"
                  },
                  {
                    "$ref": "#/definitions/ToolMessage"
                  }
                ]
              },
              "llm": {
                "title": "Llm",
                "type": "string"
              }
            },
            "definitions": {
              "AIMessage": {
                "title": "AIMessage",
                "description": "Message from an AI.",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "ai",
                    "enum": [
                      "ai"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  },
                  "example": {
                    "title": "Example",
                    "default": false,
                    "type": "boolean"
                  }
                },
                "required": [
                  "content"
                ]
              },
              "HumanMessage": {
                "title": "HumanMessage",
                "description": "Message from a human.",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "human",
                    "enum": [
                      "human"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  },
                  "example": {
                    "title": "Example",
                    "default": false,
                    "type": "boolean"
                  }
                },
                "required": [
                  "content"
                ]
              },
              "ChatMessage": {
                "title": "ChatMessage",
                "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "chat",
                    "enum": [
                      "chat"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  },
                  "role": {
                    "title": "Role",
                    "type": "string"
                  }
                },
                "required": [
                  "content",
                  "role"
                ]
              },
              "SystemMessage": {
                "title": "SystemMessage",
                "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "system",
                    "enum": [
                      "system"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  }
                },
                "required": [
                  "content"
                ]
              },
              "FunctionMessage": {
                "title": "FunctionMessage",
                "description": "Message for passing the result of executing a function back to a model.",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "function",
                    "enum": [
                      "function"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  }
                },
                "required": [
                  "content",
                  "name"
                ]
              },
              "ToolMessage": {
                "title": "ToolMessage",
                "description": "Message for passing the result of executing a tool back to a model.",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "tool",
                    "enum": [
                      "tool"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  },
                  "tool_call_id": {
                    "title": "Tool Call Id",
                    "type": "string"
                  }
                },
                "required": [
                  "content",
                  "tool_call_id"
                ]
              }
            }
          }
        },
        {
          "id": 5,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "fake",
              "chat_model",
              "FakeListChatModel"
            ],
            "name": "FakeListChatModel"
          }
        },
        {
          "id": 6,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "fake",
              "llm",
              "FakeListLLM"
            ],
            "name": "FakeListLLM"
          }
        }
      ],
      "edges": [
        {
          "source": 0,
          "target": 1
        },
        {
          "source": 1,
          "target": 2
        },
        {
          "source": 3,
          "target": 5
        },
        {
          "source": 5,
          "target": 4
        },
        {
          "source": 3,
          "target": 6
        },
        {
          "source": 6,
          "target": 4
        },
        {
          "source": 2,
          "target": 3
        }
      ]
    }
  }
  '''
# ---
# name: test_seq_prompt_map
  '''
  {
    "lc": 1,
    "type": "constructor",
    "id": [
      "langchain",
      "schema",
      "runnable",
      "RunnableSequence"
    ],
    "kwargs": {
      "first": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "prompts",
          "chat",
          "ChatPromptTemplate"
        ],
        "kwargs": {
          "messages": [
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "SystemMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [],
                    "template": "You are a nice assistant.",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {}
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            },
            {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "prompts",
                "chat",
                "HumanMessagePromptTemplate"
              ],
              "kwargs": {
                "prompt": {
                  "lc": 1,
                  "type": "constructor",
                  "id": [
                    "langchain",
                    "prompts",
                    "prompt",
                    "PromptTemplate"
                  ],
                  "kwargs": {
                    "input_variables": [
                      "question"
                    ],
                    "template": "{question}",
                    "template_format": "f-string",
                    "partial_variables": {}
                  },
                  "name": "PromptTemplate",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "PromptInput",
                          "type": "object",
                          "properties": {
                            "question": {
                              "title": "Question",
                              "type": "string"
                            }
                          }
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "langchain",
                            "prompts",
                            "prompt",
                            "PromptTemplate"
                          ],
                          "name": "PromptTemplate"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "PromptTemplateOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                }
              }
            }
          ],
          "input_variables": [
            "question"
          ]
        },
        "name": "ChatPromptTemplate",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "PromptInput",
                "type": "object",
                "properties": {
                  "question": {
                    "title": "Question",
                    "type": "string"
                  }
                }
              }
            },
            {
              "id": 1,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain",
                  "prompts",
                  "chat",
                  "ChatPromptTemplate"
                ],
                "name": "ChatPromptTemplate"
              }
            },
            {
              "id": 2,
              "type": "schema",
              "data": {
                "title": "ChatPromptTemplateOutput",
                "anyOf": [
                  {
                    "$ref": "#/definitions/StringPromptValue"
                  },
                  {
                    "$ref": "#/definitions/ChatPromptValueConcrete"
                  }
                ],
                "definitions": {
                  "StringPromptValue": {
                    "title": "StringPromptValue",
                    "description": "String prompt value.",
                    "type": "object",
                    "properties": {
                      "text": {
                        "title": "Text",
                        "type": "string"
                      },
                      "type": {
                        "title": "Type",
                        "default": "StringPromptValue",
                        "enum": [
                          "StringPromptValue"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "text"
                    ]
                  },
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  },
                  "ChatPromptValueConcrete": {
                    "title": "ChatPromptValueConcrete",
                    "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                    "type": "object",
                    "properties": {
                      "messages": {
                        "title": "Messages",
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/AIMessage"
                            },
                            {
                              "$ref": "#/definitions/HumanMessage"
                            },
                            {
                              "$ref": "#/definitions/ChatMessage"
                            },
                            {
                              "$ref": "#/definitions/SystemMessage"
                            },
                            {
                              "$ref": "#/definitions/FunctionMessage"
                            },
                            {
                              "$ref": "#/definitions/ToolMessage"
                            }
                          ]
                        }
                      },
                      "type": {
                        "title": "Type",
                        "default": "ChatPromptValueConcrete",
                        "enum": [
                          "ChatPromptValueConcrete"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "messages"
                    ]
                  }
                }
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 1
            },
            {
              "source": 1,
              "target": 2
            }
          ]
        }
      },
      "middle": [
        {
          "lc": 1,
          "type": "not_implemented",
          "id": [
            "langchain_core",
            "runnables",
            "base",
            "RunnableLambda"
          ],
          "repr": "RunnableLambda(...)"
        }
      ],
      "last": {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain",
          "schema",
          "runnable",
          "RunnableParallel"
        ],
        "kwargs": {
          "steps": {
            "chat": {
              "lc": 1,
              "type": "constructor",
              "id": [
                "langchain",
                "schema",
                "runnable",
                "RunnableBinding"
              ],
              "kwargs": {
                "bound": {
                  "lc": 1,
                  "type": "not_implemented",
                  "id": [
                    "tests",
                    "unit_tests",
                    "fake",
                    "chat_model",
                    "FakeListChatModel"
                  ],
                  "repr": "FakeListChatModel(responses=[\"i'm a chatbot\"])",
                  "name": "FakeListChatModel",
                  "graph": {
                    "nodes": [
                      {
                        "id": 0,
                        "type": "schema",
                        "data": {
                          "title": "FakeListChatModelInput",
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "$ref": "#/definitions/StringPromptValue"
                            },
                            {
                              "$ref": "#/definitions/ChatPromptValueConcrete"
                            },
                            {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "$ref": "#/definitions/AIMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/HumanMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/ChatMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/SystemMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/FunctionMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/ToolMessage"
                                  }
                                ]
                              }
                            }
                          ],
                          "definitions": {
                            "StringPromptValue": {
                              "title": "StringPromptValue",
                              "description": "String prompt value.",
                              "type": "object",
                              "properties": {
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "StringPromptValue",
                                  "enum": [
                                    "StringPromptValue"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ]
                            },
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            },
                            "ChatPromptValueConcrete": {
                              "title": "ChatPromptValueConcrete",
                              "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                              "type": "object",
                              "properties": {
                                "messages": {
                                  "title": "Messages",
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/AIMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/HumanMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ChatMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/SystemMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/FunctionMessage"
                                      },
                                      {
                                        "$ref": "#/definitions/ToolMessage"
                                      }
                                    ]
                                  }
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ChatPromptValueConcrete",
                                  "enum": [
                                    "ChatPromptValueConcrete"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messages"
                              ]
                            }
                          }
                        }
                      },
                      {
                        "id": 1,
                        "type": "runnable",
                        "data": {
                          "id": [
                            "tests",
                            "unit_tests",
                            "fake",
                            "chat_model",
                            "FakeListChatModel"
                          ],
                          "name": "FakeListChatModel"
                        }
                      },
                      {
                        "id": 2,
                        "type": "schema",
                        "data": {
                          "title": "FakeListChatModelOutput",
                          "anyOf": [
                            {
                              "$ref": "#/definitions/AIMessage"
                            },
                            {
                              "$ref": "#/definitions/HumanMessage"
                            },
                            {
                              "$ref": "#/definitions/ChatMessage"
                            },
                            {
                              "$ref": "#/definitions/SystemMessage"
                            },
                            {
                              "$ref": "#/definitions/FunctionMessage"
                            },
                            {
                              "$ref": "#/definitions/ToolMessage"
                            }
                          ],
                          "definitions": {
                            "AIMessage": {
                              "title": "AIMessage",
                              "description": "Message from an AI.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "ai",
                                  "enum": [
                                    "ai"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "HumanMessage": {
                              "title": "HumanMessage",
                              "description": "Message from a human.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "human",
                                  "enum": [
                                    "human"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "example": {
                                  "title": "Example",
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "ChatMessage": {
                              "title": "ChatMessage",
                              "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "chat",
                                  "enum": [
                                    "chat"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "role": {
                                  "title": "Role",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "role"
                              ]
                            },
                            "SystemMessage": {
                              "title": "SystemMessage",
                              "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "system",
                                  "enum": [
                                    "system"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content"
                              ]
                            },
                            "FunctionMessage": {
                              "title": "FunctionMessage",
                              "description": "Message for passing the result of executing a function back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "function",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "name"
                              ]
                            },
                            "ToolMessage": {
                              "title": "ToolMessage",
                              "description": "Message for passing the result of executing a tool back to a model.",
                              "type": "object",
                              "properties": {
                                "content": {
                                  "title": "Content",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "object"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "additional_kwargs": {
                                  "title": "Additional Kwargs",
                                  "type": "object"
                                },
                                "type": {
                                  "title": "Type",
                                  "default": "tool",
                                  "enum": [
                                    "tool"
                                  ],
                                  "type": "string"
                                },
                                "name": {
                                  "title": "Name",
                                  "type": "string"
                                },
                                "tool_call_id": {
                                  "title": "Tool Call Id",
                                  "type": "string"
                                }
                              },
                              "required": [
                                "content",
                                "tool_call_id"
                              ]
                            }
                          }
                        }
                      }
                    ],
                    "edges": [
                      {
                        "source": 0,
                        "target": 1
                      },
                      {
                        "source": 1,
                        "target": 2
                      }
                    ]
                  }
                },
                "kwargs": {
                  "stop": [
                    "Thought:"
                  ]
                },
                "config": {},
                "config_factories": [],
                "custom_input_type": null,
                "custom_output_type": null
              },
              "name": "FakeListChatModel",
              "graph": {
                "nodes": [
                  {
                    "id": 0,
                    "type": "schema",
                    "data": {
                      "title": "FakeListChatModelInput",
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "$ref": "#/definitions/StringPromptValue"
                        },
                        {
                          "$ref": "#/definitions/ChatPromptValueConcrete"
                        },
                        {
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "$ref": "#/definitions/AIMessage"
                              },
                              {
                                "$ref": "#/definitions/HumanMessage"
                              },
                              {
                                "$ref": "#/definitions/ChatMessage"
                              },
                              {
                                "$ref": "#/definitions/SystemMessage"
                              },
                              {
                                "$ref": "#/definitions/FunctionMessage"
                              },
                              {
                                "$ref": "#/definitions/ToolMessage"
                              }
                            ]
                          }
                        }
                      ],
                      "definitions": {
                        "StringPromptValue": {
                          "title": "StringPromptValue",
                          "description": "String prompt value.",
                          "type": "object",
                          "properties": {
                            "text": {
                              "title": "Text",
                              "type": "string"
                            },
                            "type": {
                              "title": "Type",
                              "default": "StringPromptValue",
                              "enum": [
                                "StringPromptValue"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "text"
                          ]
                        },
                        "AIMessage": {
                          "title": "AIMessage",
                          "description": "Message from an AI.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "ai",
                              "enum": [
                                "ai"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "example": {
                              "title": "Example",
                              "default": false,
                              "type": "boolean"
                            }
                          },
                          "required": [
                            "content"
                          ]
                        },
                        "HumanMessage": {
                          "title": "HumanMessage",
                          "description": "Message from a human.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "human",
                              "enum": [
                                "human"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "example": {
                              "title": "Example",
                              "default": false,
                              "type": "boolean"
                            }
                          },
                          "required": [
                            "content"
                          ]
                        },
                        "ChatMessage": {
                          "title": "ChatMessage",
                          "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "chat",
                              "enum": [
                                "chat"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "role": {
                              "title": "Role",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content",
                            "role"
                          ]
                        },
                        "SystemMessage": {
                          "title": "SystemMessage",
                          "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "system",
                              "enum": [
                                "system"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content"
                          ]
                        },
                        "FunctionMessage": {
                          "title": "FunctionMessage",
                          "description": "Message for passing the result of executing a function back to a model.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "function",
                              "enum": [
                                "function"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content",
                            "name"
                          ]
                        },
                        "ToolMessage": {
                          "title": "ToolMessage",
                          "description": "Message for passing the result of executing a tool back to a model.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "tool",
                              "enum": [
                                "tool"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "tool_call_id": {
                              "title": "Tool Call Id",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content",
                            "tool_call_id"
                          ]
                        },
                        "ChatPromptValueConcrete": {
                          "title": "ChatPromptValueConcrete",
                          "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                          "type": "object",
                          "properties": {
                            "messages": {
                              "title": "Messages",
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "$ref": "#/definitions/AIMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/HumanMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/ChatMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/SystemMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/FunctionMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/ToolMessage"
                                  }
                                ]
                              }
                            },
                            "type": {
                              "title": "Type",
                              "default": "ChatPromptValueConcrete",
                              "enum": [
                                "ChatPromptValueConcrete"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "messages"
                          ]
                        }
                      }
                    }
                  },
                  {
                    "id": 1,
                    "type": "runnable",
                    "data": {
                      "id": [
                        "tests",
                        "unit_tests",
                        "fake",
                        "chat_model",
                        "FakeListChatModel"
                      ],
                      "name": "FakeListChatModel"
                    }
                  },
                  {
                    "id": 2,
                    "type": "schema",
                    "data": {
                      "title": "FakeListChatModelOutput",
                      "anyOf": [
                        {
                          "$ref": "#/definitions/AIMessage"
                        },
                        {
                          "$ref": "#/definitions/HumanMessage"
                        },
                        {
                          "$ref": "#/definitions/ChatMessage"
                        },
                        {
                          "$ref": "#/definitions/SystemMessage"
                        },
                        {
                          "$ref": "#/definitions/FunctionMessage"
                        },
                        {
                          "$ref": "#/definitions/ToolMessage"
                        }
                      ],
                      "definitions": {
                        "AIMessage": {
                          "title": "AIMessage",
                          "description": "Message from an AI.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "ai",
                              "enum": [
                                "ai"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "example": {
                              "title": "Example",
                              "default": false,
                              "type": "boolean"
                            }
                          },
                          "required": [
                            "content"
                          ]
                        },
                        "HumanMessage": {
                          "title": "HumanMessage",
                          "description": "Message from a human.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "human",
                              "enum": [
                                "human"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "example": {
                              "title": "Example",
                              "default": false,
                              "type": "boolean"
                            }
                          },
                          "required": [
                            "content"
                          ]
                        },
                        "ChatMessage": {
                          "title": "ChatMessage",
                          "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "chat",
                              "enum": [
                                "chat"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "role": {
                              "title": "Role",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content",
                            "role"
                          ]
                        },
                        "SystemMessage": {
                          "title": "SystemMessage",
                          "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "system",
                              "enum": [
                                "system"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content"
                          ]
                        },
                        "FunctionMessage": {
                          "title": "FunctionMessage",
                          "description": "Message for passing the result of executing a function back to a model.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "function",
                              "enum": [
                                "function"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content",
                            "name"
                          ]
                        },
                        "ToolMessage": {
                          "title": "ToolMessage",
                          "description": "Message for passing the result of executing a tool back to a model.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "tool",
                              "enum": [
                                "tool"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "tool_call_id": {
                              "title": "Tool Call Id",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content",
                            "tool_call_id"
                          ]
                        }
                      }
                    }
                  }
                ],
                "edges": [
                  {
                    "source": 0,
                    "target": 1
                  },
                  {
                    "source": 1,
                    "target": 2
                  }
                ]
              }
            },
            "llm": {
              "lc": 1,
              "type": "not_implemented",
              "id": [
                "tests",
                "unit_tests",
                "fake",
                "llm",
                "FakeListLLM"
              ],
              "repr": "FakeListLLM(responses=[\"i'm a textbot\"])",
              "name": "FakeListLLM",
              "graph": {
                "nodes": [
                  {
                    "id": 0,
                    "type": "schema",
                    "data": {
                      "title": "FakeListLLMInput",
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "$ref": "#/definitions/StringPromptValue"
                        },
                        {
                          "$ref": "#/definitions/ChatPromptValueConcrete"
                        },
                        {
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "$ref": "#/definitions/AIMessage"
                              },
                              {
                                "$ref": "#/definitions/HumanMessage"
                              },
                              {
                                "$ref": "#/definitions/ChatMessage"
                              },
                              {
                                "$ref": "#/definitions/SystemMessage"
                              },
                              {
                                "$ref": "#/definitions/FunctionMessage"
                              },
                              {
                                "$ref": "#/definitions/ToolMessage"
                              }
                            ]
                          }
                        }
                      ],
                      "definitions": {
                        "StringPromptValue": {
                          "title": "StringPromptValue",
                          "description": "String prompt value.",
                          "type": "object",
                          "properties": {
                            "text": {
                              "title": "Text",
                              "type": "string"
                            },
                            "type": {
                              "title": "Type",
                              "default": "StringPromptValue",
                              "enum": [
                                "StringPromptValue"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "text"
                          ]
                        },
                        "AIMessage": {
                          "title": "AIMessage",
                          "description": "Message from an AI.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "ai",
                              "enum": [
                                "ai"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "example": {
                              "title": "Example",
                              "default": false,
                              "type": "boolean"
                            }
                          },
                          "required": [
                            "content"
                          ]
                        },
                        "HumanMessage": {
                          "title": "HumanMessage",
                          "description": "Message from a human.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "human",
                              "enum": [
                                "human"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "example": {
                              "title": "Example",
                              "default": false,
                              "type": "boolean"
                            }
                          },
                          "required": [
                            "content"
                          ]
                        },
                        "ChatMessage": {
                          "title": "ChatMessage",
                          "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "chat",
                              "enum": [
                                "chat"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "role": {
                              "title": "Role",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content",
                            "role"
                          ]
                        },
                        "SystemMessage": {
                          "title": "SystemMessage",
                          "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "system",
                              "enum": [
                                "system"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content"
                          ]
                        },
                        "FunctionMessage": {
                          "title": "FunctionMessage",
                          "description": "Message for passing the result of executing a function back to a model.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "function",
                              "enum": [
                                "function"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content",
                            "name"
                          ]
                        },
                        "ToolMessage": {
                          "title": "ToolMessage",
                          "description": "Message for passing the result of executing a tool back to a model.",
                          "type": "object",
                          "properties": {
                            "content": {
                              "title": "Content",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "object"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            "additional_kwargs": {
                              "title": "Additional Kwargs",
                              "type": "object"
                            },
                            "type": {
                              "title": "Type",
                              "default": "tool",
                              "enum": [
                                "tool"
                              ],
                              "type": "string"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "tool_call_id": {
                              "title": "Tool Call Id",
                              "type": "string"
                            }
                          },
                          "required": [
                            "content",
                            "tool_call_id"
                          ]
                        },
                        "ChatPromptValueConcrete": {
                          "title": "ChatPromptValueConcrete",
                          "description": "Chat prompt value which explicitly lists out the message types it accepts.\nFor use in external schemas.",
                          "type": "object",
                          "properties": {
                            "messages": {
                              "title": "Messages",
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "$ref": "#/definitions/AIMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/HumanMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/ChatMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/SystemMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/FunctionMessage"
                                  },
                                  {
                                    "$ref": "#/definitions/ToolMessage"
                                  }
                                ]
                              }
                            },
                            "type": {
                              "title": "Type",
                              "default": "ChatPromptValueConcrete",
                              "enum": [
                                "ChatPromptValueConcrete"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "messages"
                          ]
                        }
                      }
                    }
                  },
                  {
                    "id": 1,
                    "type": "runnable",
                    "data": {
                      "id": [
                        "tests",
                        "unit_tests",
                        "fake",
                        "llm",
                        "FakeListLLM"
                      ],
                      "name": "FakeListLLM"
                    }
                  },
                  {
                    "id": 2,
                    "type": "schema",
                    "data": {
                      "title": "FakeListLLMOutput",
                      "type": "string"
                    }
                  }
                ],
                "edges": [
                  {
                    "source": 0,
                    "target": 1
                  },
                  {
                    "source": 1,
                    "target": 2
                  }
                ]
              }
            },
            "passthrough": {
              "lc": 1,
              "type": "not_implemented",
              "id": [
                "langchain_core",
                "runnables",
                "base",
                "RunnableLambda"
              ],
              "repr": "RunnableLambda(...)"
            }
          }
        },
        "name": "RunnableParallel<chat,llm,passthrough>",
        "graph": {
          "nodes": [
            {
              "id": 0,
              "type": "schema",
              "data": {
                "title": "RunnableParallel<chat,llm,passthrough>Input",
                "type": "object",
                "properties": {}
              }
            },
            {
              "id": 1,
              "type": "schema",
              "data": {
                "title": "RunnableParallel<chat,llm,passthrough>Output",
                "type": "object",
                "properties": {
                  "chat": {
                    "title": "Chat",
                    "anyOf": [
                      {
                        "$ref": "#/definitions/AIMessage"
                      },
                      {
                        "$ref": "#/definitions/HumanMessage"
                      },
                      {
                        "$ref": "#/definitions/ChatMessage"
                      },
                      {
                        "$ref": "#/definitions/SystemMessage"
                      },
                      {
                        "$ref": "#/definitions/FunctionMessage"
                      },
                      {
                        "$ref": "#/definitions/ToolMessage"
                      }
                    ]
                  },
                  "llm": {
                    "title": "Llm",
                    "type": "string"
                  },
                  "passthrough": {
                    "title": "Passthrough"
                  }
                },
                "definitions": {
                  "AIMessage": {
                    "title": "AIMessage",
                    "description": "Message from an AI.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "ai",
                        "enum": [
                          "ai"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "HumanMessage": {
                    "title": "HumanMessage",
                    "description": "Message from a human.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "human",
                        "enum": [
                          "human"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "example": {
                        "title": "Example",
                        "default": false,
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "ChatMessage": {
                    "title": "ChatMessage",
                    "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "chat",
                        "enum": [
                          "chat"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "role": {
                        "title": "Role",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "role"
                    ]
                  },
                  "SystemMessage": {
                    "title": "SystemMessage",
                    "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "system",
                        "enum": [
                          "system"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content"
                    ]
                  },
                  "FunctionMessage": {
                    "title": "FunctionMessage",
                    "description": "Message for passing the result of executing a function back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "function",
                        "enum": [
                          "function"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "name"
                    ]
                  },
                  "ToolMessage": {
                    "title": "ToolMessage",
                    "description": "Message for passing the result of executing a tool back to a model.",
                    "type": "object",
                    "properties": {
                      "content": {
                        "title": "Content",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "object"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "additional_kwargs": {
                        "title": "Additional Kwargs",
                        "type": "object"
                      },
                      "type": {
                        "title": "Type",
                        "default": "tool",
                        "enum": [
                          "tool"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "type": "string"
                      },
                      "tool_call_id": {
                        "title": "Tool Call Id",
                        "type": "string"
                      }
                    },
                    "required": [
                      "content",
                      "tool_call_id"
                    ]
                  }
                }
              }
            },
            {
              "id": 2,
              "type": "runnable",
              "data": {
                "id": [
                  "tests",
                  "unit_tests",
                  "fake",
                  "chat_model",
                  "FakeListChatModel"
                ],
                "name": "FakeListChatModel"
              }
            },
            {
              "id": 3,
              "type": "runnable",
              "data": {
                "id": [
                  "tests",
                  "unit_tests",
                  "fake",
                  "llm",
                  "FakeListLLM"
                ],
                "name": "FakeListLLM"
              }
            },
            {
              "id": 4,
              "type": "runnable",
              "data": {
                "id": [
                  "langchain_core",
                  "runnables",
                  "base",
                  "RunnableLambda"
                ],
                "name": "RunnableLambda"
              }
            }
          ],
          "edges": [
            {
              "source": 0,
              "target": 2
            },
            {
              "source": 2,
              "target": 1
            },
            {
              "source": 0,
              "target": 3
            },
            {
              "source": 3,
              "target": 1
            },
            {
              "source": 0,
              "target": 4
            },
            {
              "source": 4,
              "target": 1
            }
          ]
        }
      },
      "name": null
    },
    "name": "RunnableSequence",
    "graph": {
      "nodes": [
        {
          "id": 0,
          "type": "schema",
          "data": {
            "title": "PromptInput",
            "type": "object",
            "properties": {
              "question": {
                "title": "Question",
                "type": "string"
              }
            }
          }
        },
        {
          "id": 1,
          "type": "runnable",
          "data": {
            "id": [
              "langchain",
              "prompts",
              "chat",
              "ChatPromptTemplate"
            ],
            "name": "ChatPromptTemplate"
          }
        },
        {
          "id": 2,
          "type": "runnable",
          "data": {
            "id": [
              "langchain_core",
              "runnables",
              "base",
              "RunnableLambda"
            ],
            "name": "RunnableLambda"
          }
        },
        {
          "id": 3,
          "type": "schema",
          "data": {
            "title": "RunnableParallel<chat,llm,passthrough>Input",
            "type": "object",
            "properties": {}
          }
        },
        {
          "id": 4,
          "type": "schema",
          "data": {
            "title": "RunnableParallel<chat,llm,passthrough>Output",
            "type": "object",
            "properties": {
              "chat": {
                "title": "Chat",
                "anyOf": [
                  {
                    "$ref": "#/definitions/AIMessage"
                  },
                  {
                    "$ref": "#/definitions/HumanMessage"
                  },
                  {
                    "$ref": "#/definitions/ChatMessage"
                  },
                  {
                    "$ref": "#/definitions/SystemMessage"
                  },
                  {
                    "$ref": "#/definitions/FunctionMessage"
                  },
                  {
                    "$ref": "#/definitions/ToolMessage"
                  }
                ]
              },
              "llm": {
                "title": "Llm",
                "type": "string"
              },
              "passthrough": {
                "title": "Passthrough"
              }
            },
            "definitions": {
              "AIMessage": {
                "title": "AIMessage",
                "description": "Message from an AI.",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "ai",
                    "enum": [
                      "ai"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  },
                  "example": {
                    "title": "Example",
                    "default": false,
                    "type": "boolean"
                  }
                },
                "required": [
                  "content"
                ]
              },
              "HumanMessage": {
                "title": "HumanMessage",
                "description": "Message from a human.",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "human",
                    "enum": [
                      "human"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  },
                  "example": {
                    "title": "Example",
                    "default": false,
                    "type": "boolean"
                  }
                },
                "required": [
                  "content"
                ]
              },
              "ChatMessage": {
                "title": "ChatMessage",
                "description": "Message that can be assigned an arbitrary speaker (i.e. role).",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "chat",
                    "enum": [
                      "chat"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  },
                  "role": {
                    "title": "Role",
                    "type": "string"
                  }
                },
                "required": [
                  "content",
                  "role"
                ]
              },
              "SystemMessage": {
                "title": "SystemMessage",
                "description": "Message for priming AI behavior, usually passed in as the first of a sequence\nof input messages.",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "system",
                    "enum": [
                      "system"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  }
                },
                "required": [
                  "content"
                ]
              },
              "FunctionMessage": {
                "title": "FunctionMessage",
                "description": "Message for passing the result of executing a function back to a model.",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "function",
                    "enum": [
                      "function"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  }
                },
                "required": [
                  "content",
                  "name"
                ]
              },
              "ToolMessage": {
                "title": "ToolMessage",
                "description": "Message for passing the result of executing a tool back to a model.",
                "type": "object",
                "properties": {
                  "content": {
                    "title": "Content",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "object"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "additional_kwargs": {
                    "title": "Additional Kwargs",
                    "type": "object"
                  },
                  "type": {
                    "title": "Type",
                    "default": "tool",
                    "enum": [
                      "tool"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "type": "string"
                  },
                  "tool_call_id": {
                    "title": "Tool Call Id",
                    "type": "string"
                  }
                },
                "required": [
                  "content",
                  "tool_call_id"
                ]
              }
            }
          }
        },
        {
          "id": 5,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "fake",
              "chat_model",
              "FakeListChatModel"
            ],
            "name": "FakeListChatModel"
          }
        },
        {
          "id": 6,
          "type": "runnable",
          "data": {
            "id": [
              "tests",
              "unit_tests",
              "fake",
              "llm",
              "FakeListLLM"
            ],
            "name": "FakeListLLM"
          }
        },
        {
          "id": 7,
          "type": "runnable",
          "data": {
            "id": [
              "langchain_core",
              "runnables",
              "base",
              "RunnableLambda"
            ],
            "name": "RunnableLambda"
          }
        }
      ],
      "edges": [
        {
          "source": 0,
          "target": 1
        },
        {
          "source": 1,
          "target": 2
        },
        {
          "source": 3,
          "target": 5
        },
        {
          "source": 5,
          "target": 4
        },
        {
          "source": 3,
          "target": 6
        },
        {
          "source": 6,
          "target": 4
        },
        {
          "source": 3,
          "target": 7
        },
        {
          "source": 7,
          "target": 4
        },
        {
          "source": 2,
          "target": 3
        }
      ]
    }
  }
  '''
# ---
