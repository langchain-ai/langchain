[
  {
    "name": "Scenario: NO return_direct, NO response_format",
    "returnDirect": false,
    "responseFormat": null,
    "expectedToolCalls": 10,
    "expectedLastMessage": "Attempts: 10",
    "expectedStructuredResponse": null
  },
  {
    "name": "Scenario: NO return_direct, YES response_format",
    "returnDirect": false,
    "responseFormat": {
      "type": "object",
      "properties": {
        "attempts": { "type": "number" },
        "succeeded": { "type": "boolean" }
      },
      "required": ["attempts", "succeeded"]
    },
    "expectedToolCalls": 10,
    "expectedLastMessage": "Returning structured response: {'attempts': 10, 'succeeded': True}",
    "expectedStructuredResponse": { "attempts": 10, "succeeded": true }
  },
  {
    "name": "Scenario: YES return_direct, NO response_format",
    "returnDirect": true,
    "responseFormat": null,
    "expectedToolCalls": 1,
    "expectedLastMessage": "{\"status\": \"pending\", \"attempts\": 1}",
    "expectedStructuredResponse": null
  },
  {
    "name": "Scenario: YES return_direct, YES response_format",
    "returnDirect": true,
    "responseFormat": {
      "type": "object",
      "properties": {
        "attempts": { "type": "number" },
        "succeeded": { "type": "boolean" }
      },
      "required": ["attempts", "succeeded"]
    },
    "expectedToolCalls": 1,
    "expectedLastMessage": "{\"status\": \"pending\", \"attempts\": 1}",
    "expectedStructuredResponse": null
  }
]