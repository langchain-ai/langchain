# TrueFoundry

[TrueFoundry](https://www.truefoundry.com/ai-gateway) is a comprehensive ML Engineering platform that provides LLM deployment, tracing, and observability capabilities. With its advanced tracing infrastructure, TrueFoundry enables teams to monitor, debug, and optimize their LangChain applications in production.

## LLM Tracing for LangChain

TrueFoundry brings production readiness to LangChain. With TrueFoundry, you can:

- [x] **Connect to multiple LLM providers** through a unified API
- [x] **Deploy and serve models** with automatic scaling
- [x] **Monitor and trace** all LLM interactions
- [x] **Track costs and performance** across different models
- [x] **Implement fallbacks and retries** for production reliability

## Quickstart - TrueFoundry & LangChain

TrueFoundry is compatible with the OpenAI signature, so you can connect to TrueFoundry's unified LLM gateway through the `ChatOpenAI` interface.

- Set the `base_url` to your TrueFoundry endpoint
- Set the `api_key` to your TrueFoundry [PAT (Personal Access Token)](https://docs.truefoundry.com/gateway/authentication#personal-access-token-pat)
- Use TrueFoundry model names in the format `provider-main/model-name`

### Installation

```bash
pip install langchain-openai
```

### Basic Setup

Connect to TrueFoundry by updating the `ChatOpenAI` model in LangChain:

```python
from langchain_openai import ChatOpenAI

TRUEFOUNDRY_PAT = "..."  # Your TrueFoundry Personal Access Token
TRUEFOUNDRY_BASE_URL = "..."  # Your TrueFoundry unified endpoint

llm = ChatOpenAI(
    api_key=TRUEFOUNDRY_PAT,
    base_url=TRUEFOUNDRY_BASE_URL,
    model="openai-main/gpt-4o"
)

llm.invoke("What is the meaning of life, universe and everything?")
```

The request is routed through your TrueFoundry gateway to the specified model provider. TrueFoundry automatically handles authentication, load balancing, and logging.

### Using Different Models

TrueFoundry supports multiple LLM providers through model names in the format `provider-main/model-name`:

```python
from langchain_openai import ChatOpenAI

# OpenAI GPT-4o
llm_openai = ChatOpenAI(
    api_key=TRUEFOUNDRY_PAT,
    base_url=TRUEFOUNDRY_BASE_URL,
    model="openai-main/gpt-4o"
)

# Anthropic Claude
llm_anthropic = ChatOpenAI(
    api_key=TRUEFOUNDRY_PAT,
    base_url=TRUEFOUNDRY_BASE_URL,
    model="anthropic-main/claude-3-sonnet-20240229"
)

# Use either model with the same interface
response = llm_openai.invoke("Hello from OpenAI!")
response = llm_anthropic.invoke("Hello from Anthropic!")
```

### LangGraph Integration

TrueFoundry works seamlessly with LangGraph:

```python
from langchain_openai import ChatOpenAI
from langgraph.graph import StateGraph, MessagesState
from langchain_core.messages import HumanMessage

# Define your LangGraph workflow
def call_model(state: MessagesState):
    model = ChatOpenAI(
        api_key=TRUEFOUNDRY_PAT,
        base_url=TRUEFOUNDRY_BASE_URL,
        model="openai-main/gpt-4o"
    )
    response = model.invoke(state["messages"])
    return {"messages": [response]}

# Build workflow
workflow = StateGraph(MessagesState)
workflow.add_node("agent", call_model)
workflow.set_entry_point("agent")
workflow.set_finish_point("agent")

app = workflow.compile()

# Run agent through TrueFoundry
result = app.invoke({"messages": [HumanMessage(content="Hello!")]})
```

## Environment Variables

Set up your environment variables:

```bash
# TrueFoundry Configuration
TRUEFOUNDRY_PAT=your_personal_access_token
TRUEFOUNDRY_BASE_URL=https://your-truefoundry-endpoint.com
```

## Monitoring and Observability

All requests made through TrueFoundry are automatically:

- **Logged** with detailed request/response information
- **Traced** across your application components
- **Monitored** for performance and costs
- **Analyzed** for usage patterns and optimization

Access your monitoring dashboard through the TrueFoundry platform to view:
- Request logs and traces
- Performance metrics
- Cost breakdown by model
- Error rates and debugging information



## Additional Resources

- [TrueFoundry Documentation](https://docs.truefoundry.com/)
- [Tracing Guide](https://docs.truefoundry.com/docs/tracing/getting-started)
- [LangGraph Tracing Tutorial](https://docs.truefoundry.com/docs/tracing/tracing-in-langgraph)
- [API Reference](https://docs.truefoundry.com/docs/api-reference)

## Support

For questions, issues, or support:

- **Email**: [support@truefoundry.com](mailto:support@truefoundry.com)
- **Documentation**: [https://docs.truefoundry.com/](https://docs.truefoundry.com/)
- **Contact**: [TrueFoundry Contact Page](https://truefoundry.com/contact)
